(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();/**
* @vue/shared v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function qr(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Ae={},Vs=[],_t=()=>{},Ud=()=>!1,Co=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),zr=t=>t.startsWith("onUpdate:"),Le=Object.assign,Wr=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},jd=Object.prototype.hasOwnProperty,Ce=(t,e)=>jd.call(t,e),ae=Array.isArray,Hs=t=>Pn(t)==="[object Map]",Qs=t=>Pn(t)==="[object Set]",wa=t=>Pn(t)==="[object Date]",fe=t=>typeof t=="function",Me=t=>typeof t=="string",wt=t=>typeof t=="symbol",Ie=t=>t!==null&&typeof t=="object",Zi=t=>(Ie(t)||fe(t))&&fe(t.then)&&fe(t.catch),el=Object.prototype.toString,Pn=t=>el.call(t),Bd=t=>Pn(t).slice(8,-1),tl=t=>Pn(t)==="[object Object]",Gr=t=>Me(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,dn=qr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Eo=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Fd=/-(\w)/g,mt=Eo(t=>t.replace(Fd,(e,n)=>n?n.toUpperCase():"")),Vd=/\B([A-Z])/g,hs=Eo(t=>t.replace(Vd,"-$1").toLowerCase()),ko=Eo(t=>t.charAt(0).toUpperCase()+t.slice(1)),Gn=Eo(t=>t?`on${ko(t)}`:""),us=(t,e)=>!Object.is(t,e),Kn=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},gr=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},oo=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Hd=t=>{const e=Me(t)?Number(t):NaN;return isNaN(e)?t:e};let Ca;const So=()=>Ca||(Ca=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function gs(t){if(ae(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=Me(s)?Gd(s):gs(s);if(r)for(const a in r)e[a]=r[a]}return e}else if(Me(t)||Ie(t))return t}const qd=/;(?![^(]*\))/g,zd=/:([^]+)/,Wd=/\/\*[^]*?\*\//g;function Gd(t){const e={};return t.replace(Wd,"").split(qd).forEach(n=>{if(n){const s=n.split(zd);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function ee(t){let e="";if(Me(t))e=t;else if(ae(t))for(let n=0;n<t.length;n++){const s=ee(t[n]);s&&(e+=s+" ")}else if(Ie(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Kd="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Yd=qr(Kd);function sl(t){return!!t||t===""}function Xd(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=Dn(t[s],e[s]);return n}function Dn(t,e){if(t===e)return!0;let n=wa(t),s=wa(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=wt(t),s=wt(e),n||s)return t===e;if(n=ae(t),s=ae(e),n||s)return n&&s?Xd(t,e):!1;if(n=Ie(t),s=Ie(e),n||s){if(!n||!s)return!1;const r=Object.keys(t).length,a=Object.keys(e).length;if(r!==a)return!1;for(const i in t){const l=t.hasOwnProperty(i),c=e.hasOwnProperty(i);if(l&&!c||!l&&c||!Dn(t[i],e[i]))return!1}}return String(t)===String(e)}function Kr(t,e){return t.findIndex(n=>Dn(n,e))}const nl=t=>!!(t&&t.__v_isRef===!0),h=t=>Me(t)?t:t==null?"":ae(t)||Ie(t)&&(t.toString===el||!fe(t.toString))?nl(t)?h(t.value):JSON.stringify(t,ol,2):String(t),ol=(t,e)=>nl(e)?ol(t,e.value):Hs(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r],a)=>(n[Jo(s,a)+" =>"]=r,n),{})}:Qs(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Jo(n))}:wt(e)?Jo(e):Ie(e)&&!ae(e)&&!tl(e)?String(e):e,Jo=(t,e="")=>{var n;return wt(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let qe;class rl{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=qe,!e&&qe&&(this.index=(qe.scopes||(qe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=qe;try{return qe=this,e()}finally{qe=n}}}on(){++this._on===1&&(this.prevScope=qe,qe=this)}off(){this._on>0&&--this._on===0&&(qe=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function al(t){return new rl(t)}function il(){return qe}function Jd(t,e=!1){qe&&qe.cleanups.push(t)}let Pe;const Qo=new WeakSet;class ll{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,qe&&qe.active&&qe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Qo.has(this)&&(Qo.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||dl(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ea(this),ul(this);const e=Pe,n=bt;Pe=this,bt=!0;try{return this.fn()}finally{fl(this),Pe=e,bt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Jr(e);this.deps=this.depsTail=void 0,Ea(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Qo.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){vr(this)&&this.run()}get dirty(){return vr(this)}}let cl=0,un,fn;function dl(t,e=!1){if(t.flags|=8,e){t.next=fn,fn=t;return}t.next=un,un=t}function Yr(){cl++}function Xr(){if(--cl>0)return;if(fn){let e=fn;for(fn=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;un;){let e=un;for(un=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function ul(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function fl(t){let e,n=t.depsTail,s=n;for(;s;){const r=s.prevDep;s.version===-1?(s===n&&(n=r),Jr(s),Qd(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}t.deps=e,t.depsTail=n}function vr(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(ml(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function ml(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===_n)||(t.globalVersion=_n,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!vr(t))))return;t.flags|=2;const e=t.dep,n=Pe,s=bt;Pe=t,bt=!0;try{ul(t);const r=t.fn(t._value);(e.version===0||us(r,t._value))&&(t.flags|=128,t._value=r,e.version++)}catch(r){throw e.version++,r}finally{Pe=n,bt=s,fl(t),t.flags&=-3}}function Jr(t,e=!1){const{dep:n,prevSub:s,nextSub:r}=t;if(s&&(s.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let a=n.computed.deps;a;a=a.nextDep)Jr(a,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function Qd(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let bt=!0;const pl=[];function Yt(){pl.push(bt),bt=!1}function Xt(){const t=pl.pop();bt=t===void 0?!0:t}function Ea(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Pe;Pe=void 0;try{e()}finally{Pe=n}}}let _n=0;class Zd{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Qr{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Pe||!bt||Pe===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Pe)n=this.activeLink=new Zd(Pe,this),Pe.deps?(n.prevDep=Pe.depsTail,Pe.depsTail.nextDep=n,Pe.depsTail=n):Pe.deps=Pe.depsTail=n,hl(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=Pe.depsTail,n.nextDep=void 0,Pe.depsTail.nextDep=n,Pe.depsTail=n,Pe.deps===n&&(Pe.deps=s)}return n}trigger(e){this.version++,_n++,this.notify(e)}notify(e){Yr();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Xr()}}}function hl(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)hl(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const ro=new WeakMap,ks=Symbol(""),yr=Symbol(""),bn=Symbol("");function ze(t,e,n){if(bt&&Pe){let s=ro.get(t);s||ro.set(t,s=new Map);let r=s.get(n);r||(s.set(n,r=new Qr),r.map=s,r.key=n),r.track()}}function qt(t,e,n,s,r,a){const i=ro.get(t);if(!i){_n++;return}const l=c=>{c&&c.trigger()};if(Yr(),e==="clear")i.forEach(l);else{const c=ae(t),d=c&&Gr(n);if(c&&n==="length"){const u=Number(s);i.forEach((f,m)=>{(m==="length"||m===bn||!wt(m)&&m>=u)&&l(f)})}else switch((n!==void 0||i.has(void 0))&&l(i.get(n)),d&&l(i.get(bn)),e){case"add":c?d&&l(i.get("length")):(l(i.get(ks)),Hs(t)&&l(i.get(yr)));break;case"delete":c||(l(i.get(ks)),Hs(t)&&l(i.get(yr)));break;case"set":Hs(t)&&l(i.get(ks));break}}Xr()}function eu(t,e){const n=ro.get(t);return n&&n.get(e)}function Os(t){const e=ye(t);return e===t?e:(ze(e,"iterate",bn),ut(t)?e:e.map(Fe))}function Ao(t){return ze(t=ye(t),"iterate",bn),t}const tu={__proto__:null,[Symbol.iterator](){return Zo(this,Symbol.iterator,Fe)},concat(...t){return Os(this).concat(...t.map(e=>ae(e)?Os(e):e))},entries(){return Zo(this,"entries",t=>(t[1]=Fe(t[1]),t))},every(t,e){return Ft(this,"every",t,e,void 0,arguments)},filter(t,e){return Ft(this,"filter",t,e,n=>n.map(Fe),arguments)},find(t,e){return Ft(this,"find",t,e,Fe,arguments)},findIndex(t,e){return Ft(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Ft(this,"findLast",t,e,Fe,arguments)},findLastIndex(t,e){return Ft(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Ft(this,"forEach",t,e,void 0,arguments)},includes(...t){return er(this,"includes",t)},indexOf(...t){return er(this,"indexOf",t)},join(t){return Os(this).join(t)},lastIndexOf(...t){return er(this,"lastIndexOf",t)},map(t,e){return Ft(this,"map",t,e,void 0,arguments)},pop(){return nn(this,"pop")},push(...t){return nn(this,"push",t)},reduce(t,...e){return ka(this,"reduce",t,e)},reduceRight(t,...e){return ka(this,"reduceRight",t,e)},shift(){return nn(this,"shift")},some(t,e){return Ft(this,"some",t,e,void 0,arguments)},splice(...t){return nn(this,"splice",t)},toReversed(){return Os(this).toReversed()},toSorted(t){return Os(this).toSorted(t)},toSpliced(...t){return Os(this).toSpliced(...t)},unshift(...t){return nn(this,"unshift",t)},values(){return Zo(this,"values",Fe)}};function Zo(t,e,n){const s=Ao(t),r=s[e]();return s!==t&&!ut(t)&&(r._next=r.next,r.next=()=>{const a=r._next();return a.value&&(a.value=n(a.value)),a}),r}const su=Array.prototype;function Ft(t,e,n,s,r,a){const i=Ao(t),l=i!==t&&!ut(t),c=i[e];if(c!==su[e]){const f=c.apply(t,a);return l?Fe(f):f}let d=n;i!==t&&(l?d=function(f,m){return n.call(this,Fe(f),m,t)}:n.length>2&&(d=function(f,m){return n.call(this,f,m,t)}));const u=c.call(i,d,s);return l&&r?r(u):u}function ka(t,e,n,s){const r=Ao(t);let a=n;return r!==t&&(ut(t)?n.length>3&&(a=function(i,l,c){return n.call(this,i,l,c,t)}):a=function(i,l,c){return n.call(this,i,Fe(l),c,t)}),r[e](a,...s)}function er(t,e,n){const s=ye(t);ze(s,"iterate",bn);const r=s[e](...n);return(r===-1||r===!1)&&ta(n[0])?(n[0]=ye(n[0]),s[e](...n)):r}function nn(t,e,n=[]){Yt(),Yr();const s=ye(t)[e].apply(t,n);return Xr(),Xt(),s}const nu=qr("__proto__,__v_isRef,__isVue"),gl=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(wt));function ou(t){wt(t)||(t=String(t));const e=ye(this);return ze(e,"has",t),e.hasOwnProperty(t)}class vl{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const r=this._isReadonly,a=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return a;if(n==="__v_raw")return s===(r?a?pu:xl:a?bl:_l).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const i=ae(e);if(!r){let c;if(i&&(c=tu[n]))return c;if(n==="hasOwnProperty")return ou}const l=Reflect.get(e,n,Oe(e)?e:s);return(wt(n)?gl.has(n):nu(n))||(r||ze(e,"get",n),a)?l:Oe(l)?i&&Gr(n)?l:l.value:Ie(l)?r?Cl(l):pt(l):l}}class yl extends vl{constructor(e=!1){super(!1,e)}set(e,n,s,r){let a=e[n];if(!this._isShallow){const c=ps(a);if(!ut(s)&&!ps(s)&&(a=ye(a),s=ye(s)),!ae(e)&&Oe(a)&&!Oe(s))return c?!1:(a.value=s,!0)}const i=ae(e)&&Gr(n)?Number(n)<e.length:Ce(e,n),l=Reflect.set(e,n,s,Oe(e)?e:r);return e===ye(r)&&(i?us(s,a)&&qt(e,"set",n,s):qt(e,"add",n,s)),l}deleteProperty(e,n){const s=Ce(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&s&&qt(e,"delete",n,void 0),r}has(e,n){const s=Reflect.has(e,n);return(!wt(n)||!gl.has(n))&&ze(e,"has",n),s}ownKeys(e){return ze(e,"iterate",ae(e)?"length":ks),Reflect.ownKeys(e)}}class ru extends vl{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const au=new yl,iu=new ru,lu=new yl(!0);const _r=t=>t,Hn=t=>Reflect.getPrototypeOf(t);function cu(t,e,n){return function(...s){const r=this.__v_raw,a=ye(r),i=Hs(a),l=t==="entries"||t===Symbol.iterator&&i,c=t==="keys"&&i,d=r[t](...s),u=n?_r:e?ao:Fe;return!e&&ze(a,"iterate",c?yr:ks),{next(){const{value:f,done:m}=d.next();return m?{value:f,done:m}:{value:l?[u(f[0]),u(f[1])]:u(f),done:m}},[Symbol.iterator](){return this}}}}function qn(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function du(t,e){const n={get(r){const a=this.__v_raw,i=ye(a),l=ye(r);t||(us(r,l)&&ze(i,"get",r),ze(i,"get",l));const{has:c}=Hn(i),d=e?_r:t?ao:Fe;if(c.call(i,r))return d(a.get(r));if(c.call(i,l))return d(a.get(l));a!==i&&a.get(r)},get size(){const r=this.__v_raw;return!t&&ze(ye(r),"iterate",ks),Reflect.get(r,"size",r)},has(r){const a=this.__v_raw,i=ye(a),l=ye(r);return t||(us(r,l)&&ze(i,"has",r),ze(i,"has",l)),r===l?a.has(r):a.has(r)||a.has(l)},forEach(r,a){const i=this,l=i.__v_raw,c=ye(l),d=e?_r:t?ao:Fe;return!t&&ze(c,"iterate",ks),l.forEach((u,f)=>r.call(a,d(u),d(f),i))}};return Le(n,t?{add:qn("add"),set:qn("set"),delete:qn("delete"),clear:qn("clear")}:{add(r){!e&&!ut(r)&&!ps(r)&&(r=ye(r));const a=ye(this);return Hn(a).has.call(a,r)||(a.add(r),qt(a,"add",r,r)),this},set(r,a){!e&&!ut(a)&&!ps(a)&&(a=ye(a));const i=ye(this),{has:l,get:c}=Hn(i);let d=l.call(i,r);d||(r=ye(r),d=l.call(i,r));const u=c.call(i,r);return i.set(r,a),d?us(a,u)&&qt(i,"set",r,a):qt(i,"add",r,a),this},delete(r){const a=ye(this),{has:i,get:l}=Hn(a);let c=i.call(a,r);c||(r=ye(r),c=i.call(a,r)),l&&l.call(a,r);const d=a.delete(r);return c&&qt(a,"delete",r,void 0),d},clear(){const r=ye(this),a=r.size!==0,i=r.clear();return a&&qt(r,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=cu(r,t,e)}),n}function Zr(t,e){const n=du(t,e);return(s,r,a)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(Ce(n,r)&&r in s?n:s,r,a)}const uu={get:Zr(!1,!1)},fu={get:Zr(!1,!0)},mu={get:Zr(!0,!1)};const _l=new WeakMap,bl=new WeakMap,xl=new WeakMap,pu=new WeakMap;function hu(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function gu(t){return t.__v_skip||!Object.isExtensible(t)?0:hu(Bd(t))}function pt(t){return ps(t)?t:ea(t,!1,au,uu,_l)}function wl(t){return ea(t,!1,lu,fu,bl)}function Cl(t){return ea(t,!0,iu,mu,xl)}function ea(t,e,n,s,r){if(!Ie(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const a=gu(t);if(a===0)return t;const i=r.get(t);if(i)return i;const l=new Proxy(t,a===2?s:n);return r.set(t,l),l}function fs(t){return ps(t)?fs(t.__v_raw):!!(t&&t.__v_isReactive)}function ps(t){return!!(t&&t.__v_isReadonly)}function ut(t){return!!(t&&t.__v_isShallow)}function ta(t){return t?!!t.__v_raw:!1}function ye(t){const e=t&&t.__v_raw;return e?ye(e):t}function sa(t){return!Ce(t,"__v_skip")&&Object.isExtensible(t)&&gr(t,"__v_skip",!0),t}const Fe=t=>Ie(t)?pt(t):t,ao=t=>Ie(t)?Cl(t):t;function Oe(t){return t?t.__v_isRef===!0:!1}function U(t){return El(t,!1)}function vu(t){return El(t,!0)}function El(t,e){return Oe(t)?t:new yu(t,e)}class yu{constructor(e,n){this.dep=new Qr,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:ye(e),this._value=n?e:Fe(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||ut(e)||ps(e);e=s?e:ye(e),us(e,n)&&(this._rawValue=e,this._value=s?e:Fe(e),this.dep.trigger())}}function ms(t){return Oe(t)?t.value:t}const _u={get:(t,e,n)=>e==="__v_raw"?t:ms(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return Oe(r)&&!Oe(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function kl(t){return fs(t)?t:new Proxy(t,_u)}function bu(t){const e=ae(t)?new Array(t.length):{};for(const n in t)e[n]=wu(t,n);return e}class xu{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return eu(ye(this._object),this._key)}}function wu(t,e,n){const s=t[e];return Oe(s)?s:new xu(t,e,n)}class Cu{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Qr(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=_n-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Pe!==this)return dl(this,!0),!0}get value(){const e=this.dep.track();return ml(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Eu(t,e,n=!1){let s,r;return fe(t)?s=t:(s=t.get,r=t.set),new Cu(s,r,n)}const zn={},io=new WeakMap;let bs;function ku(t,e=!1,n=bs){if(n){let s=io.get(n);s||io.set(n,s=[]),s.push(t)}}function Su(t,e,n=Ae){const{immediate:s,deep:r,once:a,scheduler:i,augmentJob:l,call:c}=n,d=E=>r?E:ut(E)||r===!1||r===0?zt(E,1):zt(E);let u,f,m,g,p=!1,v=!1;if(Oe(t)?(f=()=>t.value,p=ut(t)):fs(t)?(f=()=>d(t),p=!0):ae(t)?(v=!0,p=t.some(E=>fs(E)||ut(E)),f=()=>t.map(E=>{if(Oe(E))return E.value;if(fs(E))return d(E);if(fe(E))return c?c(E,2):E()})):fe(t)?e?f=c?()=>c(t,2):t:f=()=>{if(m){Yt();try{m()}finally{Xt()}}const E=bs;bs=u;try{return c?c(t,3,[g]):t(g)}finally{bs=E}}:f=_t,e&&r){const E=f,A=r===!0?1/0:r;f=()=>zt(E(),A)}const x=il(),C=()=>{u.stop(),x&&x.active&&Wr(x.effects,u)};if(a&&e){const E=e;e=(...A)=>{E(...A),C()}}let S=v?new Array(t.length).fill(zn):zn;const B=E=>{if(!(!(u.flags&1)||!u.dirty&&!E))if(e){const A=u.run();if(r||p||(v?A.some((k,T)=>us(k,S[T])):us(A,S))){m&&m();const k=bs;bs=u;try{const T=[A,S===zn?void 0:v&&S[0]===zn?[]:S,g];S=A,c?c(e,3,T):e(...T)}finally{bs=k}}}else u.run()};return l&&l(B),u=new ll(f),u.scheduler=i?()=>i(B,!1):B,g=E=>ku(E,!1,u),m=u.onStop=()=>{const E=io.get(u);if(E){if(c)c(E,4);else for(const A of E)A();io.delete(u)}},e?s?B(!0):S=u.run():i?i(B.bind(null,!0),!0):u.run(),C.pause=u.pause.bind(u),C.resume=u.resume.bind(u),C.stop=C,C}function zt(t,e=1/0,n){if(e<=0||!Ie(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Oe(t))zt(t.value,e,n);else if(ae(t))for(let s=0;s<t.length;s++)zt(t[s],e,n);else if(Qs(t)||Hs(t))t.forEach(s=>{zt(s,e,n)});else if(tl(t)){for(const s in t)zt(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&zt(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function $n(t,e,n,s){try{return s?t(...s):t()}catch(r){Ro(r,e,n)}}function Ct(t,e,n,s){if(fe(t)){const r=$n(t,e,n,s);return r&&Zi(r)&&r.catch(a=>{Ro(a,e,n)}),r}if(ae(t)){const r=[];for(let a=0;a<t.length;a++)r.push(Ct(t[a],e,n,s));return r}}function Ro(t,e,n,s=!0){const r=e?e.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:i}=e&&e.appContext.config||Ae;if(e){let l=e.parent;const c=e.proxy,d=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const u=l.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](t,c,d)===!1)return}l=l.parent}if(a){Yt(),$n(a,null,10,[t,c,d]),Xt();return}}Au(t,n,r,s,i)}function Au(t,e,n,s=!0,r=!1){if(r)throw t;console.error(t)}const Xe=[];let Dt=-1;const qs=[];let is=null,js=0;const Sl=Promise.resolve();let lo=null;function Zs(t){const e=lo||Sl;return t?e.then(this?t.bind(this):t):e}function Ru(t){let e=Dt+1,n=Xe.length;for(;e<n;){const s=e+n>>>1,r=Xe[s],a=xn(r);a<t||a===t&&r.flags&2?e=s+1:n=s}return e}function na(t){if(!(t.flags&1)){const e=xn(t),n=Xe[Xe.length-1];!n||!(t.flags&2)&&e>=xn(n)?Xe.push(t):Xe.splice(Ru(e),0,t),t.flags|=1,Al()}}function Al(){lo||(lo=Sl.then(Il))}function Iu(t){ae(t)?qs.push(...t):is&&t.id===-1?is.splice(js+1,0,t):t.flags&1||(qs.push(t),t.flags|=1),Al()}function Sa(t,e,n=Dt+1){for(;n<Xe.length;n++){const s=Xe[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;Xe.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Rl(t){if(qs.length){const e=[...new Set(qs)].sort((n,s)=>xn(n)-xn(s));if(qs.length=0,is){is.push(...e);return}for(is=e,js=0;js<is.length;js++){const n=is[js];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}is=null,js=0}}const xn=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Il(t){const e=_t;try{for(Dt=0;Dt<Xe.length;Dt++){const n=Xe[Dt];n&&!(n.flags&8)&&(n.flags&4&&(n.flags&=-2),$n(n,n.i,n.i?15:14),n.flags&4||(n.flags&=-2))}}finally{for(;Dt<Xe.length;Dt++){const n=Xe[Dt];n&&(n.flags&=-2)}Dt=-1,Xe.length=0,Rl(),lo=null,(Xe.length||qs.length)&&Il()}}let Ve=null,Tl=null;function co(t){const e=Ve;return Ve=t,Tl=t&&t.type.__scopeId||null,e}function ht(t,e=Ve,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&Oa(-1);const a=co(e);let i;try{i=t(...r)}finally{co(a),s._d&&Oa(1)}return i};return s._n=!0,s._c=!0,s._d=!0,s}function Y(t,e){if(Ve===null)return t;const n=Mo(Ve),s=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[a,i,l,c=Ae]=e[r];a&&(fe(a)&&(a={mounted:a,updated:a}),a.deep&&zt(i),s.push({dir:a,instance:n,value:i,oldValue:void 0,arg:l,modifiers:c}))}return t}function vs(t,e,n,s){const r=t.dirs,a=e&&e.dirs;for(let i=0;i<r.length;i++){const l=r[i];a&&(l.oldValue=a[i].value);let c=l.dir[s];c&&(Yt(),Ct(c,n,8,[t.el,l,t,e]),Xt())}}const Tu=Symbol("_vte"),Pu=t=>t.__isTeleport,Ns=Symbol("_leaveCb"),Wn=Symbol("_enterCb");function Du(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return je(()=>{t.isMounted=!0}),Nl(()=>{t.isUnmounting=!0}),t}const ct=[Function,Array],$u={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ct,onEnter:ct,onAfterEnter:ct,onEnterCancelled:ct,onBeforeLeave:ct,onLeave:ct,onAfterLeave:ct,onLeaveCancelled:ct,onBeforeAppear:ct,onAppear:ct,onAfterAppear:ct,onAppearCancelled:ct};function Mu(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function br(t,e,n,s,r){const{appear:a,mode:i,persisted:l=!1,onBeforeEnter:c,onEnter:d,onAfterEnter:u,onEnterCancelled:f,onBeforeLeave:m,onLeave:g,onAfterLeave:p,onLeaveCancelled:v,onBeforeAppear:x,onAppear:C,onAfterAppear:S,onAppearCancelled:B}=e,E=String(t.key),A=Mu(n,t),k=(L,D)=>{L&&Ct(L,s,9,D)},T=(L,D)=>{const W=D[1];k(L,D),ae(L)?L.every(q=>q.length<=1)&&W():L.length<=1&&W()},M={mode:i,persisted:l,beforeEnter(L){let D=c;if(!n.isMounted)if(a)D=x||c;else return;L[Ns]&&L[Ns](!0);const W=A[E];W&&Bs(t,W)&&W.el[Ns]&&W.el[Ns](),k(D,[L])},enter(L){let D=d,W=u,q=f;if(!n.isMounted)if(a)D=C||d,W=S||u,q=B||f;else return;let se=!1;const ce=L[Wn]=te=>{se||(se=!0,te?k(q,[L]):k(W,[L]),M.delayedLeave&&M.delayedLeave(),L[Wn]=void 0)};D?T(D,[L,ce]):ce()},leave(L,D){const W=String(t.key);if(L[Wn]&&L[Wn](!0),n.isUnmounting)return D();k(m,[L]);let q=!1;const se=L[Ns]=ce=>{q||(q=!0,D(),ce?k(v,[L]):k(p,[L]),L[Ns]=void 0,A[W]===t&&delete A[W])};A[W]=t,g?T(g,[L,se]):se()},clone(L){const D=br(L,e,n,s,r);return r&&r(D),D}};return M}function wn(t,e){t.shapeFlag&6&&t.component?(t.transition=e,wn(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Pl(t,e=!1,n){let s=[],r=0;for(let a=0;a<t.length;a++){let i=t[a];const l=n==null?i.key:String(n)+String(i.key!=null?i.key:a);i.type===he?(i.patchFlag&128&&r++,s=s.concat(Pl(i.children,e,l))):(e||i.type!==Lt)&&s.push(l!=null?Rs(i,{key:l}):i)}if(r>1)for(let a=0;a<s.length;a++)s[a].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function Jt(t,e){return fe(t)?(()=>Le({name:t.name},e,{setup:t}))():t}function Dl(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function mn(t,e,n,s,r=!1){if(ae(t)){t.forEach((p,v)=>mn(p,e&&(ae(e)?e[v]:e),n,s,r));return}if(zs(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&mn(t,e,n,s.component.subTree);return}const a=s.shapeFlag&4?Mo(s.component):s.el,i=r?null:a,{i:l,r:c}=t,d=e&&e.r,u=l.refs===Ae?l.refs={}:l.refs,f=l.setupState,m=ye(f),g=f===Ae?()=>!1:p=>Ce(m,p);if(d!=null&&d!==c&&(Me(d)?(u[d]=null,g(d)&&(f[d]=null)):Oe(d)&&(d.value=null)),fe(c))$n(c,l,12,[i,u]);else{const p=Me(c),v=Oe(c);if(p||v){const x=()=>{if(t.f){const C=p?g(c)?f[c]:u[c]:c.value;r?ae(C)&&Wr(C,a):ae(C)?C.includes(a)||C.push(a):p?(u[c]=[a],g(c)&&(f[c]=u[c])):(c.value=[a],t.k&&(u[t.k]=c.value))}else p?(u[c]=i,g(c)&&(f[c]=i)):v&&(c.value=i,t.k&&(u[t.k]=i))};i?(x.id=-1,nt(x,n)):x()}}}So().requestIdleCallback;So().cancelIdleCallback;const zs=t=>!!t.type.__asyncLoader,$l=t=>t.type.__isKeepAlive;function Ou(t,e){Ml(t,"a",e)}function Nu(t,e){Ml(t,"da",e)}function Ml(t,e,n=We){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(Io(e,s,n),n){let r=n.parent;for(;r&&r.parent;)$l(r.parent.vnode)&&Lu(s,e,n,r),r=r.parent}}function Lu(t,e,n,s){const r=Io(e,t,s,!0);Ll(()=>{Wr(s[e],r)},n)}function Io(t,e,n=We,s=!1){if(n){const r=n[t]||(n[t]=[]),a=e.__weh||(e.__weh=(...i)=>{Yt();const l=On(n),c=Ct(e,n,t,i);return l(),Xt(),c});return s?r.unshift(a):r.push(a),a}}const Qt=t=>(e,n=We)=>{(!kn||t==="sp")&&Io(t,(...s)=>e(...s),n)},Uu=Qt("bm"),je=Qt("m"),ju=Qt("bu"),Ol=Qt("u"),Nl=Qt("bum"),Ll=Qt("um"),Bu=Qt("sp"),Fu=Qt("rtg"),Vu=Qt("rtc");function Hu(t,e=We){Io("ec",t,e)}const oa="components";function $(t,e){return jl(oa,t,!0,e)||t}const Ul=Symbol.for("v-ndc");function Mn(t){return Me(t)?jl(oa,t,!1)||t:t||Ul}function jl(t,e,n=!0,s=!1){const r=Ve||We;if(r){const a=r.type;if(t===oa){const l=Df(a,!1);if(l&&(l===e||l===mt(e)||l===ko(mt(e))))return a}const i=Aa(r[t]||a[t],e)||Aa(r.appContext[t],e);return!i&&s?a:i}}function Aa(t,e){return t&&(t[e]||t[mt(e)]||t[ko(mt(e))])}function Re(t,e,n,s){let r;const a=n&&n[s],i=ae(t);if(i||Me(t)){const l=i&&fs(t);let c=!1,d=!1;l&&(c=!ut(t),d=ps(t),t=Ao(t)),r=new Array(t.length);for(let u=0,f=t.length;u<f;u++)r[u]=e(c?d?ao(Fe(t[u])):Fe(t[u]):t[u],u,void 0,a&&a[u])}else if(typeof t=="number"){r=new Array(t);for(let l=0;l<t;l++)r[l]=e(l+1,l,void 0,a&&a[l])}else if(Ie(t))if(t[Symbol.iterator])r=Array.from(t,(l,c)=>e(l,c,void 0,a&&a[c]));else{const l=Object.keys(t);r=new Array(l.length);for(let c=0,d=l.length;c<d;c++){const u=l[c];r[c]=e(t[u],u,c,a&&a[c])}}else r=[];return n&&(n[s]=r),r}function qu(t,e,n={},s,r){if(Ve.ce||Ve.parent&&zs(Ve.parent)&&Ve.parent.ce)return e!=="default"&&(n.name=e),y(),_e(he,null,[I("slot",n,s&&s())],64);let a=t[e];a&&a._c&&(a._d=!1),y();const i=a&&Bl(a(n)),l=n.key||i&&i.key,c=_e(he,{key:(l&&!wt(l)?l:`_${e}`)+(!i&&s?"_fb":"")},i||(s?s():[]),i&&t._===1?64:-2);return!r&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),a&&a._c&&(a._d=!0),c}function Bl(t){return t.some(e=>En(e)?!(e.type===Lt||e.type===he&&!Bl(e.children)):!0)?t:null}function zu(t,e){const n={};for(const s in t)n[e&&/[A-Z]/.test(s)?`on:${s}`:Gn(s)]=t[s];return n}const xr=t=>t?rc(t)?Mo(t):xr(t.parent):null,pn=Le(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>xr(t.parent),$root:t=>xr(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>ra(t),$forceUpdate:t=>t.f||(t.f=()=>{na(t.update)}),$nextTick:t=>t.n||(t.n=Zs.bind(t.proxy)),$watch:t=>pf.bind(t)}),tr=(t,e)=>t!==Ae&&!t.__isScriptSetup&&Ce(t,e),Wu={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:a,accessCache:i,type:l,appContext:c}=t;let d;if(e[0]!=="$"){const g=i[e];if(g!==void 0)switch(g){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return a[e]}else{if(tr(s,e))return i[e]=1,s[e];if(r!==Ae&&Ce(r,e))return i[e]=2,r[e];if((d=t.propsOptions[0])&&Ce(d,e))return i[e]=3,a[e];if(n!==Ae&&Ce(n,e))return i[e]=4,n[e];wr&&(i[e]=0)}}const u=pn[e];let f,m;if(u)return e==="$attrs"&&ze(t.attrs,"get",""),u(t);if((f=l.__cssModules)&&(f=f[e]))return f;if(n!==Ae&&Ce(n,e))return i[e]=4,n[e];if(m=c.config.globalProperties,Ce(m,e))return m[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:a}=t;return tr(r,e)?(r[e]=n,!0):s!==Ae&&Ce(s,e)?(s[e]=n,!0):Ce(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(a[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:a}},i){let l;return!!n[i]||t!==Ae&&Ce(t,i)||tr(e,i)||(l=a[0])&&Ce(l,i)||Ce(s,i)||Ce(pn,i)||Ce(r.config.globalProperties,i)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Ce(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Ra(t){return ae(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let wr=!0;function Gu(t){const e=ra(t),n=t.proxy,s=t.ctx;wr=!1,e.beforeCreate&&Ia(e.beforeCreate,t,"bc");const{data:r,computed:a,methods:i,watch:l,provide:c,inject:d,created:u,beforeMount:f,mounted:m,beforeUpdate:g,updated:p,activated:v,deactivated:x,beforeDestroy:C,beforeUnmount:S,destroyed:B,unmounted:E,render:A,renderTracked:k,renderTriggered:T,errorCaptured:M,serverPrefetch:L,expose:D,inheritAttrs:W,components:q,directives:se,filters:ce}=e;if(d&&Ku(d,s,null),i)for(const de in i){const be=i[de];fe(be)&&(s[de]=be.bind(n))}if(r){const de=r.call(n,n);Ie(de)&&(t.data=pt(de))}if(wr=!0,a)for(const de in a){const be=a[de],Bt=fe(be)?be.bind(n,n):fe(be.get)?be.get.bind(n,n):_t,ts=!fe(be)&&fe(be.set)?be.set.bind(n):_t,At=ne({get:Bt,set:ts});Object.defineProperty(s,de,{enumerable:!0,configurable:!0,get:()=>At.value,set:Qe=>At.value=Qe})}if(l)for(const de in l)Fl(l[de],s,n,de);if(c){const de=fe(c)?c.call(n):c;Reflect.ownKeys(de).forEach(be=>{Yn(be,de[be])})}u&&Ia(u,t,"c");function me(de,be){ae(be)?be.forEach(Bt=>de(Bt.bind(n))):be&&de(be.bind(n))}if(me(Uu,f),me(je,m),me(ju,g),me(Ol,p),me(Ou,v),me(Nu,x),me(Hu,M),me(Vu,k),me(Fu,T),me(Nl,S),me(Ll,E),me(Bu,L),ae(D))if(D.length){const de=t.exposed||(t.exposed={});D.forEach(be=>{Object.defineProperty(de,be,{get:()=>n[be],set:Bt=>n[be]=Bt,enumerable:!0})})}else t.exposed||(t.exposed={});A&&t.render===_t&&(t.render=A),W!=null&&(t.inheritAttrs=W),q&&(t.components=q),se&&(t.directives=se),L&&Dl(t)}function Ku(t,e,n=_t){ae(t)&&(t=Cr(t));for(const s in t){const r=t[s];let a;Ie(r)?"default"in r?a=ft(r.from||s,r.default,!0):a=ft(r.from||s):a=ft(r),Oe(a)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>a.value,set:i=>a.value=i}):e[s]=a}}function Ia(t,e,n){Ct(ae(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function Fl(t,e,n,s){let r=s.includes(".")?ec(n,s):()=>n[s];if(Me(t)){const a=e[t];fe(a)&&Wt(r,a)}else if(fe(t))Wt(r,t.bind(n));else if(Ie(t))if(ae(t))t.forEach(a=>Fl(a,e,n,s));else{const a=fe(t.handler)?t.handler.bind(n):e[t.handler];fe(a)&&Wt(r,a,t)}}function ra(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:a,config:{optionMergeStrategies:i}}=t.appContext,l=a.get(e);let c;return l?c=l:!r.length&&!n&&!s?c=e:(c={},r.length&&r.forEach(d=>uo(c,d,i,!0)),uo(c,e,i)),Ie(e)&&a.set(e,c),c}function uo(t,e,n,s=!1){const{mixins:r,extends:a}=e;a&&uo(t,a,n,!0),r&&r.forEach(i=>uo(t,i,n,!0));for(const i in e)if(!(s&&i==="expose")){const l=Yu[i]||n&&n[i];t[i]=l?l(t[i],e[i]):e[i]}return t}const Yu={data:Ta,props:Pa,emits:Pa,methods:ln,computed:ln,beforeCreate:Ye,created:Ye,beforeMount:Ye,mounted:Ye,beforeUpdate:Ye,updated:Ye,beforeDestroy:Ye,beforeUnmount:Ye,destroyed:Ye,unmounted:Ye,activated:Ye,deactivated:Ye,errorCaptured:Ye,serverPrefetch:Ye,components:ln,directives:ln,watch:Ju,provide:Ta,inject:Xu};function Ta(t,e){return e?t?function(){return Le(fe(t)?t.call(this,this):t,fe(e)?e.call(this,this):e)}:e:t}function Xu(t,e){return ln(Cr(t),Cr(e))}function Cr(t){if(ae(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Ye(t,e){return t?[...new Set([].concat(t,e))]:e}function ln(t,e){return t?Le(Object.create(null),t,e):e}function Pa(t,e){return t?ae(t)&&ae(e)?[...new Set([...t,...e])]:Le(Object.create(null),Ra(t),Ra(e??{})):e}function Ju(t,e){if(!t)return e;if(!e)return t;const n=Le(Object.create(null),t);for(const s in e)n[s]=Ye(t[s],e[s]);return n}function Vl(){return{app:null,config:{isNativeTag:Ud,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Qu=0;function Zu(t,e){return function(s,r=null){fe(s)||(s=Le({},s)),r!=null&&!Ie(r)&&(r=null);const a=Vl(),i=new WeakSet,l=[];let c=!1;const d=a.app={_uid:Qu++,_component:s,_props:r,_container:null,_context:a,_instance:null,version:Mf,get config(){return a.config},set config(u){},use(u,...f){return i.has(u)||(u&&fe(u.install)?(i.add(u),u.install(d,...f)):fe(u)&&(i.add(u),u(d,...f))),d},mixin(u){return a.mixins.includes(u)||a.mixins.push(u),d},component(u,f){return f?(a.components[u]=f,d):a.components[u]},directive(u,f){return f?(a.directives[u]=f,d):a.directives[u]},mount(u,f,m){if(!c){const g=d._ceVNode||I(s,r);return g.appContext=a,m===!0?m="svg":m===!1&&(m=void 0),f&&e?e(g,u):t(g,u,m),c=!0,d._container=u,u.__vue_app__=d,Mo(g.component)}},onUnmount(u){l.push(u)},unmount(){c&&(Ct(l,d._instance,16),t(null,d._container),delete d._container.__vue_app__)},provide(u,f){return a.provides[u]=f,d},runWithContext(u){const f=Ss;Ss=d;try{return u()}finally{Ss=f}}};return d}}let Ss=null;function Yn(t,e){if(We){let n=We.provides;const s=We.parent&&We.parent.provides;s===n&&(n=We.provides=Object.create(s)),n[t]=e}}function ft(t,e,n=!1){const s=$o();if(s||Ss){let r=Ss?Ss._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&fe(e)?e.call(s&&s.proxy):e}}function ef(){return!!($o()||Ss)}const Hl={},ql=()=>Object.create(Hl),zl=t=>Object.getPrototypeOf(t)===Hl;function tf(t,e,n,s=!1){const r={},a=ql();t.propsDefaults=Object.create(null),Wl(t,e,r,a);for(const i in t.propsOptions[0])i in r||(r[i]=void 0);n?t.props=s?r:wl(r):t.type.props?t.props=r:t.props=a,t.attrs=a}function sf(t,e,n,s){const{props:r,attrs:a,vnode:{patchFlag:i}}=t,l=ye(r),[c]=t.propsOptions;let d=!1;if((s||i>0)&&!(i&16)){if(i&8){const u=t.vnode.dynamicProps;for(let f=0;f<u.length;f++){let m=u[f];if(To(t.emitsOptions,m))continue;const g=e[m];if(c)if(Ce(a,m))g!==a[m]&&(a[m]=g,d=!0);else{const p=mt(m);r[p]=Er(c,l,p,g,t,!1)}else g!==a[m]&&(a[m]=g,d=!0)}}}else{Wl(t,e,r,a)&&(d=!0);let u;for(const f in l)(!e||!Ce(e,f)&&((u=hs(f))===f||!Ce(e,u)))&&(c?n&&(n[f]!==void 0||n[u]!==void 0)&&(r[f]=Er(c,l,f,void 0,t,!0)):delete r[f]);if(a!==l)for(const f in a)(!e||!Ce(e,f))&&(delete a[f],d=!0)}d&&qt(t.attrs,"set","")}function Wl(t,e,n,s){const[r,a]=t.propsOptions;let i=!1,l;if(e)for(let c in e){if(dn(c))continue;const d=e[c];let u;r&&Ce(r,u=mt(c))?!a||!a.includes(u)?n[u]=d:(l||(l={}))[u]=d:To(t.emitsOptions,c)||(!(c in s)||d!==s[c])&&(s[c]=d,i=!0)}if(a){const c=ye(n),d=l||Ae;for(let u=0;u<a.length;u++){const f=a[u];n[f]=Er(r,c,f,d[f],t,!Ce(d,f))}}return i}function Er(t,e,n,s,r,a){const i=t[n];if(i!=null){const l=Ce(i,"default");if(l&&s===void 0){const c=i.default;if(i.type!==Function&&!i.skipFactory&&fe(c)){const{propsDefaults:d}=r;if(n in d)s=d[n];else{const u=On(r);s=d[n]=c.call(null,e),u()}}else s=c;r.ce&&r.ce._setProp(n,s)}i[0]&&(a&&!l?s=!1:i[1]&&(s===""||s===hs(n))&&(s=!0))}return s}const nf=new WeakMap;function Gl(t,e,n=!1){const s=n?nf:e.propsCache,r=s.get(t);if(r)return r;const a=t.props,i={},l=[];let c=!1;if(!fe(t)){const u=f=>{c=!0;const[m,g]=Gl(f,e,!0);Le(i,m),g&&l.push(...g)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!a&&!c)return Ie(t)&&s.set(t,Vs),Vs;if(ae(a))for(let u=0;u<a.length;u++){const f=mt(a[u]);Da(f)&&(i[f]=Ae)}else if(a)for(const u in a){const f=mt(u);if(Da(f)){const m=a[u],g=i[f]=ae(m)||fe(m)?{type:m}:Le({},m),p=g.type;let v=!1,x=!0;if(ae(p))for(let C=0;C<p.length;++C){const S=p[C],B=fe(S)&&S.name;if(B==="Boolean"){v=!0;break}else B==="String"&&(x=!1)}else v=fe(p)&&p.name==="Boolean";g[0]=v,g[1]=x,(v||Ce(g,"default"))&&l.push(f)}}const d=[i,l];return Ie(t)&&s.set(t,d),d}function Da(t){return t[0]!=="$"&&!dn(t)}const aa=t=>t==="_"||t==="__"||t==="_ctx"||t==="$stable",ia=t=>ae(t)?t.map($t):[$t(t)],of=(t,e,n)=>{if(e._n)return e;const s=ht((...r)=>ia(e(...r)),n);return s._c=!1,s},Kl=(t,e,n)=>{const s=t._ctx;for(const r in t){if(aa(r))continue;const a=t[r];if(fe(a))e[r]=of(r,a,s);else if(a!=null){const i=ia(a);e[r]=()=>i}}},Yl=(t,e)=>{const n=ia(e);t.slots.default=()=>n},Xl=(t,e,n)=>{for(const s in e)(n||!aa(s))&&(t[s]=e[s])},rf=(t,e,n)=>{const s=t.slots=ql();if(t.vnode.shapeFlag&32){const r=e.__;r&&gr(s,"__",r,!0);const a=e._;a?(Xl(s,e,n),n&&gr(s,"_",a,!0)):Kl(e,s)}else e&&Yl(t,e)},af=(t,e,n)=>{const{vnode:s,slots:r}=t;let a=!0,i=Ae;if(s.shapeFlag&32){const l=e._;l?n&&l===1?a=!1:Xl(r,e,n):(a=!e.$stable,Kl(e,r)),i=e}else e&&(Yl(t,e),i={default:1});if(a)for(const l in r)!aa(l)&&i[l]==null&&delete r[l]},nt=xf;function lf(t){return cf(t)}function cf(t,e){const n=So();n.__VUE__=!0;const{insert:s,remove:r,patchProp:a,createElement:i,createText:l,createComment:c,setText:d,setElementText:u,parentNode:f,nextSibling:m,setScopeId:g=_t,insertStaticContent:p}=t,v=(b,w,R,V=null,j=null,H=null,X=void 0,K=null,G=!!w.dynamicChildren)=>{if(b===w)return;b&&!Bs(b,w)&&(V=F(b),Qe(b,j,H,!0),b=null),w.patchFlag===-2&&(G=!1,w.dynamicChildren=null);const{type:z,ref:le,shapeFlag:Q}=w;switch(z){case Po:x(b,w,R,V);break;case Lt:C(b,w,R,V);break;case Xn:b==null&&S(w,R,V,X);break;case he:q(b,w,R,V,j,H,X,K,G);break;default:Q&1?A(b,w,R,V,j,H,X,K,G):Q&6?se(b,w,R,V,j,H,X,K,G):(Q&64||Q&128)&&z.process(b,w,R,V,j,H,X,K,G,oe)}le!=null&&j?mn(le,b&&b.ref,H,w||b,!w):le==null&&b&&b.ref!=null&&mn(b.ref,null,H,b,!0)},x=(b,w,R,V)=>{if(b==null)s(w.el=l(w.children),R,V);else{const j=w.el=b.el;w.children!==b.children&&d(j,w.children)}},C=(b,w,R,V)=>{b==null?s(w.el=c(w.children||""),R,V):w.el=b.el},S=(b,w,R,V)=>{[b.el,b.anchor]=p(b.children,w,R,V,b.el,b.anchor)},B=({el:b,anchor:w},R,V)=>{let j;for(;b&&b!==w;)j=m(b),s(b,R,V),b=j;s(w,R,V)},E=({el:b,anchor:w})=>{let R;for(;b&&b!==w;)R=m(b),r(b),b=R;r(w)},A=(b,w,R,V,j,H,X,K,G)=>{w.type==="svg"?X="svg":w.type==="math"&&(X="mathml"),b==null?k(w,R,V,j,H,X,K,G):L(b,w,j,H,X,K,G)},k=(b,w,R,V,j,H,X,K)=>{let G,z;const{props:le,shapeFlag:Q,transition:re,dirs:ue}=b;if(G=b.el=i(b.type,H,le&&le.is,le),Q&8?u(G,b.children):Q&16&&M(b.children,G,null,V,j,sr(b,H),X,K),ue&&vs(b,null,V,"created"),T(G,b,b.scopeId,X,V),le){for(const Te in le)Te!=="value"&&!dn(Te)&&a(G,Te,null,le[Te],H,V);"value"in le&&a(G,"value",null,le.value,H),(z=le.onVnodeBeforeMount)&&It(z,V,b)}ue&&vs(b,null,V,"beforeMount");const ve=df(j,re);ve&&re.beforeEnter(G),s(G,w,R),((z=le&&le.onVnodeMounted)||ve||ue)&&nt(()=>{z&&It(z,V,b),ve&&re.enter(G),ue&&vs(b,null,V,"mounted")},j)},T=(b,w,R,V,j)=>{if(R&&g(b,R),V)for(let H=0;H<V.length;H++)g(b,V[H]);if(j){let H=j.subTree;if(w===H||sc(H.type)&&(H.ssContent===w||H.ssFallback===w)){const X=j.vnode;T(b,X,X.scopeId,X.slotScopeIds,j.parent)}}},M=(b,w,R,V,j,H,X,K,G=0)=>{for(let z=G;z<b.length;z++){const le=b[z]=K?ls(b[z]):$t(b[z]);v(null,le,w,R,V,j,H,X,K)}},L=(b,w,R,V,j,H,X)=>{const K=w.el=b.el;let{patchFlag:G,dynamicChildren:z,dirs:le}=w;G|=b.patchFlag&16;const Q=b.props||Ae,re=w.props||Ae;let ue;if(R&&ys(R,!1),(ue=re.onVnodeBeforeUpdate)&&It(ue,R,w,b),le&&vs(w,b,R,"beforeUpdate"),R&&ys(R,!0),(Q.innerHTML&&re.innerHTML==null||Q.textContent&&re.textContent==null)&&u(K,""),z?D(b.dynamicChildren,z,K,R,V,sr(w,j),H):X||be(b,w,K,null,R,V,sr(w,j),H,!1),G>0){if(G&16)W(K,Q,re,R,j);else if(G&2&&Q.class!==re.class&&a(K,"class",null,re.class,j),G&4&&a(K,"style",Q.style,re.style,j),G&8){const ve=w.dynamicProps;for(let Te=0;Te<ve.length;Te++){const Ee=ve[Te],Ze=Q[Ee],He=re[Ee];(He!==Ze||Ee==="value")&&a(K,Ee,Ze,He,j,R)}}G&1&&b.children!==w.children&&u(K,w.children)}else!X&&z==null&&W(K,Q,re,R,j);((ue=re.onVnodeUpdated)||le)&&nt(()=>{ue&&It(ue,R,w,b),le&&vs(w,b,R,"updated")},V)},D=(b,w,R,V,j,H,X)=>{for(let K=0;K<w.length;K++){const G=b[K],z=w[K],le=G.el&&(G.type===he||!Bs(G,z)||G.shapeFlag&198)?f(G.el):R;v(G,z,le,null,V,j,H,X,!0)}},W=(b,w,R,V,j)=>{if(w!==R){if(w!==Ae)for(const H in w)!dn(H)&&!(H in R)&&a(b,H,w[H],null,j,V);for(const H in R){if(dn(H))continue;const X=R[H],K=w[H];X!==K&&H!=="value"&&a(b,H,K,X,j,V)}"value"in R&&a(b,"value",w.value,R.value,j)}},q=(b,w,R,V,j,H,X,K,G)=>{const z=w.el=b?b.el:l(""),le=w.anchor=b?b.anchor:l("");let{patchFlag:Q,dynamicChildren:re,slotScopeIds:ue}=w;ue&&(K=K?K.concat(ue):ue),b==null?(s(z,R,V),s(le,R,V),M(w.children||[],R,le,j,H,X,K,G)):Q>0&&Q&64&&re&&b.dynamicChildren?(D(b.dynamicChildren,re,R,j,H,X,K),(w.key!=null||j&&w===j.subTree)&&Jl(b,w,!0)):be(b,w,R,le,j,H,X,K,G)},se=(b,w,R,V,j,H,X,K,G)=>{w.slotScopeIds=K,b==null?w.shapeFlag&512?j.ctx.activate(w,R,V,X,G):ce(w,R,V,j,H,X,G):te(b,w,G)},ce=(b,w,R,V,j,H,X)=>{const K=b.component=Af(b,V,j);if($l(b)&&(K.ctx.renderer=oe),Rf(K,!1,X),K.asyncDep){if(j&&j.registerDep(K,me,X),!b.el){const G=K.subTree=I(Lt);C(null,G,w,R),b.placeholder=G.el}}else me(K,b,w,R,j,H,X)},te=(b,w,R)=>{const V=w.component=b.component;if(_f(b,w,R))if(V.asyncDep&&!V.asyncResolved){de(V,w,R);return}else V.next=w,V.update();else w.el=b.el,V.vnode=w},me=(b,w,R,V,j,H,X)=>{const K=()=>{if(b.isMounted){let{next:Q,bu:re,u:ue,parent:ve,vnode:Te}=b;{const tt=Ql(b);if(tt){Q&&(Q.el=Te.el,de(b,Q,X)),tt.asyncDep.then(()=>{b.isUnmounted||K()});return}}let Ee=Q,Ze;ys(b,!1),Q?(Q.el=Te.el,de(b,Q,X)):Q=Te,re&&Kn(re),(Ze=Q.props&&Q.props.onVnodeBeforeUpdate)&&It(Ze,ve,Q,Te),ys(b,!0);const He=nr(b),gt=b.subTree;b.subTree=He,v(gt,He,f(gt.el),F(gt),b,j,H),Q.el=He.el,Ee===null&&bf(b,He.el),ue&&nt(ue,j),(Ze=Q.props&&Q.props.onVnodeUpdated)&&nt(()=>It(Ze,ve,Q,Te),j)}else{let Q;const{el:re,props:ue}=w,{bm:ve,m:Te,parent:Ee,root:Ze,type:He}=b,gt=zs(w);if(ys(b,!1),ve&&Kn(ve),!gt&&(Q=ue&&ue.onVnodeBeforeMount)&&It(Q,Ee,w),ys(b,!0),re&&De){const tt=()=>{b.subTree=nr(b),De(re,b.subTree,b,j,null)};gt&&He.__asyncHydrate?He.__asyncHydrate(re,b,tt):tt()}else{Ze.ce&&Ze.ce._def.shadowRoot!==!1&&Ze.ce._injectChildStyle(He);const tt=b.subTree=nr(b);v(null,tt,R,V,b,j,H),w.el=tt.el}if(Te&&nt(Te,j),!gt&&(Q=ue&&ue.onVnodeMounted)){const tt=w;nt(()=>It(Q,Ee,tt),j)}(w.shapeFlag&256||Ee&&zs(Ee.vnode)&&Ee.vnode.shapeFlag&256)&&b.a&&nt(b.a,j),b.isMounted=!0,w=R=V=null}};b.scope.on();const G=b.effect=new ll(K);b.scope.off();const z=b.update=G.run.bind(G),le=b.job=G.runIfDirty.bind(G);le.i=b,le.id=b.uid,G.scheduler=()=>na(le),ys(b,!0),z()},de=(b,w,R)=>{w.component=b;const V=b.vnode.props;b.vnode=w,b.next=null,sf(b,w.props,V,R),af(b,w.children,R),Yt(),Sa(b),Xt()},be=(b,w,R,V,j,H,X,K,G=!1)=>{const z=b&&b.children,le=b?b.shapeFlag:0,Q=w.children,{patchFlag:re,shapeFlag:ue}=w;if(re>0){if(re&128){ts(z,Q,R,V,j,H,X,K,G);return}else if(re&256){Bt(z,Q,R,V,j,H,X,K,G);return}}ue&8?(le&16&&lt(z,j,H),Q!==z&&u(R,Q)):le&16?ue&16?ts(z,Q,R,V,j,H,X,K,G):lt(z,j,H,!0):(le&8&&u(R,""),ue&16&&M(Q,R,V,j,H,X,K,G))},Bt=(b,w,R,V,j,H,X,K,G)=>{b=b||Vs,w=w||Vs;const z=b.length,le=w.length,Q=Math.min(z,le);let re;for(re=0;re<Q;re++){const ue=w[re]=G?ls(w[re]):$t(w[re]);v(b[re],ue,R,null,j,H,X,K,G)}z>le?lt(b,j,H,!0,!1,Q):M(w,R,V,j,H,X,K,G,Q)},ts=(b,w,R,V,j,H,X,K,G)=>{let z=0;const le=w.length;let Q=b.length-1,re=le-1;for(;z<=Q&&z<=re;){const ue=b[z],ve=w[z]=G?ls(w[z]):$t(w[z]);if(Bs(ue,ve))v(ue,ve,R,null,j,H,X,K,G);else break;z++}for(;z<=Q&&z<=re;){const ue=b[Q],ve=w[re]=G?ls(w[re]):$t(w[re]);if(Bs(ue,ve))v(ue,ve,R,null,j,H,X,K,G);else break;Q--,re--}if(z>Q){if(z<=re){const ue=re+1,ve=ue<le?w[ue].el:V;for(;z<=re;)v(null,w[z]=G?ls(w[z]):$t(w[z]),R,ve,j,H,X,K,G),z++}}else if(z>re)for(;z<=Q;)Qe(b[z],j,H,!0),z++;else{const ue=z,ve=z,Te=new Map;for(z=ve;z<=re;z++){const st=w[z]=G?ls(w[z]):$t(w[z]);st.key!=null&&Te.set(st.key,z)}let Ee,Ze=0;const He=re-ve+1;let gt=!1,tt=0;const sn=new Array(He);for(z=0;z<He;z++)sn[z]=0;for(z=ue;z<=Q;z++){const st=b[z];if(Ze>=He){Qe(st,j,H,!0);continue}let Rt;if(st.key!=null)Rt=Te.get(st.key);else for(Ee=ve;Ee<=re;Ee++)if(sn[Ee-ve]===0&&Bs(st,w[Ee])){Rt=Ee;break}Rt===void 0?Qe(st,j,H,!0):(sn[Rt-ve]=z+1,Rt>=tt?tt=Rt:gt=!0,v(st,w[Rt],R,null,j,H,X,K,G),Ze++)}const _a=gt?uf(sn):Vs;for(Ee=_a.length-1,z=He-1;z>=0;z--){const st=ve+z,Rt=w[st],ba=w[st+1],xa=st+1<le?ba.el||ba.placeholder:V;sn[z]===0?v(null,Rt,R,xa,j,H,X,K,G):gt&&(Ee<0||z!==_a[Ee]?At(Rt,R,xa,2):Ee--)}}},At=(b,w,R,V,j=null)=>{const{el:H,type:X,transition:K,children:G,shapeFlag:z}=b;if(z&6){At(b.component.subTree,w,R,V);return}if(z&128){b.suspense.move(w,R,V);return}if(z&64){X.move(b,w,R,oe);return}if(X===he){s(H,w,R);for(let Q=0;Q<G.length;Q++)At(G[Q],w,R,V);s(b.anchor,w,R);return}if(X===Xn){B(b,w,R);return}if(V!==2&&z&1&&K)if(V===0)K.beforeEnter(H),s(H,w,R),nt(()=>K.enter(H),j);else{const{leave:Q,delayLeave:re,afterLeave:ue}=K,ve=()=>{b.ctx.isUnmounted?r(H):s(H,w,R)},Te=()=>{Q(H,()=>{ve(),ue&&ue()})};re?re(H,ve,Te):Te()}else s(H,w,R)},Qe=(b,w,R,V=!1,j=!1)=>{const{type:H,props:X,ref:K,children:G,dynamicChildren:z,shapeFlag:le,patchFlag:Q,dirs:re,cacheIndex:ue}=b;if(Q===-2&&(j=!1),K!=null&&(Yt(),mn(K,null,R,b,!0),Xt()),ue!=null&&(w.renderCache[ue]=void 0),le&256){w.ctx.deactivate(b);return}const ve=le&1&&re,Te=!zs(b);let Ee;if(Te&&(Ee=X&&X.onVnodeBeforeUnmount)&&It(Ee,w,b),le&6)Vn(b.component,R,V);else{if(le&128){b.suspense.unmount(R,V);return}ve&&vs(b,null,w,"beforeUnmount"),le&64?b.type.remove(b,w,R,oe,V):z&&!z.hasOnce&&(H!==he||Q>0&&Q&64)?lt(z,w,R,!1,!0):(H===he&&Q&384||!j&&le&16)&&lt(G,w,R),V&&$s(b)}(Te&&(Ee=X&&X.onVnodeUnmounted)||ve)&&nt(()=>{Ee&&It(Ee,w,b),ve&&vs(b,null,w,"unmounted")},R)},$s=b=>{const{type:w,el:R,anchor:V,transition:j}=b;if(w===he){Ms(R,V);return}if(w===Xn){E(b);return}const H=()=>{r(R),j&&!j.persisted&&j.afterLeave&&j.afterLeave()};if(b.shapeFlag&1&&j&&!j.persisted){const{leave:X,delayLeave:K}=j,G=()=>X(R,H);K?K(b.el,H,G):G()}else H()},Ms=(b,w)=>{let R;for(;b!==w;)R=m(b),r(b),b=R;r(w)},Vn=(b,w,R)=>{const{bum:V,scope:j,job:H,subTree:X,um:K,m:G,a:z,parent:le,slots:{__:Q}}=b;$a(G),$a(z),V&&Kn(V),le&&ae(Q)&&Q.forEach(re=>{le.renderCache[re]=void 0}),j.stop(),H&&(H.flags|=8,Qe(X,b,w,R)),K&&nt(K,w),nt(()=>{b.isUnmounted=!0},w),w&&w.pendingBranch&&!w.isUnmounted&&b.asyncDep&&!b.asyncResolved&&b.suspenseId===w.pendingId&&(w.deps--,w.deps===0&&w.resolve())},lt=(b,w,R,V=!1,j=!1,H=0)=>{for(let X=H;X<b.length;X++)Qe(b[X],w,R,V,j)},F=b=>{if(b.shapeFlag&6)return F(b.component.subTree);if(b.shapeFlag&128)return b.suspense.next();const w=m(b.anchor||b.el),R=w&&w[Tu];return R?m(R):w};let Z=!1;const J=(b,w,R)=>{b==null?w._vnode&&Qe(w._vnode,null,null,!0):v(w._vnode||null,b,w,null,null,null,R),w._vnode=b,Z||(Z=!0,Sa(),Rl(),Z=!1)},oe={p:v,um:Qe,m:At,r:$s,mt:ce,mc:M,pc:be,pbc:D,n:F,o:t};let xe,De;return e&&([xe,De]=e(oe)),{render:J,hydrate:xe,createApp:Zu(J,xe)}}function sr({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function ys({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function df(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Jl(t,e,n=!1){const s=t.children,r=e.children;if(ae(s)&&ae(r))for(let a=0;a<s.length;a++){const i=s[a];let l=r[a];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=r[a]=ls(r[a]),l.el=i.el),!n&&l.patchFlag!==-2&&Jl(i,l)),l.type===Po&&(l.el=i.el),l.type===Lt&&!l.el&&(l.el=i.el)}}function uf(t){const e=t.slice(),n=[0];let s,r,a,i,l;const c=t.length;for(s=0;s<c;s++){const d=t[s];if(d!==0){if(r=n[n.length-1],t[r]<d){e[s]=r,n.push(s);continue}for(a=0,i=n.length-1;a<i;)l=a+i>>1,t[n[l]]<d?a=l+1:i=l;d<t[n[a]]&&(a>0&&(e[s]=n[a-1]),n[a]=s)}}for(a=n.length,i=n[a-1];a-- >0;)n[a]=i,i=e[i];return n}function Ql(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Ql(e)}function $a(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const ff=Symbol.for("v-scx"),mf=()=>ft(ff);function Wt(t,e,n){return Zl(t,e,n)}function Zl(t,e,n=Ae){const{immediate:s,deep:r,flush:a,once:i}=n,l=Le({},n),c=e&&s||!e&&a!=="post";let d;if(kn){if(a==="sync"){const g=mf();d=g.__watcherHandles||(g.__watcherHandles=[])}else if(!c){const g=()=>{};return g.stop=_t,g.resume=_t,g.pause=_t,g}}const u=We;l.call=(g,p,v)=>Ct(g,u,p,v);let f=!1;a==="post"?l.scheduler=g=>{nt(g,u&&u.suspense)}:a!=="sync"&&(f=!0,l.scheduler=(g,p)=>{p?g():na(g)}),l.augmentJob=g=>{e&&(g.flags|=4),f&&(g.flags|=2,u&&(g.id=u.uid,g.i=u))};const m=Su(t,e,l);return kn&&(d?d.push(m):c&&m()),m}function pf(t,e,n){const s=this.proxy,r=Me(t)?t.includes(".")?ec(s,t):()=>s[t]:t.bind(s,s);let a;fe(e)?a=e:(a=e.handler,n=e);const i=On(this),l=Zl(r,a.bind(s),n);return i(),l}function ec(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}const hf=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${mt(e)}Modifiers`]||t[`${hs(e)}Modifiers`];function gf(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||Ae;let r=n;const a=e.startsWith("update:"),i=a&&hf(s,e.slice(7));i&&(i.trim&&(r=n.map(u=>Me(u)?u.trim():u)),i.number&&(r=n.map(oo)));let l,c=s[l=Gn(e)]||s[l=Gn(mt(e))];!c&&a&&(c=s[l=Gn(hs(e))]),c&&Ct(c,t,6,r);const d=s[l+"Once"];if(d){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,Ct(d,t,6,r)}}function tc(t,e,n=!1){const s=e.emitsCache,r=s.get(t);if(r!==void 0)return r;const a=t.emits;let i={},l=!1;if(!fe(t)){const c=d=>{const u=tc(d,e,!0);u&&(l=!0,Le(i,u))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!a&&!l?(Ie(t)&&s.set(t,null),null):(ae(a)?a.forEach(c=>i[c]=null):Le(i,a),Ie(t)&&s.set(t,i),i)}function To(t,e){return!t||!Co(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ce(t,e[0].toLowerCase()+e.slice(1))||Ce(t,hs(e))||Ce(t,e))}function nr(t){const{type:e,vnode:n,proxy:s,withProxy:r,propsOptions:[a],slots:i,attrs:l,emit:c,render:d,renderCache:u,props:f,data:m,setupState:g,ctx:p,inheritAttrs:v}=t,x=co(t);let C,S;try{if(n.shapeFlag&4){const E=r||s,A=E;C=$t(d.call(A,E,u,f,g,m,p)),S=l}else{const E=e;C=$t(E.length>1?E(f,{attrs:l,slots:i,emit:c}):E(f,null)),S=e.props?l:vf(l)}}catch(E){hn.length=0,Ro(E,t,1),C=I(Lt)}let B=C;if(S&&v!==!1){const E=Object.keys(S),{shapeFlag:A}=B;E.length&&A&7&&(a&&E.some(zr)&&(S=yf(S,a)),B=Rs(B,S,!1,!0))}return n.dirs&&(B=Rs(B,null,!1,!0),B.dirs=B.dirs?B.dirs.concat(n.dirs):n.dirs),n.transition&&wn(B,n.transition),C=B,co(x),C}const vf=t=>{let e;for(const n in t)(n==="class"||n==="style"||Co(n))&&((e||(e={}))[n]=t[n]);return e},yf=(t,e)=>{const n={};for(const s in t)(!zr(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function _f(t,e,n){const{props:s,children:r,component:a}=t,{props:i,children:l,patchFlag:c}=e,d=a.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return s?Ma(s,i,d):!!i;if(c&8){const u=e.dynamicProps;for(let f=0;f<u.length;f++){const m=u[f];if(i[m]!==s[m]&&!To(d,m))return!0}}}else return(r||l)&&(!l||!l.$stable)?!0:s===i?!1:s?i?Ma(s,i,d):!0:!!i;return!1}function Ma(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const a=s[r];if(e[a]!==t[a]&&!To(n,a))return!0}return!1}function bf({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const sc=t=>t.__isSuspense;function xf(t,e){e&&e.pendingBranch?ae(t)?e.effects.push(...t):e.effects.push(t):Iu(t)}const he=Symbol.for("v-fgt"),Po=Symbol.for("v-txt"),Lt=Symbol.for("v-cmt"),Xn=Symbol.for("v-stc"),hn=[];let at=null;function y(t=!1){hn.push(at=t?null:[])}function wf(){hn.pop(),at=hn[hn.length-1]||null}let Cn=1;function Oa(t,e=!1){Cn+=t,t<0&&at&&e&&(at.hasOnce=!0)}function nc(t){return t.dynamicChildren=Cn>0?at||Vs:null,wf(),Cn>0&&at&&at.push(t),t}function _(t,e,n,s,r,a){return nc(o(t,e,n,s,r,a,!0))}function _e(t,e,n,s,r){return nc(I(t,e,n,s,r,!0))}function En(t){return t?t.__v_isVNode===!0:!1}function Bs(t,e){return t.type===e.type&&t.key===e.key}const oc=({key:t})=>t??null,Jn=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Me(t)||Oe(t)||fe(t)?{i:Ve,r:t,k:e,f:!!n}:t:null);function o(t,e=null,n=null,s=0,r=null,a=t===he?0:1,i=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&oc(e),ref:e&&Jn(e),scopeId:Tl,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Ve};return l?(la(c,n),a&128&&t.normalize(c)):n&&(c.shapeFlag|=Me(n)?8:16),Cn>0&&!i&&at&&(c.patchFlag>0||a&6)&&c.patchFlag!==32&&at.push(c),c}const I=Cf;function Cf(t,e=null,n=null,s=0,r=null,a=!1){if((!t||t===Ul)&&(t=Lt),En(t)){const l=Rs(t,e,!0);return n&&la(l,n),Cn>0&&!a&&at&&(l.shapeFlag&6?at[at.indexOf(t)]=l:at.push(l)),l.patchFlag=-2,l}if($f(t)&&(t=t.__vccOpts),e){e=Ef(e);let{class:l,style:c}=e;l&&!Me(l)&&(e.class=ee(l)),Ie(c)&&(ta(c)&&!ae(c)&&(c=Le({},c)),e.style=gs(c))}const i=Me(t)?1:sc(t)?128:Pu(t)?64:Ie(t)?4:fe(t)?2:0;return o(t,e,n,s,r,i,a,!0)}function Ef(t){return t?ta(t)||zl(t)?Le({},t):t:null}function Rs(t,e,n=!1,s=!1){const{props:r,ref:a,patchFlag:i,children:l,transition:c}=t,d=e?Do(r||{},e):r,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:d,key:d&&oc(d),ref:e&&e.ref?n&&a?ae(a)?a.concat(Jn(e)):[a,Jn(e)]:Jn(e):a,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==he?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Rs(t.ssContent),ssFallback:t.ssFallback&&Rs(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&s&&wn(u,c.clone(u)),u}function N(t=" ",e=0){return I(Po,null,t,e)}function Ke(t,e){const n=I(Xn,null,t);return n.staticCount=e,n}function O(t="",e=!1){return e?(y(),_e(Lt,null,t)):I(Lt,null,t)}function $t(t){return t==null||typeof t=="boolean"?I(Lt):ae(t)?I(he,null,t.slice()):En(t)?ls(t):I(Po,null,String(t))}function ls(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Rs(t)}function la(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(ae(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),la(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!zl(e)?e._ctx=Ve:r===3&&Ve&&(Ve.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else fe(e)?(e={default:e,_ctx:Ve},n=32):(e=String(e),s&64?(n=16,e=[N(e)]):n=8);t.children=e,t.shapeFlag|=n}function Do(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=ee([e.class,s.class]));else if(r==="style")e.style=gs([e.style,s.style]);else if(Co(r)){const a=e[r],i=s[r];i&&a!==i&&!(ae(a)&&a.includes(i))&&(e[r]=a?[].concat(a,i):i)}else r!==""&&(e[r]=s[r])}return e}function It(t,e,n,s=null){Ct(t,e,7,[n,s])}const kf=Vl();let Sf=0;function Af(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||kf,a={uid:Sf++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new rl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Gl(s,r),emitsOptions:tc(s,r),emit:null,emitted:null,propsDefaults:Ae,inheritAttrs:s.inheritAttrs,ctx:Ae,data:Ae,props:Ae,attrs:Ae,slots:Ae,refs:Ae,setupState:Ae,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=gf.bind(null,a),t.ce&&t.ce(a),a}let We=null;const $o=()=>We||Ve;let fo,kr;{const t=So(),e=(n,s)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(s),a=>{r.length>1?r.forEach(i=>i(a)):r[0](a)}};fo=e("__VUE_INSTANCE_SETTERS__",n=>We=n),kr=e("__VUE_SSR_SETTERS__",n=>kn=n)}const On=t=>{const e=We;return fo(t),t.scope.on(),()=>{t.scope.off(),fo(e)}},Na=()=>{We&&We.scope.off(),fo(null)};function rc(t){return t.vnode.shapeFlag&4}let kn=!1;function Rf(t,e=!1,n=!1){e&&kr(e);const{props:s,children:r}=t.vnode,a=rc(t);tf(t,s,a,e),rf(t,r,n||e);const i=a?If(t,e):void 0;return e&&kr(!1),i}function If(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Wu);const{setup:s}=n;if(s){Yt();const r=t.setupContext=s.length>1?Pf(t):null,a=On(t),i=$n(s,t,0,[t.props,r]),l=Zi(i);if(Xt(),a(),(l||t.sp)&&!zs(t)&&Dl(t),l){if(i.then(Na,Na),e)return i.then(c=>{La(t,c,e)}).catch(c=>{Ro(c,t,0)});t.asyncDep=i}else La(t,i,e)}else ac(t,e)}function La(t,e,n){fe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ie(e)&&(t.setupState=kl(e)),ac(t,n)}let Ua;function ac(t,e,n){const s=t.type;if(!t.render){if(!e&&Ua&&!s.render){const r=s.template||ra(t).template;if(r){const{isCustomElement:a,compilerOptions:i}=t.appContext.config,{delimiters:l,compilerOptions:c}=s,d=Le(Le({isCustomElement:a,delimiters:l},i),c);s.render=Ua(r,d)}}t.render=s.render||_t}{const r=On(t);Yt();try{Gu(t)}finally{Xt(),r()}}}const Tf={get(t,e){return ze(t,"get",""),t[e]}};function Pf(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,Tf),slots:t.slots,emit:t.emit,expose:e}}function Mo(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(kl(sa(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in pn)return pn[n](t)},has(e,n){return n in e||n in pn}})):t.proxy}function Df(t,e=!0){return fe(t)?t.displayName||t.name:t.name||e&&t.__name}function $f(t){return fe(t)&&"__vccOpts"in t}const ne=(t,e)=>Eu(t,e,kn);function ic(t,e,n){const s=arguments.length;return s===2?Ie(e)&&!ae(e)?En(e)?I(t,null,[e]):I(t,e):I(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&En(n)&&(n=[n]),I(t,e,n))}const Mf="3.5.18";/**
* @vue/runtime-dom v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Sr;const ja=typeof window<"u"&&window.trustedTypes;if(ja)try{Sr=ja.createPolicy("vue",{createHTML:t=>t})}catch{}const lc=Sr?t=>Sr.createHTML(t):t=>t,Of="http://www.w3.org/2000/svg",Nf="http://www.w3.org/1998/Math/MathML",Ht=typeof document<"u"?document:null,Ba=Ht&&Ht.createElement("template"),Lf={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e==="svg"?Ht.createElementNS(Of,t):e==="mathml"?Ht.createElementNS(Nf,t):n?Ht.createElement(t,{is:n}):Ht.createElement(t);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>Ht.createTextNode(t),createComment:t=>Ht.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ht.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,r,a){const i=n?n.previousSibling:e.lastChild;if(r&&(r===a||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===a||!(r=r.nextSibling)););else{Ba.innerHTML=lc(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const l=Ba.content;if(s==="svg"||s==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}e.insertBefore(l,n)}return[i?i.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},ss="transition",on="animation",Gs=Symbol("_vtc"),cc={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Uf=Le({},$u,cc),_s=(t,e=[])=>{ae(t)?t.forEach(n=>n(...e)):t&&t(...e)},Fa=t=>t?ae(t)?t.some(e=>e.length>1):t.length>1:!1;function jf(t){const e={};for(const q in t)q in cc||(e[q]=t[q]);if(t.css===!1)return e;const{name:n="v",type:s,duration:r,enterFromClass:a=`${n}-enter-from`,enterActiveClass:i=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=a,appearActiveClass:d=i,appearToClass:u=l,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:m=`${n}-leave-active`,leaveToClass:g=`${n}-leave-to`}=t,p=Bf(r),v=p&&p[0],x=p&&p[1],{onBeforeEnter:C,onEnter:S,onEnterCancelled:B,onLeave:E,onLeaveCancelled:A,onBeforeAppear:k=C,onAppear:T=S,onAppearCancelled:M=B}=e,L=(q,se,ce,te)=>{q._enterCancelled=te,rs(q,se?u:l),rs(q,se?d:i),ce&&ce()},D=(q,se)=>{q._isLeaving=!1,rs(q,f),rs(q,g),rs(q,m),se&&se()},W=q=>(se,ce)=>{const te=q?T:S,me=()=>L(se,q,ce);_s(te,[se,me]),Va(()=>{rs(se,q?c:a),Pt(se,q?u:l),Fa(te)||Ha(se,s,v,me)})};return Le(e,{onBeforeEnter(q){_s(C,[q]),Pt(q,a),Pt(q,i)},onBeforeAppear(q){_s(k,[q]),Pt(q,c),Pt(q,d)},onEnter:W(!1),onAppear:W(!0),onLeave(q,se){q._isLeaving=!0;const ce=()=>D(q,se);Pt(q,f),q._enterCancelled?(Pt(q,m),Ar()):(Ar(),Pt(q,m)),Va(()=>{q._isLeaving&&(rs(q,f),Pt(q,g),Fa(E)||Ha(q,s,x,ce))}),_s(E,[q,ce])},onEnterCancelled(q){L(q,!1,void 0,!0),_s(B,[q])},onAppearCancelled(q){L(q,!0,void 0,!0),_s(M,[q])},onLeaveCancelled(q){D(q),_s(A,[q])}})}function Bf(t){if(t==null)return null;if(Ie(t))return[or(t.enter),or(t.leave)];{const e=or(t);return[e,e]}}function or(t){return Hd(t)}function Pt(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Gs]||(t[Gs]=new Set)).add(e)}function rs(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const n=t[Gs];n&&(n.delete(e),n.size||(t[Gs]=void 0))}function Va(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Ff=0;function Ha(t,e,n,s){const r=t._endId=++Ff,a=()=>{r===t._endId&&s()};if(n!=null)return setTimeout(a,n);const{type:i,timeout:l,propCount:c}=dc(t,e);if(!i)return s();const d=i+"end";let u=0;const f=()=>{t.removeEventListener(d,m),a()},m=g=>{g.target===t&&++u>=c&&f()};setTimeout(()=>{u<c&&f()},l+1),t.addEventListener(d,m)}function dc(t,e){const n=window.getComputedStyle(t),s=p=>(n[p]||"").split(", "),r=s(`${ss}Delay`),a=s(`${ss}Duration`),i=qa(r,a),l=s(`${on}Delay`),c=s(`${on}Duration`),d=qa(l,c);let u=null,f=0,m=0;e===ss?i>0&&(u=ss,f=i,m=a.length):e===on?d>0&&(u=on,f=d,m=c.length):(f=Math.max(i,d),u=f>0?i>d?ss:on:null,m=u?u===ss?a.length:c.length:0);const g=u===ss&&/\b(transform|all)(,|$)/.test(s(`${ss}Property`).toString());return{type:u,timeout:f,propCount:m,hasTransform:g}}function qa(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>za(n)+za(t[s])))}function za(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Ar(){return document.body.offsetHeight}function Vf(t,e,n){const s=t[Gs];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Wa=Symbol("_vod"),Hf=Symbol("_vsh"),qf=Symbol(""),zf=/(^|;)\s*display\s*:/;function Wf(t,e,n){const s=t.style,r=Me(n);let a=!1;if(n&&!r){if(e)if(Me(e))for(const i of e.split(";")){const l=i.slice(0,i.indexOf(":")).trim();n[l]==null&&Qn(s,l,"")}else for(const i in e)n[i]==null&&Qn(s,i,"");for(const i in n)i==="display"&&(a=!0),Qn(s,i,n[i])}else if(r){if(e!==n){const i=s[qf];i&&(n+=";"+i),s.cssText=n,a=zf.test(n)}}else e&&t.removeAttribute("style");Wa in t&&(t[Wa]=a?s.display:"",t[Hf]&&(s.display="none"))}const Ga=/\s*!important$/;function Qn(t,e,n){if(ae(n))n.forEach(s=>Qn(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=Gf(t,e);Ga.test(n)?t.setProperty(hs(s),n.replace(Ga,""),"important"):t[s]=n}}const Ka=["Webkit","Moz","ms"],rr={};function Gf(t,e){const n=rr[e];if(n)return n;let s=mt(e);if(s!=="filter"&&s in t)return rr[e]=s;s=ko(s);for(let r=0;r<Ka.length;r++){const a=Ka[r]+s;if(a in t)return rr[e]=a}return e}const Ya="http://www.w3.org/1999/xlink";function Xa(t,e,n,s,r,a=Yd(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Ya,e.slice(6,e.length)):t.setAttributeNS(Ya,e,n):n==null||a&&!sl(n)?t.removeAttribute(e):t.setAttribute(e,a?"":wt(n)?String(n):n)}function Ja(t,e,n,s,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?lc(n):n);return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){const l=a==="OPTION"?t.getAttribute("value")||"":t.value,c=n==null?t.type==="checkbox"?"on":"":String(n);(l!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let i=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=sl(n):n==null&&l==="string"?(n="",i=!0):l==="number"&&(n=0,i=!0)}try{t[e]=n}catch{}i&&t.removeAttribute(r||e)}function ds(t,e,n,s){t.addEventListener(e,n,s)}function Kf(t,e,n,s){t.removeEventListener(e,n,s)}const Qa=Symbol("_vei");function Yf(t,e,n,s,r=null){const a=t[Qa]||(t[Qa]={}),i=a[e];if(s&&i)i.value=s;else{const[l,c]=Xf(e);if(s){const d=a[e]=Zf(s,r);ds(t,l,d,c)}else i&&(Kf(t,l,i,c),a[e]=void 0)}}const Za=/(?:Once|Passive|Capture)$/;function Xf(t){let e;if(Za.test(t)){e={};let s;for(;s=t.match(Za);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):hs(t.slice(2)),e]}let ar=0;const Jf=Promise.resolve(),Qf=()=>ar||(Jf.then(()=>ar=0),ar=Date.now());function Zf(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Ct(em(s,n.value),e,5,[s])};return n.value=t,n.attached=Qf(),n}function em(t,e){if(ae(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const ei=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,tm=(t,e,n,s,r,a)=>{const i=r==="svg";e==="class"?Vf(t,s,i):e==="style"?Wf(t,n,s):Co(e)?zr(e)||Yf(t,e,n,s,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):sm(t,e,s,i))?(Ja(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Xa(t,e,s,i,a,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Me(s))?Ja(t,mt(e),s,a,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),Xa(t,e,s,i))};function sm(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&ei(e)&&fe(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return ei(e)&&Me(n)?!1:e in t}const uc=new WeakMap,fc=new WeakMap,mo=Symbol("_moveCb"),ti=Symbol("_enterCb"),nm=t=>(delete t.props.mode,t),om=nm({name:"TransitionGroup",props:Le({},Uf,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=$o(),s=Du();let r,a;return Ol(()=>{if(!r.length)return;const i=t.moveClass||`${t.name||"v"}-move`;if(!cm(r[0].el,n.vnode.el,i)){r=[];return}r.forEach(am),r.forEach(im);const l=r.filter(lm);Ar(),l.forEach(c=>{const d=c.el,u=d.style;Pt(d,i),u.transform=u.webkitTransform=u.transitionDuration="";const f=d[mo]=m=>{m&&m.target!==d||(!m||/transform$/.test(m.propertyName))&&(d.removeEventListener("transitionend",f),d[mo]=null,rs(d,i))};d.addEventListener("transitionend",f)}),r=[]}),()=>{const i=ye(t),l=jf(i);let c=i.tag||he;if(r=[],a)for(let d=0;d<a.length;d++){const u=a[d];u.el&&u.el instanceof Element&&(r.push(u),wn(u,br(u,l,s,n)),uc.set(u,u.el.getBoundingClientRect()))}a=e.default?Pl(e.default()):[];for(let d=0;d<a.length;d++){const u=a[d];u.key!=null&&wn(u,br(u,l,s,n))}return I(c,null,a)}}}),rm=om;function am(t){const e=t.el;e[mo]&&e[mo](),e[ti]&&e[ti]()}function im(t){fc.set(t,t.el.getBoundingClientRect())}function lm(t){const e=uc.get(t),n=fc.get(t),s=e.left-n.left,r=e.top-n.top;if(s||r){const a=t.el.style;return a.transform=a.webkitTransform=`translate(${s}px,${r}px)`,a.transitionDuration="0s",t}}function cm(t,e,n){const s=t.cloneNode(),r=t[Gs];r&&r.forEach(l=>{l.split(/\s+/).forEach(c=>c&&s.classList.remove(c))}),n.split(/\s+/).forEach(l=>l&&s.classList.add(l)),s.style.display="none";const a=e.nodeType===1?e:e.parentNode;a.appendChild(s);const{hasTransform:i}=dc(s);return a.removeChild(s),i}const Ks=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ae(e)?n=>Kn(e,n):e};function dm(t){t.target.composing=!0}function si(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Gt=Symbol("_assign"),ie={created(t,{modifiers:{lazy:e,trim:n,number:s}},r){t[Gt]=Ks(r);const a=s||r.props&&r.props.type==="number";ds(t,e?"change":"input",i=>{if(i.target.composing)return;let l=t.value;n&&(l=l.trim()),a&&(l=oo(l)),t[Gt](l)}),n&&ds(t,"change",()=>{t.value=t.value.trim()}),e||(ds(t,"compositionstart",dm),ds(t,"compositionend",si),ds(t,"change",si))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:r,number:a}},i){if(t[Gt]=Ks(i),t.composing)return;const l=(a||t.type==="number")&&!/^0\d/.test(t.value)?oo(t.value):t.value,c=e??"";l!==c&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||r&&t.value.trim()===c)||(t.value=c))}},ir={deep:!0,created(t,e,n){t[Gt]=Ks(n),ds(t,"change",()=>{const s=t._modelValue,r=Sn(t),a=t.checked,i=t[Gt];if(ae(s)){const l=Kr(s,r),c=l!==-1;if(a&&!c)i(s.concat(r));else if(!a&&c){const d=[...s];d.splice(l,1),i(d)}}else if(Qs(s)){const l=new Set(s);a?l.add(r):l.delete(r),i(l)}else i(mc(t,a))})},mounted:ni,beforeUpdate(t,e,n){t[Gt]=Ks(n),ni(t,e,n)}};function ni(t,{value:e,oldValue:n},s){t._modelValue=e;let r;if(ae(e))r=Kr(e,s.props.value)>-1;else if(Qs(e))r=e.has(s.props.value);else{if(e===n)return;r=Dn(e,mc(t,!0))}t.checked!==r&&(t.checked=r)}const Ne={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const r=Qs(e);ds(t,"change",()=>{const a=Array.prototype.filter.call(t.options,i=>i.selected).map(i=>n?oo(Sn(i)):Sn(i));t[Gt](t.multiple?r?new Set(a):a:a[0]),t._assigning=!0,Zs(()=>{t._assigning=!1})}),t[Gt]=Ks(s)},mounted(t,{value:e}){oi(t,e)},beforeUpdate(t,e,n){t[Gt]=Ks(n)},updated(t,{value:e}){t._assigning||oi(t,e)}};function oi(t,e){const n=t.multiple,s=ae(e);if(!(n&&!s&&!Qs(e))){for(let r=0,a=t.options.length;r<a;r++){const i=t.options[r],l=Sn(i);if(n)if(s){const c=typeof l;c==="string"||c==="number"?i.selected=e.some(d=>String(d)===String(l)):i.selected=Kr(e,l)>-1}else i.selected=e.has(l);else if(Dn(Sn(i),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Sn(t){return"_value"in t?t._value:t.value}function mc(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const um=["ctrl","shift","alt","meta"],fm={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>um.some(n=>t[`${n}Key`]&&!e.includes(n))},dt=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=(r,...a)=>{for(let i=0;i<e.length;i++){const l=fm[e[i]];if(l&&l(r,e))return}return t(r,...a)})},mm={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},cn=(t,e)=>{const n=t._withKeys||(t._withKeys={}),s=e.join(".");return n[s]||(n[s]=r=>{if(!("key"in r))return;const a=hs(r.key);if(e.some(i=>i===a||mm[i]===a))return t(r)})},pm=Le({patchProp:tm},Lf);let ri;function hm(){return ri||(ri=lf(pm))}const pc=(...t)=>{const e=hm().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=vm(s);if(!r)return;const a=e._component;!fe(a)&&!a.render&&!a.template&&(a.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const i=n(r,!1,gm(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},e};function gm(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function vm(t){return Me(t)?document.querySelector(t):t}var ym=!1;/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let hc;const Oo=t=>hc=t,gc=Symbol();function Rr(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var gn;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(gn||(gn={}));function _m(){const t=al(!0),e=t.run(()=>U({}));let n=[],s=[];const r=sa({install(a){Oo(r),r._a=a,a.provide(gc,r),a.config.globalProperties.$pinia=r,s.forEach(i=>n.push(i)),s=[]},use(a){return!this._a&&!ym?s.push(a):n.push(a),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return r}const vc=()=>{};function ai(t,e,n,s=vc){t.push(e);const r=()=>{const a=t.indexOf(e);a>-1&&(t.splice(a,1),s())};return!n&&il()&&Jd(r),r}function Ls(t,...e){t.slice().forEach(n=>{n(...e)})}const bm=t=>t(),ii=Symbol(),lr=Symbol();function Ir(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,s)=>t.set(s,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],r=t[n];Rr(r)&&Rr(s)&&t.hasOwnProperty(n)&&!Oe(s)&&!fs(s)?t[n]=Ir(r,s):t[n]=s}return t}const xm=Symbol();function wm(t){return!Rr(t)||!t.hasOwnProperty(xm)}const{assign:as}=Object;function Cm(t){return!!(Oe(t)&&t.effect)}function Em(t,e,n,s){const{state:r,actions:a,getters:i}=e,l=n.state.value[t];let c;function d(){l||(n.state.value[t]=r?r():{});const u=bu(n.state.value[t]);return as(u,a,Object.keys(i||{}).reduce((f,m)=>(f[m]=sa(ne(()=>{Oo(n);const g=n._s.get(t);return i[m].call(g,g)})),f),{}))}return c=yc(t,d,e,n,s,!0),c}function yc(t,e,n={},s,r,a){let i;const l=as({actions:{}},n),c={deep:!0};let d,u,f=[],m=[],g;const p=s.state.value[t];!a&&!p&&(s.state.value[t]={}),U({});let v;function x(M){let L;d=u=!1,typeof M=="function"?(M(s.state.value[t]),L={type:gn.patchFunction,storeId:t,events:g}):(Ir(s.state.value[t],M),L={type:gn.patchObject,payload:M,storeId:t,events:g});const D=v=Symbol();Zs().then(()=>{v===D&&(d=!0)}),u=!0,Ls(f,L,s.state.value[t])}const C=a?function(){const{state:L}=n,D=L?L():{};this.$patch(W=>{as(W,D)})}:vc;function S(){i.stop(),f=[],m=[],s._s.delete(t)}const B=(M,L="")=>{if(ii in M)return M[lr]=L,M;const D=function(){Oo(s);const W=Array.from(arguments),q=[],se=[];function ce(de){q.push(de)}function te(de){se.push(de)}Ls(m,{args:W,name:D[lr],store:A,after:ce,onError:te});let me;try{me=M.apply(this&&this.$id===t?this:A,W)}catch(de){throw Ls(se,de),de}return me instanceof Promise?me.then(de=>(Ls(q,de),de)).catch(de=>(Ls(se,de),Promise.reject(de))):(Ls(q,me),me)};return D[ii]=!0,D[lr]=L,D},E={_p:s,$id:t,$onAction:ai.bind(null,m),$patch:x,$reset:C,$subscribe(M,L={}){const D=ai(f,M,L.detached,()=>W()),W=i.run(()=>Wt(()=>s.state.value[t],q=>{(L.flush==="sync"?u:d)&&M({storeId:t,type:gn.direct,events:g},q)},as({},c,L)));return D},$dispose:S},A=pt(E);s._s.set(t,A);const T=(s._a&&s._a.runWithContext||bm)(()=>s._e.run(()=>(i=al()).run(()=>e({action:B}))));for(const M in T){const L=T[M];if(Oe(L)&&!Cm(L)||fs(L))a||(p&&wm(L)&&(Oe(L)?L.value=p[M]:Ir(L,p[M])),s.state.value[t][M]=L);else if(typeof L=="function"){const D=B(L,M);T[M]=D,l.actions[M]=L}}return as(A,T),as(ye(A),T),Object.defineProperty(A,"$state",{get:()=>s.state.value[t],set:M=>{x(L=>{as(L,M)})}}),s._p.forEach(M=>{as(A,i.run(()=>M({store:A,app:s._a,pinia:s,options:l})))}),p&&a&&n.hydrate&&n.hydrate(A.$state,p),d=!0,u=!0,A}/*! #__NO_SIDE_EFFECTS__ */function km(t,e,n){let s,r;const a=typeof e=="function";typeof t=="string"?(s=t,r=a?n:e):(r=t,s=t.id);function i(l,c){const d=ef();return l=l||(d?ft(gc,null):null),l&&Oo(l),l=hc,l._s.has(s)||(a?yc(s,e,r,l):Em(s,r,l)),l._s.get(s)}return i.$id=s,i}var Sm=Object.defineProperty,li=Object.getOwnPropertySymbols,Am=Object.prototype.hasOwnProperty,Rm=Object.prototype.propertyIsEnumerable,ci=(t,e,n)=>e in t?Sm(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_c=(t,e)=>{for(var n in e||(e={}))Am.call(e,n)&&ci(t,n,e[n]);if(li)for(var n of li(e))Rm.call(e,n)&&ci(t,n,e[n]);return t},No=t=>typeof t=="function",Lo=t=>typeof t=="string",bc=t=>Lo(t)&&t.trim().length>0,Im=t=>typeof t=="number",ws=t=>typeof t>"u",An=t=>typeof t=="object"&&t!==null,Tm=t=>Nt(t,"tag")&&bc(t.tag),xc=t=>window.TouchEvent&&t instanceof TouchEvent,wc=t=>Nt(t,"component")&&Cc(t.component),Pm=t=>No(t)||An(t),Cc=t=>!ws(t)&&(Lo(t)||Pm(t)||wc(t)),di=t=>An(t)&&["height","width","right","left","top","bottom"].every(e=>Im(t[e])),Nt=(t,e)=>(An(t)||No(t))&&e in t,Dm=(t=>()=>t++)(0);function cr(t){return xc(t)?t.targetTouches[0].clientX:t.clientX}function ui(t){return xc(t)?t.targetTouches[0].clientY:t.clientY}var $m=t=>{ws(t.remove)?t.parentNode&&t.parentNode.removeChild(t):t.remove()},Nn=t=>wc(t)?Nn(t.component):Tm(t)?Jt({render(){return t}}):typeof t=="string"?t:ye(ms(t)),Mm=t=>{if(typeof t=="string")return t;const e=Nt(t,"props")&&An(t.props)?t.props:{},n=Nt(t,"listeners")&&An(t.listeners)?t.listeners:{};return{component:Nn(t),props:e,listeners:n}},Om=()=>typeof window<"u",ca=class{constructor(){this.allHandlers={}}getHandlers(t){return this.allHandlers[t]||[]}on(t,e){const n=this.getHandlers(t);n.push(e),this.allHandlers[t]=n}off(t,e){const n=this.getHandlers(t);n.splice(n.indexOf(e)>>>0,1)}emit(t,e){this.getHandlers(t).forEach(s=>s(e))}},Nm=t=>["on","off","emit"].every(e=>Nt(t,e)&&No(t[e])),ot;(function(t){t.SUCCESS="success",t.ERROR="error",t.WARNING="warning",t.INFO="info",t.DEFAULT="default"})(ot||(ot={}));var po;(function(t){t.TOP_LEFT="top-left",t.TOP_CENTER="top-center",t.TOP_RIGHT="top-right",t.BOTTOM_LEFT="bottom-left",t.BOTTOM_CENTER="bottom-center",t.BOTTOM_RIGHT="bottom-right"})(po||(po={}));var rt;(function(t){t.ADD="add",t.DISMISS="dismiss",t.UPDATE="update",t.CLEAR="clear",t.UPDATE_DEFAULTS="update_defaults"})(rt||(rt={}));var yt="Vue-Toastification",vt={type:{type:String,default:ot.DEFAULT},classNames:{type:[String,Array],default:()=>[]},trueBoolean:{type:Boolean,default:!0}},Ec={type:vt.type,customIcon:{type:[String,Boolean,Object,Function],default:!0}},Zn={component:{type:[String,Object,Function,Boolean],default:"button"},classNames:vt.classNames,showOnHover:{type:Boolean,default:!1},ariaLabel:{type:String,default:"close"}},Tr={timeout:{type:[Number,Boolean],default:5e3},hideProgressBar:{type:Boolean,default:!1},isRunning:{type:Boolean,default:!1}},kc={transition:{type:[Object,String],default:`${yt}__bounce`}},Lm={position:{type:String,default:po.TOP_RIGHT},draggable:vt.trueBoolean,draggablePercent:{type:Number,default:.6},pauseOnFocusLoss:vt.trueBoolean,pauseOnHover:vt.trueBoolean,closeOnClick:vt.trueBoolean,timeout:Tr.timeout,hideProgressBar:Tr.hideProgressBar,toastClassName:vt.classNames,bodyClassName:vt.classNames,icon:Ec.customIcon,closeButton:Zn.component,closeButtonClassName:Zn.classNames,showCloseButtonOnHover:Zn.showOnHover,accessibility:{type:Object,default:()=>({toastRole:"alert",closeButtonLabel:"close"})},rtl:{type:Boolean,default:!1},eventBus:{type:Object,required:!1,default:()=>new ca}},Um={id:{type:[String,Number],required:!0,default:0},type:vt.type,content:{type:[String,Object,Function],required:!0,default:""},onClick:{type:Function,default:void 0},onClose:{type:Function,default:void 0}},jm={container:{type:[Object,Function],default:()=>document.body},newestOnTop:vt.trueBoolean,maxToasts:{type:Number,default:20},transition:kc.transition,toastDefaults:Object,filterBeforeCreate:{type:Function,default:t=>t},filterToasts:{type:Function,default:t=>t},containerClassName:vt.classNames,onMounted:Function,shareAppContext:[Boolean,Object]},Kt={CORE_TOAST:Lm,TOAST:Um,CONTAINER:jm,PROGRESS_BAR:Tr,ICON:Ec,TRANSITION:kc,CLOSE_BUTTON:Zn},Sc=Jt({name:"VtProgressBar",props:Kt.PROGRESS_BAR,data(){return{hasClass:!0}},computed:{style(){return{animationDuration:`${this.timeout}ms`,animationPlayState:this.isRunning?"running":"paused",opacity:this.hideProgressBar?0:1}},cpClass(){return this.hasClass?`${yt}__progress-bar`:""}},watch:{timeout(){this.hasClass=!1,this.$nextTick(()=>this.hasClass=!0)}},mounted(){this.$el.addEventListener("animationend",this.animationEnded)},beforeUnmount(){this.$el.removeEventListener("animationend",this.animationEnded)},methods:{animationEnded(){this.$emit("close-toast")}}});function Bm(t,e){return y(),_("div",{style:gs(t.style),class:ee(t.cpClass)},null,6)}Sc.render=Bm;var Fm=Sc,Ac=Jt({name:"VtCloseButton",props:Kt.CLOSE_BUTTON,computed:{buttonComponent(){return this.component!==!1?Nn(this.component):"button"},classes(){const t=[`${yt}__close-button`];return this.showOnHover&&t.push("show-on-hover"),t.concat(this.classNames)}}}),Vm=N(" × ");function Hm(t,e){return y(),_e(Mn(t.buttonComponent),Do({"aria-label":t.ariaLabel,class:t.classes},t.$attrs),{default:ht(()=>[Vm]),_:1},16,["aria-label","class"])}Ac.render=Hm;var qm=Ac,Rc={},zm={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"check-circle",class:"svg-inline--fa fa-check-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Wm=o("path",{fill:"currentColor",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},null,-1),Gm=[Wm];function Km(t,e){return y(),_("svg",zm,Gm)}Rc.render=Km;var Ym=Rc,Ic={},Xm={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"info-circle",class:"svg-inline--fa fa-info-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Jm=o("path",{fill:"currentColor",d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},null,-1),Qm=[Jm];function Zm(t,e){return y(),_("svg",Xm,Qm)}Ic.render=Zm;var fi=Ic,Tc={},ep={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-circle",class:"svg-inline--fa fa-exclamation-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},tp=o("path",{fill:"currentColor",d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),sp=[tp];function np(t,e){return y(),_("svg",ep,sp)}Tc.render=np;var op=Tc,Pc={},rp={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-triangle",class:"svg-inline--fa fa-exclamation-triangle fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},ap=o("path",{fill:"currentColor",d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),ip=[ap];function lp(t,e){return y(),_("svg",rp,ip)}Pc.render=lp;var cp=Pc,Dc=Jt({name:"VtIcon",props:Kt.ICON,computed:{customIconChildren(){return Nt(this.customIcon,"iconChildren")?this.trimValue(this.customIcon.iconChildren):""},customIconClass(){return Lo(this.customIcon)?this.trimValue(this.customIcon):Nt(this.customIcon,"iconClass")?this.trimValue(this.customIcon.iconClass):""},customIconTag(){return Nt(this.customIcon,"iconTag")?this.trimValue(this.customIcon.iconTag,"i"):"i"},hasCustomIcon(){return this.customIconClass.length>0},component(){return this.hasCustomIcon?this.customIconTag:Cc(this.customIcon)?Nn(this.customIcon):this.iconTypeComponent},iconTypeComponent(){return{[ot.DEFAULT]:fi,[ot.INFO]:fi,[ot.SUCCESS]:Ym,[ot.ERROR]:cp,[ot.WARNING]:op}[this.type]},iconClasses(){const t=[`${yt}__icon`];return this.hasCustomIcon?t.concat(this.customIconClass):t}},methods:{trimValue(t,e=""){return bc(t)?t.trim():e}}});function dp(t,e){return y(),_e(Mn(t.component),{class:ee(t.iconClasses)},{default:ht(()=>[N(h(t.customIconChildren),1)]),_:1},8,["class"])}Dc.render=dp;var up=Dc,$c=Jt({name:"VtToast",components:{ProgressBar:Fm,CloseButton:qm,Icon:up},inheritAttrs:!1,props:Object.assign({},Kt.CORE_TOAST,Kt.TOAST),data(){return{isRunning:!0,disableTransitions:!1,beingDragged:!1,dragStart:0,dragPos:{x:0,y:0},dragRect:{}}},computed:{classes(){const t=[`${yt}__toast`,`${yt}__toast--${this.type}`,`${this.position}`].concat(this.toastClassName);return this.disableTransitions&&t.push("disable-transition"),this.rtl&&t.push(`${yt}__toast--rtl`),t},bodyClasses(){return[`${yt}__toast-${Lo(this.content)?"body":"component-body"}`].concat(this.bodyClassName)},draggableStyle(){return this.dragStart===this.dragPos.x?{}:this.beingDragged?{transform:`translateX(${this.dragDelta}px)`,opacity:1-Math.abs(this.dragDelta/this.removalDistance)}:{transition:"transform 0.2s, opacity 0.2s",transform:"translateX(0)",opacity:1}},dragDelta(){return this.beingDragged?this.dragPos.x-this.dragStart:0},removalDistance(){return di(this.dragRect)?(this.dragRect.right-this.dragRect.left)*this.draggablePercent:0}},mounted(){this.draggable&&this.draggableSetup(),this.pauseOnFocusLoss&&this.focusSetup()},beforeUnmount(){this.draggable&&this.draggableCleanup(),this.pauseOnFocusLoss&&this.focusCleanup()},methods:{hasProp:Nt,getVueComponentFromObj:Nn,closeToast(){this.eventBus.emit(rt.DISMISS,this.id)},clickHandler(){this.onClick&&this.onClick(this.closeToast),this.closeOnClick&&(!this.beingDragged||this.dragStart===this.dragPos.x)&&this.closeToast()},timeoutHandler(){this.closeToast()},hoverPause(){this.pauseOnHover&&(this.isRunning=!1)},hoverPlay(){this.pauseOnHover&&(this.isRunning=!0)},focusPause(){this.isRunning=!1},focusPlay(){this.isRunning=!0},focusSetup(){addEventListener("blur",this.focusPause),addEventListener("focus",this.focusPlay)},focusCleanup(){removeEventListener("blur",this.focusPause),removeEventListener("focus",this.focusPlay)},draggableSetup(){const t=this.$el;t.addEventListener("touchstart",this.onDragStart,{passive:!0}),t.addEventListener("mousedown",this.onDragStart),addEventListener("touchmove",this.onDragMove,{passive:!1}),addEventListener("mousemove",this.onDragMove),addEventListener("touchend",this.onDragEnd),addEventListener("mouseup",this.onDragEnd)},draggableCleanup(){const t=this.$el;t.removeEventListener("touchstart",this.onDragStart),t.removeEventListener("mousedown",this.onDragStart),removeEventListener("touchmove",this.onDragMove),removeEventListener("mousemove",this.onDragMove),removeEventListener("touchend",this.onDragEnd),removeEventListener("mouseup",this.onDragEnd)},onDragStart(t){this.beingDragged=!0,this.dragPos={x:cr(t),y:ui(t)},this.dragStart=cr(t),this.dragRect=this.$el.getBoundingClientRect()},onDragMove(t){this.beingDragged&&(t.preventDefault(),this.isRunning&&(this.isRunning=!1),this.dragPos={x:cr(t),y:ui(t)})},onDragEnd(){this.beingDragged&&(Math.abs(this.dragDelta)>=this.removalDistance?(this.disableTransitions=!0,this.$nextTick(()=>this.closeToast())):setTimeout(()=>{this.beingDragged=!1,di(this.dragRect)&&this.pauseOnHover&&this.dragRect.bottom>=this.dragPos.y&&this.dragPos.y>=this.dragRect.top&&this.dragRect.left<=this.dragPos.x&&this.dragPos.x<=this.dragRect.right?this.isRunning=!1:this.isRunning=!0}))}}}),fp=["role"];function mp(t,e){const n=$("Icon"),s=$("CloseButton"),r=$("ProgressBar");return y(),_("div",{class:ee(t.classes),style:gs(t.draggableStyle),onClick:e[0]||(e[0]=(...a)=>t.clickHandler&&t.clickHandler(...a)),onMouseenter:e[1]||(e[1]=(...a)=>t.hoverPause&&t.hoverPause(...a)),onMouseleave:e[2]||(e[2]=(...a)=>t.hoverPlay&&t.hoverPlay(...a))},[t.icon?(y(),_e(n,{key:0,"custom-icon":t.icon,type:t.type},null,8,["custom-icon","type"])):O("v-if",!0),o("div",{role:t.accessibility.toastRole||"alert",class:ee(t.bodyClasses)},[typeof t.content=="string"?(y(),_(he,{key:0},[N(h(t.content),1)],2112)):(y(),_e(Mn(t.getVueComponentFromObj(t.content)),Do({key:1,"toast-id":t.id},t.hasProp(t.content,"props")?t.content.props:{},zu(t.hasProp(t.content,"listeners")?t.content.listeners:{}),{onCloseToast:t.closeToast}),null,16,["toast-id","onCloseToast"]))],10,fp),t.closeButton?(y(),_e(s,{key:1,component:t.closeButton,"class-names":t.closeButtonClassName,"show-on-hover":t.showCloseButtonOnHover,"aria-label":t.accessibility.closeButtonLabel,onClick:dt(t.closeToast,["stop"])},null,8,["component","class-names","show-on-hover","aria-label","onClick"])):O("v-if",!0),t.timeout?(y(),_e(r,{key:2,"is-running":t.isRunning,"hide-progress-bar":t.hideProgressBar,timeout:t.timeout,onCloseToast:t.timeoutHandler},null,8,["is-running","hide-progress-bar","timeout","onCloseToast"])):O("v-if",!0)],38)}$c.render=mp;var pp=$c,Mc=Jt({name:"VtTransition",props:Kt.TRANSITION,emits:["leave"],methods:{hasProp:Nt,leave(t){t instanceof HTMLElement&&(t.style.left=t.offsetLeft+"px",t.style.top=t.offsetTop+"px",t.style.width=getComputedStyle(t).width,t.style.position="absolute")}}});function hp(t,e){return y(),_e(rm,{tag:"div","enter-active-class":t.transition.enter?t.transition.enter:`${t.transition}-enter-active`,"move-class":t.transition.move?t.transition.move:`${t.transition}-move`,"leave-active-class":t.transition.leave?t.transition.leave:`${t.transition}-leave-active`,onLeave:t.leave},{default:ht(()=>[qu(t.$slots,"default")]),_:3},8,["enter-active-class","move-class","leave-active-class","onLeave"])}Mc.render=hp;var gp=Mc,Oc=Jt({name:"VueToastification",devtools:{hide:!0},components:{Toast:pp,VtTransition:gp},props:Object.assign({},Kt.CORE_TOAST,Kt.CONTAINER,Kt.TRANSITION),data(){return{count:0,positions:Object.values(po),toasts:{},defaults:{}}},computed:{toastArray(){return Object.values(this.toasts)},filteredToasts(){return this.defaults.filterToasts(this.toastArray)}},beforeMount(){const t=this.eventBus;t.on(rt.ADD,this.addToast),t.on(rt.CLEAR,this.clearToasts),t.on(rt.DISMISS,this.dismissToast),t.on(rt.UPDATE,this.updateToast),t.on(rt.UPDATE_DEFAULTS,this.updateDefaults),this.defaults=this.$props},mounted(){this.setup(this.container)},methods:{async setup(t){No(t)&&(t=await t()),$m(this.$el),t.appendChild(this.$el)},setToast(t){ws(t.id)||(this.toasts[t.id]=t)},addToast(t){t.content=Mm(t.content);const e=Object.assign({},this.defaults,t.type&&this.defaults.toastDefaults&&this.defaults.toastDefaults[t.type],t),n=this.defaults.filterBeforeCreate(e,this.toastArray);n&&this.setToast(n)},dismissToast(t){const e=this.toasts[t];!ws(e)&&!ws(e.onClose)&&e.onClose(),delete this.toasts[t]},clearToasts(){Object.keys(this.toasts).forEach(t=>{this.dismissToast(t)})},getPositionToasts(t){const e=this.filteredToasts.filter(n=>n.position===t).slice(0,this.defaults.maxToasts);return this.defaults.newestOnTop?e.reverse():e},updateDefaults(t){ws(t.container)||this.setup(t.container),this.defaults=Object.assign({},this.defaults,t)},updateToast({id:t,options:e,create:n}){this.toasts[t]?(e.timeout&&e.timeout===this.toasts[t].timeout&&e.timeout++,this.setToast(Object.assign({},this.toasts[t],e))):n&&this.addToast(Object.assign({},{id:t},e))},getClasses(t){return[`${yt}__container`,t].concat(this.defaults.containerClassName)}}});function vp(t,e){const n=$("Toast"),s=$("VtTransition");return y(),_("div",null,[(y(!0),_(he,null,Re(t.positions,r=>(y(),_("div",{key:r},[I(s,{transition:t.defaults.transition,class:ee(t.getClasses(r))},{default:ht(()=>[(y(!0),_(he,null,Re(t.getPositionToasts(r),a=>(y(),_e(n,Do({key:a.id},a),null,16))),128))]),_:2},1032,["transition","class"])]))),128))])}Oc.render=vp;var yp=Oc,mi=(t={},e=!0)=>{const n=t.eventBus=t.eventBus||new ca;e&&Zs(()=>{const a=pc(yp,_c({},t)),i=a.mount(document.createElement("div")),l=t.onMounted;if(ws(l)||l(i,a),t.shareAppContext){const c=t.shareAppContext;c===!0?console.warn(`[${yt}] App to share context with was not provided.`):(a._context.components=c._context.components,a._context.directives=c._context.directives,a._context.mixins=c._context.mixins,a._context.provides=c._context.provides,a.config.globalProperties=c.config.globalProperties)}});const s=(a,i)=>{const l=Object.assign({},{id:Dm(),type:ot.DEFAULT},i,{content:a});return n.emit(rt.ADD,l),l.id};s.clear=()=>n.emit(rt.CLEAR,void 0),s.updateDefaults=a=>{n.emit(rt.UPDATE_DEFAULTS,a)},s.dismiss=a=>{n.emit(rt.DISMISS,a)};function r(a,{content:i,options:l},c=!1){const d=Object.assign({},l,{content:i});n.emit(rt.UPDATE,{id:a,options:d,create:c})}return s.update=r,s.success=(a,i)=>s(a,Object.assign({},i,{type:ot.SUCCESS})),s.info=(a,i)=>s(a,Object.assign({},i,{type:ot.INFO})),s.error=(a,i)=>s(a,Object.assign({},i,{type:ot.ERROR})),s.warning=(a,i)=>s(a,Object.assign({},i,{type:ot.WARNING})),s},_p=()=>{const t=()=>console.warn(`[${yt}] This plugin does not support SSR!`);return new Proxy(t,{get(){return t}})};function Pr(t){return Om()?Nm(t)?mi({eventBus:t},!1):mi(t,!0):_p()}var Nc=Symbol("VueToastification"),Lc=new ca,bp=(t,e)=>{(e==null?void 0:e.shareAppContext)===!0&&(e.shareAppContext=t);const n=Pr(_c({eventBus:Lc},e));t.provide(Nc,n)},$e=t=>{if(t)return Pr(t);const e=$o()?ft(Nc,void 0):void 0;return e||Pr(Lc)},xp=bp;/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Fs=typeof document<"u";function Uc(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function wp(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Uc(t.default)}const we=Object.assign;function dr(t,e){const n={};for(const s in e){const r=e[s];n[s]=Et(r)?r.map(t):t(r)}return n}const vn=()=>{},Et=Array.isArray,jc=/#/g,Cp=/&/g,Ep=/\//g,kp=/=/g,Sp=/\?/g,Bc=/\+/g,Ap=/%5B/g,Rp=/%5D/g,Fc=/%5E/g,Ip=/%60/g,Vc=/%7B/g,Tp=/%7C/g,Hc=/%7D/g,Pp=/%20/g;function da(t){return encodeURI(""+t).replace(Tp,"|").replace(Ap,"[").replace(Rp,"]")}function Dp(t){return da(t).replace(Vc,"{").replace(Hc,"}").replace(Fc,"^")}function Dr(t){return da(t).replace(Bc,"%2B").replace(Pp,"+").replace(jc,"%23").replace(Cp,"%26").replace(Ip,"`").replace(Vc,"{").replace(Hc,"}").replace(Fc,"^")}function $p(t){return Dr(t).replace(kp,"%3D")}function Mp(t){return da(t).replace(jc,"%23").replace(Sp,"%3F")}function Op(t){return t==null?"":Mp(t).replace(Ep,"%2F")}function Rn(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const Np=/\/$/,Lp=t=>t.replace(Np,"");function ur(t,e,n="/"){let s,r={},a="",i="";const l=e.indexOf("#");let c=e.indexOf("?");return l<c&&l>=0&&(c=-1),c>-1&&(s=e.slice(0,c),a=e.slice(c+1,l>-1?l:e.length),r=t(a)),l>-1&&(s=s||e.slice(0,l),i=e.slice(l,e.length)),s=Fp(s??e,n),{fullPath:s+(a&&"?")+a+i,path:s,query:r,hash:Rn(i)}}function Up(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function pi(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function jp(t,e,n){const s=e.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&Ys(e.matched[s],n.matched[r])&&qc(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Ys(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function qc(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!Bp(t[n],e[n]))return!1;return!0}function Bp(t,e){return Et(t)?hi(t,e):Et(e)?hi(e,t):t===e}function hi(t,e){return Et(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function Fp(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let a=n.length-1,i,l;for(i=0;i<s.length;i++)if(l=s[i],l!==".")if(l==="..")a>1&&a--;else break;return n.slice(0,a).join("/")+"/"+s.slice(i).join("/")}const ns={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var In;(function(t){t.pop="pop",t.push="push"})(In||(In={}));var yn;(function(t){t.back="back",t.forward="forward",t.unknown=""})(yn||(yn={}));function Vp(t){if(!t)if(Fs){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Lp(t)}const Hp=/^[^#]+#/;function qp(t,e){return t.replace(Hp,"#")+e}function zp(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const Uo=()=>({left:window.scrollX,top:window.scrollY});function Wp(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=zp(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function gi(t,e){return(history.state?history.state.position-e:-1)+t}const $r=new Map;function Gp(t,e){$r.set(t,e)}function Kp(t){const e=$r.get(t);return $r.delete(t),e}let Yp=()=>location.protocol+"//"+location.host;function zc(t,e){const{pathname:n,search:s,hash:r}=e,a=t.indexOf("#");if(a>-1){let l=r.includes(t.slice(a))?t.slice(a).length:1,c=r.slice(l);return c[0]!=="/"&&(c="/"+c),pi(c,"")}return pi(n,t)+s+r}function Xp(t,e,n,s){let r=[],a=[],i=null;const l=({state:m})=>{const g=zc(t,location),p=n.value,v=e.value;let x=0;if(m){if(n.value=g,e.value=m,i&&i===p){i=null;return}x=v?m.position-v.position:0}else s(g);r.forEach(C=>{C(n.value,p,{delta:x,type:In.pop,direction:x?x>0?yn.forward:yn.back:yn.unknown})})};function c(){i=n.value}function d(m){r.push(m);const g=()=>{const p=r.indexOf(m);p>-1&&r.splice(p,1)};return a.push(g),g}function u(){const{history:m}=window;m.state&&m.replaceState(we({},m.state,{scroll:Uo()}),"")}function f(){for(const m of a)m();a=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:c,listen:d,destroy:f}}function vi(t,e,n,s=!1,r=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:r?Uo():null}}function Jp(t){const{history:e,location:n}=window,s={value:zc(t,n)},r={value:e.state};r.value||a(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function a(c,d,u){const f=t.indexOf("#"),m=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+c:Yp()+t+c;try{e[u?"replaceState":"pushState"](d,"",m),r.value=d}catch(g){console.error(g),n[u?"replace":"assign"](m)}}function i(c,d){const u=we({},e.state,vi(r.value.back,c,r.value.forward,!0),d,{position:r.value.position});a(c,u,!0),s.value=c}function l(c,d){const u=we({},r.value,e.state,{forward:c,scroll:Uo()});a(u.current,u,!0);const f=we({},vi(s.value,c,null),{position:u.position+1},d);a(c,f,!1),s.value=c}return{location:s,state:r,push:l,replace:i}}function Qp(t){t=Vp(t);const e=Jp(t),n=Xp(t,e.state,e.location,e.replace);function s(a,i=!0){i||n.pauseListeners(),history.go(a)}const r=we({location:"",base:t,go:s,createHref:qp.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function Zp(t){return typeof t=="string"||t&&typeof t=="object"}function Wc(t){return typeof t=="string"||typeof t=="symbol"}const Gc=Symbol("");var yi;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(yi||(yi={}));function Xs(t,e){return we(new Error,{type:t,[Gc]:!0},e)}function Vt(t,e){return t instanceof Error&&Gc in t&&(e==null||!!(t.type&e))}const _i="[^/]+?",e0={sensitive:!1,strict:!1,start:!0,end:!0},t0=/[.+*?^${}()[\]/\\]/g;function s0(t,e){const n=we({},e0,e),s=[];let r=n.start?"^":"";const a=[];for(const d of t){const u=d.length?[]:[90];n.strict&&!d.length&&(r+="/");for(let f=0;f<d.length;f++){const m=d[f];let g=40+(n.sensitive?.25:0);if(m.type===0)f||(r+="/"),r+=m.value.replace(t0,"\\$&"),g+=40;else if(m.type===1){const{value:p,repeatable:v,optional:x,regexp:C}=m;a.push({name:p,repeatable:v,optional:x});const S=C||_i;if(S!==_i){g+=10;try{new RegExp(`(${S})`)}catch(E){throw new Error(`Invalid custom RegExp for param "${p}" (${S}): `+E.message)}}let B=v?`((?:${S})(?:/(?:${S}))*)`:`(${S})`;f||(B=x&&d.length<2?`(?:/${B})`:"/"+B),x&&(B+="?"),r+=B,g+=20,x&&(g+=-8),v&&(g+=-20),S===".*"&&(g+=-50)}u.push(g)}s.push(u)}if(n.strict&&n.end){const d=s.length-1;s[d][s[d].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const i=new RegExp(r,n.sensitive?"":"i");function l(d){const u=d.match(i),f={};if(!u)return null;for(let m=1;m<u.length;m++){const g=u[m]||"",p=a[m-1];f[p.name]=g&&p.repeatable?g.split("/"):g}return f}function c(d){let u="",f=!1;for(const m of t){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const g of m)if(g.type===0)u+=g.value;else if(g.type===1){const{value:p,repeatable:v,optional:x}=g,C=p in d?d[p]:"";if(Et(C)&&!v)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const S=Et(C)?C.join("/"):C;if(!S)if(x)m.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${p}"`);u+=S}}return u||"/"}return{re:i,score:s,keys:a,parse:l,stringify:c}}function n0(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function Kc(t,e){let n=0;const s=t.score,r=e.score;for(;n<s.length&&n<r.length;){const a=n0(s[n],r[n]);if(a)return a;n++}if(Math.abs(r.length-s.length)===1){if(bi(s))return 1;if(bi(r))return-1}return r.length-s.length}function bi(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const o0={type:0,value:""},r0=/[a-zA-Z0-9_]/;function a0(t){if(!t)return[[]];if(t==="/")return[[o0]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${n})/"${d}": ${g}`)}let n=0,s=n;const r=[];let a;function i(){a&&r.push(a),a=[]}let l=0,c,d="",u="";function f(){d&&(n===0?a.push({type:0,value:d}):n===1||n===2||n===3?(a.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),a.push({type:1,value:d,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),d="")}function m(){d+=c}for(;l<t.length;){if(c=t[l++],c==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:c==="/"?(d&&f(),i()):c===":"?(f(),n=1):m();break;case 4:m(),n=s;break;case 1:c==="("?n=2:r0.test(c)?m():(f(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:n=3:u+=c;break;case 3:f(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${d}"`),f(),i(),r}function i0(t,e,n){const s=s0(a0(t.path),n),r=we(s,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function l0(t,e){const n=[],s=new Map;e=Ei({strict:!1,end:!0,sensitive:!1},e);function r(f){return s.get(f)}function a(f,m,g){const p=!g,v=wi(f);v.aliasOf=g&&g.record;const x=Ei(e,f),C=[v];if("alias"in f){const E=typeof f.alias=="string"?[f.alias]:f.alias;for(const A of E)C.push(wi(we({},v,{components:g?g.record.components:v.components,path:A,aliasOf:g?g.record:v})))}let S,B;for(const E of C){const{path:A}=E;if(m&&A[0]!=="/"){const k=m.record.path,T=k[k.length-1]==="/"?"":"/";E.path=m.record.path+(A&&T+A)}if(S=i0(E,m,x),g?g.alias.push(S):(B=B||S,B!==S&&B.alias.push(S),p&&f.name&&!Ci(S)&&i(f.name)),Yc(S)&&c(S),v.children){const k=v.children;for(let T=0;T<k.length;T++)a(k[T],S,g&&g.children[T])}g=g||S}return B?()=>{i(B)}:vn}function i(f){if(Wc(f)){const m=s.get(f);m&&(s.delete(f),n.splice(n.indexOf(m),1),m.children.forEach(i),m.alias.forEach(i))}else{const m=n.indexOf(f);m>-1&&(n.splice(m,1),f.record.name&&s.delete(f.record.name),f.children.forEach(i),f.alias.forEach(i))}}function l(){return n}function c(f){const m=u0(f,n);n.splice(m,0,f),f.record.name&&!Ci(f)&&s.set(f.record.name,f)}function d(f,m){let g,p={},v,x;if("name"in f&&f.name){if(g=s.get(f.name),!g)throw Xs(1,{location:f});x=g.record.name,p=we(xi(m.params,g.keys.filter(B=>!B.optional).concat(g.parent?g.parent.keys.filter(B=>B.optional):[]).map(B=>B.name)),f.params&&xi(f.params,g.keys.map(B=>B.name))),v=g.stringify(p)}else if(f.path!=null)v=f.path,g=n.find(B=>B.re.test(v)),g&&(p=g.parse(v),x=g.record.name);else{if(g=m.name?s.get(m.name):n.find(B=>B.re.test(m.path)),!g)throw Xs(1,{location:f,currentLocation:m});x=g.record.name,p=we({},m.params,f.params),v=g.stringify(p)}const C=[];let S=g;for(;S;)C.unshift(S.record),S=S.parent;return{name:x,path:v,params:p,matched:C,meta:d0(C)}}t.forEach(f=>a(f));function u(){n.length=0,s.clear()}return{addRoute:a,resolve:d,removeRoute:i,clearRoutes:u,getRoutes:l,getRecordMatcher:r}}function xi(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function wi(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:c0(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function c0(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function Ci(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function d0(t){return t.reduce((e,n)=>we(e,n.meta),{})}function Ei(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function u0(t,e){let n=0,s=e.length;for(;n!==s;){const a=n+s>>1;Kc(t,e[a])<0?s=a:n=a+1}const r=f0(t);return r&&(s=e.lastIndexOf(r,s-1)),s}function f0(t){let e=t;for(;e=e.parent;)if(Yc(e)&&Kc(t,e)===0)return e}function Yc({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function m0(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<s.length;++r){const a=s[r].replace(Bc," "),i=a.indexOf("="),l=Rn(i<0?a:a.slice(0,i)),c=i<0?null:Rn(a.slice(i+1));if(l in e){let d=e[l];Et(d)||(d=e[l]=[d]),d.push(c)}else e[l]=c}return e}function ki(t){let e="";for(let n in t){const s=t[n];if(n=$p(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(Et(s)?s.map(a=>a&&Dr(a)):[s&&Dr(s)]).forEach(a=>{a!==void 0&&(e+=(e.length?"&":"")+n,a!=null&&(e+="="+a))})}return e}function p0(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=Et(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return e}const h0=Symbol(""),Si=Symbol(""),jo=Symbol(""),Xc=Symbol(""),Mr=Symbol("");function rn(){let t=[];function e(s){return t.push(s),()=>{const r=t.indexOf(s);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function cs(t,e,n,s,r,a=i=>i()){const i=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((l,c)=>{const d=m=>{m===!1?c(Xs(4,{from:n,to:e})):m instanceof Error?c(m):Zp(m)?c(Xs(2,{from:e,to:m})):(i&&s.enterCallbacks[r]===i&&typeof m=="function"&&i.push(m),l())},u=a(()=>t.call(s&&s.instances[r],e,n,d));let f=Promise.resolve(u);t.length<3&&(f=f.then(d)),f.catch(m=>c(m))})}function fr(t,e,n,s,r=a=>a()){const a=[];for(const i of t)for(const l in i.components){let c=i.components[l];if(!(e!=="beforeRouteEnter"&&!i.instances[l]))if(Uc(c)){const u=(c.__vccOpts||c)[e];u&&a.push(cs(u,n,s,i,l,r))}else{let d=c();a.push(()=>d.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${l}" at "${i.path}"`);const f=wp(u)?u.default:u;i.mods[l]=u,i.components[l]=f;const g=(f.__vccOpts||f)[e];return g&&cs(g,n,s,i,l,r)()}))}}return a}function Ai(t){const e=ft(jo),n=ft(Xc),s=ne(()=>{const c=ms(t.to);return e.resolve(c)}),r=ne(()=>{const{matched:c}=s.value,{length:d}=c,u=c[d-1],f=n.matched;if(!u||!f.length)return-1;const m=f.findIndex(Ys.bind(null,u));if(m>-1)return m;const g=Ri(c[d-2]);return d>1&&Ri(u)===g&&f[f.length-1].path!==g?f.findIndex(Ys.bind(null,c[d-2])):m}),a=ne(()=>r.value>-1&&b0(n.params,s.value.params)),i=ne(()=>r.value>-1&&r.value===n.matched.length-1&&qc(n.params,s.value.params));function l(c={}){if(_0(c)){const d=e[ms(t.replace)?"replace":"push"](ms(t.to)).catch(vn);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>d),d}return Promise.resolve()}return{route:s,href:ne(()=>s.value.href),isActive:a,isExactActive:i,navigate:l}}function g0(t){return t.length===1?t[0]:t}const v0=Jt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Ai,setup(t,{slots:e}){const n=pt(Ai(t)),{options:s}=ft(jo),r=ne(()=>({[Ii(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Ii(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const a=e.default&&g0(e.default(n));return t.custom?a:ic("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},a)}}}),y0=v0;function _0(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function b0(t,e){for(const n in e){const s=e[n],r=t[n];if(typeof s=="string"){if(s!==r)return!1}else if(!Et(r)||r.length!==s.length||s.some((a,i)=>a!==r[i]))return!1}return!0}function Ri(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Ii=(t,e,n)=>t??e??n,x0=Jt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=ft(Mr),r=ne(()=>t.route||s.value),a=ft(Si,0),i=ne(()=>{let d=ms(a);const{matched:u}=r.value;let f;for(;(f=u[d])&&!f.components;)d++;return d}),l=ne(()=>r.value.matched[i.value]);Yn(Si,ne(()=>i.value+1)),Yn(h0,l),Yn(Mr,r);const c=U();return Wt(()=>[c.value,l.value,t.name],([d,u,f],[m,g,p])=>{u&&(u.instances[f]=d,g&&g!==u&&d&&d===m&&(u.leaveGuards.size||(u.leaveGuards=g.leaveGuards),u.updateGuards.size||(u.updateGuards=g.updateGuards))),d&&u&&(!g||!Ys(u,g)||!m)&&(u.enterCallbacks[f]||[]).forEach(v=>v(d))},{flush:"post"}),()=>{const d=r.value,u=t.name,f=l.value,m=f&&f.components[u];if(!m)return Ti(n.default,{Component:m,route:d});const g=f.props[u],p=g?g===!0?d.params:typeof g=="function"?g(d):g:null,x=ic(m,we({},p,e,{onVnodeUnmounted:C=>{C.component.isUnmounted&&(f.instances[u]=null)},ref:c}));return Ti(n.default,{Component:x,route:d})||x}}});function Ti(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const w0=x0;function C0(t){const e=l0(t.routes,t),n=t.parseQuery||m0,s=t.stringifyQuery||ki,r=t.history,a=rn(),i=rn(),l=rn(),c=vu(ns);let d=ns;Fs&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=dr.bind(null,F=>""+F),f=dr.bind(null,Op),m=dr.bind(null,Rn);function g(F,Z){let J,oe;return Wc(F)?(J=e.getRecordMatcher(F),oe=Z):oe=F,e.addRoute(oe,J)}function p(F){const Z=e.getRecordMatcher(F);Z&&e.removeRoute(Z)}function v(){return e.getRoutes().map(F=>F.record)}function x(F){return!!e.getRecordMatcher(F)}function C(F,Z){if(Z=we({},Z||c.value),typeof F=="string"){const w=ur(n,F,Z.path),R=e.resolve({path:w.path},Z),V=r.createHref(w.fullPath);return we(w,R,{params:m(R.params),hash:Rn(w.hash),redirectedFrom:void 0,href:V})}let J;if(F.path!=null)J=we({},F,{path:ur(n,F.path,Z.path).path});else{const w=we({},F.params);for(const R in w)w[R]==null&&delete w[R];J=we({},F,{params:f(w)}),Z.params=f(Z.params)}const oe=e.resolve(J,Z),xe=F.hash||"";oe.params=u(m(oe.params));const De=Up(s,we({},F,{hash:Dp(xe),path:oe.path})),b=r.createHref(De);return we({fullPath:De,hash:xe,query:s===ki?p0(F.query):F.query||{}},oe,{redirectedFrom:void 0,href:b})}function S(F){return typeof F=="string"?ur(n,F,c.value.path):we({},F)}function B(F,Z){if(d!==F)return Xs(8,{from:Z,to:F})}function E(F){return T(F)}function A(F){return E(we(S(F),{replace:!0}))}function k(F){const Z=F.matched[F.matched.length-1];if(Z&&Z.redirect){const{redirect:J}=Z;let oe=typeof J=="function"?J(F):J;return typeof oe=="string"&&(oe=oe.includes("?")||oe.includes("#")?oe=S(oe):{path:oe},oe.params={}),we({query:F.query,hash:F.hash,params:oe.path!=null?{}:F.params},oe)}}function T(F,Z){const J=d=C(F),oe=c.value,xe=F.state,De=F.force,b=F.replace===!0,w=k(J);if(w)return T(we(S(w),{state:typeof w=="object"?we({},xe,w.state):xe,force:De,replace:b}),Z||J);const R=J;R.redirectedFrom=Z;let V;return!De&&jp(s,oe,J)&&(V=Xs(16,{to:R,from:oe}),At(oe,oe,!0,!1)),(V?Promise.resolve(V):D(R,oe)).catch(j=>Vt(j)?Vt(j,2)?j:ts(j):be(j,R,oe)).then(j=>{if(j){if(Vt(j,2))return T(we({replace:b},S(j.to),{state:typeof j.to=="object"?we({},xe,j.to.state):xe,force:De}),Z||R)}else j=q(R,oe,!0,b,xe);return W(R,oe,j),j})}function M(F,Z){const J=B(F,Z);return J?Promise.reject(J):Promise.resolve()}function L(F){const Z=Ms.values().next().value;return Z&&typeof Z.runWithContext=="function"?Z.runWithContext(F):F()}function D(F,Z){let J;const[oe,xe,De]=E0(F,Z);J=fr(oe.reverse(),"beforeRouteLeave",F,Z);for(const w of oe)w.leaveGuards.forEach(R=>{J.push(cs(R,F,Z))});const b=M.bind(null,F,Z);return J.push(b),lt(J).then(()=>{J=[];for(const w of a.list())J.push(cs(w,F,Z));return J.push(b),lt(J)}).then(()=>{J=fr(xe,"beforeRouteUpdate",F,Z);for(const w of xe)w.updateGuards.forEach(R=>{J.push(cs(R,F,Z))});return J.push(b),lt(J)}).then(()=>{J=[];for(const w of De)if(w.beforeEnter)if(Et(w.beforeEnter))for(const R of w.beforeEnter)J.push(cs(R,F,Z));else J.push(cs(w.beforeEnter,F,Z));return J.push(b),lt(J)}).then(()=>(F.matched.forEach(w=>w.enterCallbacks={}),J=fr(De,"beforeRouteEnter",F,Z,L),J.push(b),lt(J))).then(()=>{J=[];for(const w of i.list())J.push(cs(w,F,Z));return J.push(b),lt(J)}).catch(w=>Vt(w,8)?w:Promise.reject(w))}function W(F,Z,J){l.list().forEach(oe=>L(()=>oe(F,Z,J)))}function q(F,Z,J,oe,xe){const De=B(F,Z);if(De)return De;const b=Z===ns,w=Fs?history.state:{};J&&(oe||b?r.replace(F.fullPath,we({scroll:b&&w&&w.scroll},xe)):r.push(F.fullPath,xe)),c.value=F,At(F,Z,J,b),ts()}let se;function ce(){se||(se=r.listen((F,Z,J)=>{if(!Vn.listening)return;const oe=C(F),xe=k(oe);if(xe){T(we(xe,{replace:!0,force:!0}),oe).catch(vn);return}d=oe;const De=c.value;Fs&&Gp(gi(De.fullPath,J.delta),Uo()),D(oe,De).catch(b=>Vt(b,12)?b:Vt(b,2)?(T(we(S(b.to),{force:!0}),oe).then(w=>{Vt(w,20)&&!J.delta&&J.type===In.pop&&r.go(-1,!1)}).catch(vn),Promise.reject()):(J.delta&&r.go(-J.delta,!1),be(b,oe,De))).then(b=>{b=b||q(oe,De,!1),b&&(J.delta&&!Vt(b,8)?r.go(-J.delta,!1):J.type===In.pop&&Vt(b,20)&&r.go(-1,!1)),W(oe,De,b)}).catch(vn)}))}let te=rn(),me=rn(),de;function be(F,Z,J){ts(F);const oe=me.list();return oe.length?oe.forEach(xe=>xe(F,Z,J)):console.error(F),Promise.reject(F)}function Bt(){return de&&c.value!==ns?Promise.resolve():new Promise((F,Z)=>{te.add([F,Z])})}function ts(F){return de||(de=!F,ce(),te.list().forEach(([Z,J])=>F?J(F):Z()),te.reset()),F}function At(F,Z,J,oe){const{scrollBehavior:xe}=t;if(!Fs||!xe)return Promise.resolve();const De=!J&&Kp(gi(F.fullPath,0))||(oe||!J)&&history.state&&history.state.scroll||null;return Zs().then(()=>xe(F,Z,De)).then(b=>b&&Wp(b)).catch(b=>be(b,F,Z))}const Qe=F=>r.go(F);let $s;const Ms=new Set,Vn={currentRoute:c,listening:!0,addRoute:g,removeRoute:p,clearRoutes:e.clearRoutes,hasRoute:x,getRoutes:v,resolve:C,options:t,push:E,replace:A,go:Qe,back:()=>Qe(-1),forward:()=>Qe(1),beforeEach:a.add,beforeResolve:i.add,afterEach:l.add,onError:me.add,isReady:Bt,install(F){const Z=this;F.component("RouterLink",y0),F.component("RouterView",w0),F.config.globalProperties.$router=Z,Object.defineProperty(F.config.globalProperties,"$route",{enumerable:!0,get:()=>ms(c)}),Fs&&!$s&&c.value===ns&&($s=!0,E(r.location).catch(xe=>{}));const J={};for(const xe in ns)Object.defineProperty(J,xe,{get:()=>c.value[xe],enumerable:!0});F.provide(jo,Z),F.provide(Xc,wl(J)),F.provide(Mr,c);const oe=F.unmount;Ms.add(F),F.unmount=function(){Ms.delete(F),Ms.size<1&&(d=ns,se&&se(),se=null,c.value=ns,$s=!1,de=!1),oe()}}};function lt(F){return F.reduce((Z,J)=>Z.then(()=>L(J)),Promise.resolve())}return Vn}function E0(t,e){const n=[],s=[],r=[],a=Math.max(e.matched.length,t.matched.length);for(let i=0;i<a;i++){const l=e.matched[i];l&&(t.matched.find(d=>Ys(d,l))?s.push(l):n.push(l));const c=t.matched[i];c&&(e.matched.find(d=>Ys(d,c))||r.push(c))}return[n,s,r]}function Jc(){return ft(jo)}function Qc(t,e){return function(){return t.apply(e,arguments)}}const{toString:k0}=Object.prototype,{getPrototypeOf:ua}=Object,{iterator:Bo,toStringTag:Zc}=Symbol,Fo=(t=>e=>{const n=k0.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),kt=t=>(t=t.toLowerCase(),e=>Fo(e)===t),Vo=t=>e=>typeof e===t,{isArray:en}=Array,Tn=Vo("undefined");function Ln(t){return t!==null&&!Tn(t)&&t.constructor!==null&&!Tn(t.constructor)&&et(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const ed=kt("ArrayBuffer");function S0(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&ed(t.buffer),e}const A0=Vo("string"),et=Vo("function"),td=Vo("number"),Un=t=>t!==null&&typeof t=="object",R0=t=>t===!0||t===!1,eo=t=>{if(Fo(t)!=="object")return!1;const e=ua(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Zc in t)&&!(Bo in t)},I0=t=>{if(!Un(t)||Ln(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},T0=kt("Date"),P0=kt("File"),D0=kt("Blob"),$0=kt("FileList"),M0=t=>Un(t)&&et(t.pipe),O0=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||et(t.append)&&((e=Fo(t))==="formdata"||e==="object"&&et(t.toString)&&t.toString()==="[object FormData]"))},N0=kt("URLSearchParams"),[L0,U0,j0,B0]=["ReadableStream","Request","Response","Headers"].map(kt),F0=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function jn(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let s,r;if(typeof t!="object"&&(t=[t]),en(t))for(s=0,r=t.length;s<r;s++)e.call(null,t[s],s,t);else{if(Ln(t))return;const a=n?Object.getOwnPropertyNames(t):Object.keys(t),i=a.length;let l;for(s=0;s<i;s++)l=a[s],e.call(null,t[l],l,t)}}function sd(t,e){if(Ln(t))return null;e=e.toLowerCase();const n=Object.keys(t);let s=n.length,r;for(;s-- >0;)if(r=n[s],e===r.toLowerCase())return r;return null}const Cs=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),nd=t=>!Tn(t)&&t!==Cs;function Or(){const{caseless:t}=nd(this)&&this||{},e={},n=(s,r)=>{const a=t&&sd(e,r)||r;eo(e[a])&&eo(s)?e[a]=Or(e[a],s):eo(s)?e[a]=Or({},s):en(s)?e[a]=s.slice():e[a]=s};for(let s=0,r=arguments.length;s<r;s++)arguments[s]&&jn(arguments[s],n);return e}const V0=(t,e,n,{allOwnKeys:s}={})=>(jn(e,(r,a)=>{n&&et(r)?t[a]=Qc(r,n):t[a]=r},{allOwnKeys:s}),t),H0=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),q0=(t,e,n,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},z0=(t,e,n,s)=>{let r,a,i;const l={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),a=r.length;a-- >0;)i=r[a],(!s||s(i,t,e))&&!l[i]&&(e[i]=t[i],l[i]=!0);t=n!==!1&&ua(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},W0=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const s=t.indexOf(e,n);return s!==-1&&s===n},G0=t=>{if(!t)return null;if(en(t))return t;let e=t.length;if(!td(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},K0=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&ua(Uint8Array)),Y0=(t,e)=>{const s=(t&&t[Bo]).call(t);let r;for(;(r=s.next())&&!r.done;){const a=r.value;e.call(t,a[0],a[1])}},X0=(t,e)=>{let n;const s=[];for(;(n=t.exec(e))!==null;)s.push(n);return s},J0=kt("HTMLFormElement"),Q0=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,r){return s.toUpperCase()+r}),Pi=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Z0=kt("RegExp"),od=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),s={};jn(n,(r,a)=>{let i;(i=e(r,a,t))!==!1&&(s[a]=i||r)}),Object.defineProperties(t,s)},eh=t=>{od(t,(e,n)=>{if(et(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=t[n];if(et(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},th=(t,e)=>{const n={},s=r=>{r.forEach(a=>{n[a]=!0})};return en(t)?s(t):s(String(t).split(e)),n},sh=()=>{},nh=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function oh(t){return!!(t&&et(t.append)&&t[Zc]==="FormData"&&t[Bo])}const rh=t=>{const e=new Array(10),n=(s,r)=>{if(Un(s)){if(e.indexOf(s)>=0)return;if(Ln(s))return s;if(!("toJSON"in s)){e[r]=s;const a=en(s)?[]:{};return jn(s,(i,l)=>{const c=n(i,r+1);!Tn(c)&&(a[l]=c)}),e[r]=void 0,a}}return s};return n(t,0)},ah=kt("AsyncFunction"),ih=t=>t&&(Un(t)||et(t))&&et(t.then)&&et(t.catch),rd=((t,e)=>t?setImmediate:e?((n,s)=>(Cs.addEventListener("message",({source:r,data:a})=>{r===Cs&&a===n&&s.length&&s.shift()()},!1),r=>{s.push(r),Cs.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",et(Cs.postMessage)),lh=typeof queueMicrotask<"u"?queueMicrotask.bind(Cs):typeof process<"u"&&process.nextTick||rd,ch=t=>t!=null&&et(t[Bo]),P={isArray:en,isArrayBuffer:ed,isBuffer:Ln,isFormData:O0,isArrayBufferView:S0,isString:A0,isNumber:td,isBoolean:R0,isObject:Un,isPlainObject:eo,isEmptyObject:I0,isReadableStream:L0,isRequest:U0,isResponse:j0,isHeaders:B0,isUndefined:Tn,isDate:T0,isFile:P0,isBlob:D0,isRegExp:Z0,isFunction:et,isStream:M0,isURLSearchParams:N0,isTypedArray:K0,isFileList:$0,forEach:jn,merge:Or,extend:V0,trim:F0,stripBOM:H0,inherits:q0,toFlatObject:z0,kindOf:Fo,kindOfTest:kt,endsWith:W0,toArray:G0,forEachEntry:Y0,matchAll:X0,isHTMLForm:J0,hasOwnProperty:Pi,hasOwnProp:Pi,reduceDescriptors:od,freezeMethods:eh,toObjectSet:th,toCamelCase:Q0,noop:sh,toFiniteNumber:nh,findKey:sd,global:Cs,isContextDefined:nd,isSpecCompliantForm:oh,toJSONObject:rh,isAsyncFn:ah,isThenable:ih,setImmediate:rd,asap:lh,isIterable:ch};function pe(t,e,n,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}P.inherits(pe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:P.toJSONObject(this.config),code:this.code,status:this.status}}});const ad=pe.prototype,id={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{id[t]={value:t}});Object.defineProperties(pe,id);Object.defineProperty(ad,"isAxiosError",{value:!0});pe.from=(t,e,n,s,r,a)=>{const i=Object.create(ad);return P.toFlatObject(t,i,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),pe.call(i,t.message,e,n,s,r),i.cause=t,i.name=t.name,a&&Object.assign(i,a),i};const dh=null;function Nr(t){return P.isPlainObject(t)||P.isArray(t)}function ld(t){return P.endsWith(t,"[]")?t.slice(0,-2):t}function Di(t,e,n){return t?t.concat(e).map(function(r,a){return r=ld(r),!n&&a?"["+r+"]":r}).join(n?".":""):e}function uh(t){return P.isArray(t)&&!t.some(Nr)}const fh=P.toFlatObject(P,{},null,function(e){return/^is[A-Z]/.test(e)});function Ho(t,e,n){if(!P.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=P.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,x){return!P.isUndefined(x[v])});const s=n.metaTokens,r=n.visitor||u,a=n.dots,i=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&P.isSpecCompliantForm(e);if(!P.isFunction(r))throw new TypeError("visitor must be a function");function d(p){if(p===null)return"";if(P.isDate(p))return p.toISOString();if(P.isBoolean(p))return p.toString();if(!c&&P.isBlob(p))throw new pe("Blob is not supported. Use a Buffer instead.");return P.isArrayBuffer(p)||P.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,v,x){let C=p;if(p&&!x&&typeof p=="object"){if(P.endsWith(v,"{}"))v=s?v:v.slice(0,-2),p=JSON.stringify(p);else if(P.isArray(p)&&uh(p)||(P.isFileList(p)||P.endsWith(v,"[]"))&&(C=P.toArray(p)))return v=ld(v),C.forEach(function(B,E){!(P.isUndefined(B)||B===null)&&e.append(i===!0?Di([v],E,a):i===null?v:v+"[]",d(B))}),!1}return Nr(p)?!0:(e.append(Di(x,v,a),d(p)),!1)}const f=[],m=Object.assign(fh,{defaultVisitor:u,convertValue:d,isVisitable:Nr});function g(p,v){if(!P.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(p),P.forEach(p,function(C,S){(!(P.isUndefined(C)||C===null)&&r.call(e,C,P.isString(S)?S.trim():S,v,m))===!0&&g(C,v?v.concat(S):[S])}),f.pop()}}if(!P.isObject(t))throw new TypeError("data must be an object");return g(t),e}function $i(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function fa(t,e){this._pairs=[],t&&Ho(t,this,e)}const cd=fa.prototype;cd.append=function(e,n){this._pairs.push([e,n])};cd.toString=function(e){const n=e?function(s){return e.call(this,s,$i)}:$i;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function mh(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function dd(t,e,n){if(!e)return t;const s=n&&n.encode||mh;P.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let a;if(r?a=r(e,n):a=P.isURLSearchParams(e)?e.toString():new fa(e,n).toString(s),a){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class ph{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){P.forEach(this.handlers,function(s){s!==null&&e(s)})}}const Mi=ph,ud={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},hh=typeof URLSearchParams<"u"?URLSearchParams:fa,gh=typeof FormData<"u"?FormData:null,vh=typeof Blob<"u"?Blob:null,yh={isBrowser:!0,classes:{URLSearchParams:hh,FormData:gh,Blob:vh},protocols:["http","https","file","blob","url","data"]},ma=typeof window<"u"&&typeof document<"u",Lr=typeof navigator=="object"&&navigator||void 0,_h=ma&&(!Lr||["ReactNative","NativeScript","NS"].indexOf(Lr.product)<0),bh=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),xh=ma&&window.location.href||"http://localhost",wh=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ma,hasStandardBrowserEnv:_h,hasStandardBrowserWebWorkerEnv:bh,navigator:Lr,origin:xh},Symbol.toStringTag,{value:"Module"})),Ge={...wh,...yh};function Ch(t,e){return Ho(t,new Ge.classes.URLSearchParams,{visitor:function(n,s,r,a){return Ge.isNode&&P.isBuffer(n)?(this.append(s,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function Eh(t){return P.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function kh(t){const e={},n=Object.keys(t);let s;const r=n.length;let a;for(s=0;s<r;s++)a=n[s],e[a]=t[a];return e}function fd(t){function e(n,s,r,a){let i=n[a++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=a>=n.length;return i=!i&&P.isArray(r)?r.length:i,c?(P.hasOwnProp(r,i)?r[i]=[r[i],s]:r[i]=s,!l):((!r[i]||!P.isObject(r[i]))&&(r[i]=[]),e(n,s,r[i],a)&&P.isArray(r[i])&&(r[i]=kh(r[i])),!l)}if(P.isFormData(t)&&P.isFunction(t.entries)){const n={};return P.forEachEntry(t,(s,r)=>{e(Eh(s),r,n,0)}),n}return null}function Sh(t,e,n){if(P.isString(t))try{return(e||JSON.parse)(t),P.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(t)}const pa={transitional:ud,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const s=n.getContentType()||"",r=s.indexOf("application/json")>-1,a=P.isObject(e);if(a&&P.isHTMLForm(e)&&(e=new FormData(e)),P.isFormData(e))return r?JSON.stringify(fd(e)):e;if(P.isArrayBuffer(e)||P.isBuffer(e)||P.isStream(e)||P.isFile(e)||P.isBlob(e)||P.isReadableStream(e))return e;if(P.isArrayBufferView(e))return e.buffer;if(P.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(a){if(s.indexOf("application/x-www-form-urlencoded")>-1)return Ch(e,this.formSerializer).toString();if((l=P.isFileList(e))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Ho(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return a||r?(n.setContentType("application/json",!1),Sh(e)):e}],transformResponse:[function(e){const n=this.transitional||pa.transitional,s=n&&n.forcedJSONParsing,r=this.responseType==="json";if(P.isResponse(e)||P.isReadableStream(e))return e;if(e&&P.isString(e)&&(s&&!this.responseType||r)){const i=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(l){if(i)throw l.name==="SyntaxError"?pe.from(l,pe.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ge.classes.FormData,Blob:Ge.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};P.forEach(["delete","get","head","post","put","patch"],t=>{pa.headers[t]={}});const ha=pa,Ah=P.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Rh=t=>{const e={};let n,s,r;return t&&t.split(`
`).forEach(function(i){r=i.indexOf(":"),n=i.substring(0,r).trim().toLowerCase(),s=i.substring(r+1).trim(),!(!n||e[n]&&Ah[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},Oi=Symbol("internals");function an(t){return t&&String(t).trim().toLowerCase()}function to(t){return t===!1||t==null?t:P.isArray(t)?t.map(to):String(t)}function Ih(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(t);)e[s[1]]=s[2];return e}const Th=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function mr(t,e,n,s,r){if(P.isFunction(s))return s.call(this,e,n);if(r&&(e=n),!!P.isString(e)){if(P.isString(s))return e.indexOf(s)!==-1;if(P.isRegExp(s))return s.test(e)}}function Ph(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function Dh(t,e){const n=P.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+n,{value:function(r,a,i){return this[s].call(this,e,r,a,i)},configurable:!0})})}class qo{constructor(e){e&&this.set(e)}set(e,n,s){const r=this;function a(l,c,d){const u=an(c);if(!u)throw new Error("header name must be a non-empty string");const f=P.findKey(r,u);(!f||r[f]===void 0||d===!0||d===void 0&&r[f]!==!1)&&(r[f||c]=to(l))}const i=(l,c)=>P.forEach(l,(d,u)=>a(d,u,c));if(P.isPlainObject(e)||e instanceof this.constructor)i(e,n);else if(P.isString(e)&&(e=e.trim())&&!Th(e))i(Rh(e),n);else if(P.isObject(e)&&P.isIterable(e)){let l={},c,d;for(const u of e){if(!P.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?P.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}i(l,n)}else e!=null&&a(n,e,s);return this}get(e,n){if(e=an(e),e){const s=P.findKey(this,e);if(s){const r=this[s];if(!n)return r;if(n===!0)return Ih(r);if(P.isFunction(n))return n.call(this,r,s);if(P.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=an(e),e){const s=P.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||mr(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let r=!1;function a(i){if(i=an(i),i){const l=P.findKey(s,i);l&&(!n||mr(s,s[l],l,n))&&(delete s[l],r=!0)}}return P.isArray(e)?e.forEach(a):a(e),r}clear(e){const n=Object.keys(this);let s=n.length,r=!1;for(;s--;){const a=n[s];(!e||mr(this,this[a],a,e,!0))&&(delete this[a],r=!0)}return r}normalize(e){const n=this,s={};return P.forEach(this,(r,a)=>{const i=P.findKey(s,a);if(i){n[i]=to(r),delete n[a];return}const l=e?Ph(a):String(a).trim();l!==a&&delete n[a],n[l]=to(r),s[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return P.forEach(this,(s,r)=>{s!=null&&s!==!1&&(n[r]=e&&P.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(r=>s.set(r)),s}static accessor(e){const s=(this[Oi]=this[Oi]={accessors:{}}).accessors,r=this.prototype;function a(i){const l=an(i);s[l]||(Dh(r,i),s[l]=!0)}return P.isArray(e)?e.forEach(a):a(e),this}}qo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);P.reduceDescriptors(qo.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[n]=s}}});P.freezeMethods(qo);const xt=qo;function pr(t,e){const n=this||ha,s=e||n,r=xt.from(s.headers);let a=s.data;return P.forEach(t,function(l){a=l.call(n,a,r.normalize(),e?e.status:void 0)}),r.normalize(),a}function md(t){return!!(t&&t.__CANCEL__)}function tn(t,e,n){pe.call(this,t??"canceled",pe.ERR_CANCELED,e,n),this.name="CanceledError"}P.inherits(tn,pe,{__CANCEL__:!0});function pd(t,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?t(n):e(new pe("Request failed with status code "+n.status,[pe.ERR_BAD_REQUEST,pe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function $h(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Mh(t,e){t=t||10;const n=new Array(t),s=new Array(t);let r=0,a=0,i;return e=e!==void 0?e:1e3,function(c){const d=Date.now(),u=s[a];i||(i=d),n[r]=c,s[r]=d;let f=a,m=0;for(;f!==r;)m+=n[f++],f=f%t;if(r=(r+1)%t,r===a&&(a=(a+1)%t),d-i<e)return;const g=u&&d-u;return g?Math.round(m*1e3/g):void 0}}function Oh(t,e){let n=0,s=1e3/e,r,a;const i=(d,u=Date.now())=>{n=u,r=null,a&&(clearTimeout(a),a=null),t(...d)};return[(...d)=>{const u=Date.now(),f=u-n;f>=s?i(d,u):(r=d,a||(a=setTimeout(()=>{a=null,i(r)},s-f)))},()=>r&&i(r)]}const ho=(t,e,n=3)=>{let s=0;const r=Mh(50,250);return Oh(a=>{const i=a.loaded,l=a.lengthComputable?a.total:void 0,c=i-s,d=r(c),u=i<=l;s=i;const f={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-i)/d:void 0,event:a,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(f)},n)},Ni=(t,e)=>{const n=t!=null;return[s=>e[0]({lengthComputable:n,total:t,loaded:s}),e[1]]},Li=t=>(...e)=>P.asap(()=>t(...e)),Nh=Ge.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Ge.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Ge.origin),Ge.navigator&&/(msie|trident)/i.test(Ge.navigator.userAgent)):()=>!0,Lh=Ge.hasStandardBrowserEnv?{write(t,e,n,s,r,a){const i=[t+"="+encodeURIComponent(e)];P.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),P.isString(s)&&i.push("path="+s),P.isString(r)&&i.push("domain="+r),a===!0&&i.push("secure"),document.cookie=i.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Uh(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function jh(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function hd(t,e,n){let s=!Uh(e);return t&&(s||n==!1)?jh(t,e):e}const Ui=t=>t instanceof xt?{...t}:t;function Is(t,e){e=e||{};const n={};function s(d,u,f,m){return P.isPlainObject(d)&&P.isPlainObject(u)?P.merge.call({caseless:m},d,u):P.isPlainObject(u)?P.merge({},u):P.isArray(u)?u.slice():u}function r(d,u,f,m){if(P.isUndefined(u)){if(!P.isUndefined(d))return s(void 0,d,f,m)}else return s(d,u,f,m)}function a(d,u){if(!P.isUndefined(u))return s(void 0,u)}function i(d,u){if(P.isUndefined(u)){if(!P.isUndefined(d))return s(void 0,d)}else return s(void 0,u)}function l(d,u,f){if(f in e)return s(d,u);if(f in t)return s(void 0,d)}const c={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(d,u,f)=>r(Ui(d),Ui(u),f,!0)};return P.forEach(Object.keys({...t,...e}),function(u){const f=c[u]||r,m=f(t[u],e[u],u);P.isUndefined(m)&&f!==l||(n[u]=m)}),n}const gd=t=>{const e=Is({},t);let{data:n,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:a,headers:i,auth:l}=e;e.headers=i=xt.from(i),e.url=dd(hd(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(P.isFormData(n)){if(Ge.hasStandardBrowserEnv||Ge.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((c=i.getContentType())!==!1){const[d,...u]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];i.setContentType([d||"multipart/form-data",...u].join("; "))}}if(Ge.hasStandardBrowserEnv&&(s&&P.isFunction(s)&&(s=s(e)),s||s!==!1&&Nh(e.url))){const d=r&&a&&Lh.read(a);d&&i.set(r,d)}return e},Bh=typeof XMLHttpRequest<"u",Fh=Bh&&function(t){return new Promise(function(n,s){const r=gd(t);let a=r.data;const i=xt.from(r.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=r,u,f,m,g,p;function v(){g&&g(),p&&p(),r.cancelToken&&r.cancelToken.unsubscribe(u),r.signal&&r.signal.removeEventListener("abort",u)}let x=new XMLHttpRequest;x.open(r.method.toUpperCase(),r.url,!0),x.timeout=r.timeout;function C(){if(!x)return;const B=xt.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),A={data:!l||l==="text"||l==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:B,config:t,request:x};pd(function(T){n(T),v()},function(T){s(T),v()},A),x=null}"onloadend"in x?x.onloadend=C:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(C)},x.onabort=function(){x&&(s(new pe("Request aborted",pe.ECONNABORTED,t,x)),x=null)},x.onerror=function(){s(new pe("Network Error",pe.ERR_NETWORK,t,x)),x=null},x.ontimeout=function(){let E=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const A=r.transitional||ud;r.timeoutErrorMessage&&(E=r.timeoutErrorMessage),s(new pe(E,A.clarifyTimeoutError?pe.ETIMEDOUT:pe.ECONNABORTED,t,x)),x=null},a===void 0&&i.setContentType(null),"setRequestHeader"in x&&P.forEach(i.toJSON(),function(E,A){x.setRequestHeader(A,E)}),P.isUndefined(r.withCredentials)||(x.withCredentials=!!r.withCredentials),l&&l!=="json"&&(x.responseType=r.responseType),d&&([m,p]=ho(d,!0),x.addEventListener("progress",m)),c&&x.upload&&([f,g]=ho(c),x.upload.addEventListener("progress",f),x.upload.addEventListener("loadend",g)),(r.cancelToken||r.signal)&&(u=B=>{x&&(s(!B||B.type?new tn(null,t,x):B),x.abort(),x=null)},r.cancelToken&&r.cancelToken.subscribe(u),r.signal&&(r.signal.aborted?u():r.signal.addEventListener("abort",u)));const S=$h(r.url);if(S&&Ge.protocols.indexOf(S)===-1){s(new pe("Unsupported protocol "+S+":",pe.ERR_BAD_REQUEST,t));return}x.send(a||null)})},Vh=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let s=new AbortController,r;const a=function(d){if(!r){r=!0,l();const u=d instanceof Error?d:this.reason;s.abort(u instanceof pe?u:new tn(u instanceof Error?u.message:u))}};let i=e&&setTimeout(()=>{i=null,a(new pe(`timeout ${e} of ms exceeded`,pe.ETIMEDOUT))},e);const l=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(a):d.removeEventListener("abort",a)}),t=null)};t.forEach(d=>d.addEventListener("abort",a));const{signal:c}=s;return c.unsubscribe=()=>P.asap(l),c}},Hh=Vh,qh=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let s=0,r;for(;s<n;)r=s+e,yield t.slice(s,r),s=r},zh=async function*(t,e){for await(const n of Wh(t))yield*qh(n,e)},Wh=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:s}=await e.read();if(n)break;yield s}}finally{await e.cancel()}},ji=(t,e,n,s)=>{const r=zh(t,e);let a=0,i,l=c=>{i||(i=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await r.next();if(d){l(),c.close();return}let f=u.byteLength;if(n){let m=a+=f;n(m)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),r.return()}},{highWaterMark:2})},zo=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",vd=zo&&typeof ReadableStream=="function",Gh=zo&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),yd=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Kh=vd&&yd(()=>{let t=!1;const e=new Request(Ge.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),Bi=64*1024,Ur=vd&&yd(()=>P.isReadableStream(new Response("").body)),go={stream:Ur&&(t=>t.body)};zo&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!go[e]&&(go[e]=P.isFunction(t[e])?n=>n[e]():(n,s)=>{throw new pe(`Response type '${e}' is not supported`,pe.ERR_NOT_SUPPORT,s)})})})(new Response);const Yh=async t=>{if(t==null)return 0;if(P.isBlob(t))return t.size;if(P.isSpecCompliantForm(t))return(await new Request(Ge.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(P.isArrayBufferView(t)||P.isArrayBuffer(t))return t.byteLength;if(P.isURLSearchParams(t)&&(t=t+""),P.isString(t))return(await Gh(t)).byteLength},Xh=async(t,e)=>{const n=P.toFiniteNumber(t.getContentLength());return n??Yh(e)},Jh=zo&&(async t=>{let{url:e,method:n,data:s,signal:r,cancelToken:a,timeout:i,onDownloadProgress:l,onUploadProgress:c,responseType:d,headers:u,withCredentials:f="same-origin",fetchOptions:m}=gd(t);d=d?(d+"").toLowerCase():"text";let g=Hh([r,a&&a.toAbortSignal()],i),p;const v=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let x;try{if(c&&Kh&&n!=="get"&&n!=="head"&&(x=await Xh(u,s))!==0){let A=new Request(e,{method:"POST",body:s,duplex:"half"}),k;if(P.isFormData(s)&&(k=A.headers.get("content-type"))&&u.setContentType(k),A.body){const[T,M]=Ni(x,ho(Li(c)));s=ji(A.body,Bi,T,M)}}P.isString(f)||(f=f?"include":"omit");const C="credentials"in Request.prototype;p=new Request(e,{...m,signal:g,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:s,duplex:"half",credentials:C?f:void 0});let S=await fetch(p,m);const B=Ur&&(d==="stream"||d==="response");if(Ur&&(l||B&&v)){const A={};["status","statusText","headers"].forEach(L=>{A[L]=S[L]});const k=P.toFiniteNumber(S.headers.get("content-length")),[T,M]=l&&Ni(k,ho(Li(l),!0))||[];S=new Response(ji(S.body,Bi,T,()=>{M&&M(),v&&v()}),A)}d=d||"text";let E=await go[P.findKey(go,d)||"text"](S,t);return!B&&v&&v(),await new Promise((A,k)=>{pd(A,k,{data:E,headers:xt.from(S.headers),status:S.status,statusText:S.statusText,config:t,request:p})})}catch(C){throw v&&v(),C&&C.name==="TypeError"&&/Load failed|fetch/i.test(C.message)?Object.assign(new pe("Network Error",pe.ERR_NETWORK,t,p),{cause:C.cause||C}):pe.from(C,C&&C.code,t,p)}}),jr={http:dh,xhr:Fh,fetch:Jh};P.forEach(jr,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Fi=t=>`- ${t}`,Qh=t=>P.isFunction(t)||t===null||t===!1,_d={getAdapter:t=>{t=P.isArray(t)?t:[t];const{length:e}=t;let n,s;const r={};for(let a=0;a<e;a++){n=t[a];let i;if(s=n,!Qh(n)&&(s=jr[(i=String(n)).toLowerCase()],s===void 0))throw new pe(`Unknown adapter '${i}'`);if(s)break;r[i||"#"+a]=s}if(!s){const a=Object.entries(r).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let i=e?a.length>1?`since :
`+a.map(Fi).join(`
`):" "+Fi(a[0]):"as no adapter specified";throw new pe("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return s},adapters:jr};function hr(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new tn(null,t)}function Vi(t){return hr(t),t.headers=xt.from(t.headers),t.data=pr.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),_d.getAdapter(t.adapter||ha.adapter)(t).then(function(s){return hr(t),s.data=pr.call(t,t.transformResponse,s),s.headers=xt.from(s.headers),s},function(s){return md(s)||(hr(t),s&&s.response&&(s.response.data=pr.call(t,t.transformResponse,s.response),s.response.headers=xt.from(s.response.headers))),Promise.reject(s)})}const bd="1.11.0",Wo={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Wo[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const Hi={};Wo.transitional=function(e,n,s){function r(a,i){return"[Axios v"+bd+"] Transitional option '"+a+"'"+i+(s?". "+s:"")}return(a,i,l)=>{if(e===!1)throw new pe(r(i," has been removed"+(n?" in "+n:"")),pe.ERR_DEPRECATED);return n&&!Hi[i]&&(Hi[i]=!0,console.warn(r(i," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(a,i,l):!0}};Wo.spelling=function(e){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function Zh(t,e,n){if(typeof t!="object")throw new pe("options must be an object",pe.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let r=s.length;for(;r-- >0;){const a=s[r],i=e[a];if(i){const l=t[a],c=l===void 0||i(l,a,t);if(c!==!0)throw new pe("option "+a+" must be "+c,pe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new pe("Unknown option "+a,pe.ERR_BAD_OPTION)}}const so={assertOptions:Zh,validators:Wo},Tt=so.validators;class vo{constructor(e){this.defaults=e||{},this.interceptors={request:new Mi,response:new Mi}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const a=r.stack?r.stack.replace(/^.+\n/,""):"";try{s.stack?a&&!String(s.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+a):s.stack=a}catch{}}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Is(this.defaults,n);const{transitional:s,paramsSerializer:r,headers:a}=n;s!==void 0&&so.assertOptions(s,{silentJSONParsing:Tt.transitional(Tt.boolean),forcedJSONParsing:Tt.transitional(Tt.boolean),clarifyTimeoutError:Tt.transitional(Tt.boolean)},!1),r!=null&&(P.isFunction(r)?n.paramsSerializer={serialize:r}:so.assertOptions(r,{encode:Tt.function,serialize:Tt.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),so.assertOptions(n,{baseUrl:Tt.spelling("baseURL"),withXsrfToken:Tt.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=a&&P.merge(a.common,a[n.method]);a&&P.forEach(["delete","get","head","post","put","patch","common"],p=>{delete a[p]}),n.headers=xt.concat(i,a);const l=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(c=c&&v.synchronous,l.unshift(v.fulfilled,v.rejected))});const d=[];this.interceptors.response.forEach(function(v){d.push(v.fulfilled,v.rejected)});let u,f=0,m;if(!c){const p=[Vi.bind(this),void 0];for(p.unshift(...l),p.push(...d),m=p.length,u=Promise.resolve(n);f<m;)u=u.then(p[f++],p[f++]);return u}m=l.length;let g=n;for(f=0;f<m;){const p=l[f++],v=l[f++];try{g=p(g)}catch(x){v.call(this,x);break}}try{u=Vi.call(this,g)}catch(p){return Promise.reject(p)}for(f=0,m=d.length;f<m;)u=u.then(d[f++],d[f++]);return u}getUri(e){e=Is(this.defaults,e);const n=hd(e.baseURL,e.url,e.allowAbsoluteUrls);return dd(n,e.params,e.paramsSerializer)}}P.forEach(["delete","get","head","options"],function(e){vo.prototype[e]=function(n,s){return this.request(Is(s||{},{method:e,url:n,data:(s||{}).data}))}});P.forEach(["post","put","patch"],function(e){function n(s){return function(a,i,l){return this.request(Is(l||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:a,data:i}))}}vo.prototype[e]=n(),vo.prototype[e+"Form"]=n(!0)});const no=vo;class ga{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const s=this;this.promise.then(r=>{if(!s._listeners)return;let a=s._listeners.length;for(;a-- >0;)s._listeners[a](r);s._listeners=null}),this.promise.then=r=>{let a;const i=new Promise(l=>{s.subscribe(l),a=l}).then(r);return i.cancel=function(){s.unsubscribe(a)},i},e(function(a,i,l){s.reason||(s.reason=new tn(a,i,l),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=s=>{e.abort(s)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new ga(function(r){e=r}),cancel:e}}}const e1=ga;function t1(t){return function(n){return t.apply(null,n)}}function s1(t){return P.isObject(t)&&t.isAxiosError===!0}const Br={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Br).forEach(([t,e])=>{Br[e]=t});const n1=Br;function xd(t){const e=new no(t),n=Qc(no.prototype.request,e);return P.extend(n,no.prototype,e,{allOwnKeys:!0}),P.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return xd(Is(t,r))},n}const Ue=xd(ha);Ue.Axios=no;Ue.CanceledError=tn;Ue.CancelToken=e1;Ue.isCancel=md;Ue.VERSION=bd;Ue.toFormData=Ho;Ue.AxiosError=pe;Ue.Cancel=Ue.CanceledError;Ue.all=function(e){return Promise.all(e)};Ue.spread=t1;Ue.isAxiosError=s1;Ue.mergeConfig=Is;Ue.AxiosHeaders=xt;Ue.formToJSON=t=>fd(P.isHTMLForm(t)?new FormData(t):t);Ue.getAdapter=_d.getAdapter;Ue.HttpStatusCode=n1;Ue.default=Ue;const wd=Ue,ge=wd.create({baseURL:"http://localhost:8000/api",timeout:1e4,headers:{"Content-Type":"application/json"}});ge.interceptors.request.use(t=>{const e=localStorage.getItem("access_token");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));ge.interceptors.response.use(t=>t,async t=>{var s;const e=$e(),n=t.config;if(((s=t.response)==null?void 0:s.status)===401&&!n._retry){n._retry=!0;try{const r=localStorage.getItem("refresh_token");if(r){const i=(await wd.post("http://localhost:8000/api/auth/refresh/",{refresh:r})).data.access;return localStorage.setItem("access_token",i),n.headers.Authorization=`Bearer ${i}`,ge(n)}}catch(r){return localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/login",Promise.reject(r)}}if(t.response){const{status:r,data:a}=t.response;switch(r){case 400:e.error(a.detail||"Datos inválidos");break;case 403:e.error("No tienes permisos para realizar esta acción");break;case 404:e.error("Recurso no encontrado");break;case 500:e.error("Error interno del servidor");break;default:e.error("Error inesperado")}}else t.request?e.error("Error de conexión"):e.error("Error inesperado");return Promise.reject(t)});const Go=km("auth",()=>{const t=U(null),e=U({access:localStorage.getItem("access_token"),refresh:localStorage.getItem("refresh_token")}),n=U(!1),s=U(null),r=U(!1),a=ne(()=>!!e.value.access&&!!t.value),i=ne(()=>{var M;return((M=t.value)==null?void 0:M.role)||null}),l=ne(()=>{var M,L;return((M=t.value)==null?void 0:M.role)==="ADMIN"&&r.value&&s.value?s.value:((L=t.value)==null?void 0:L.role)||null}),c=ne(()=>l.value==="ATENCION_USUARIO"||l.value==="ADMIN"),d=ne(()=>l.value==="ATENCION_USUARIO"||l.value==="ADMIN"),u=ne(()=>l.value==="ATENCION_USUARIO"||l.value==="ADMIN"),f=ne(()=>l.value==="FARMACIA"||l.value==="ADMIN"),m=ne(()=>l.value==="CMI"||l.value==="ADMIN"),g=ne(()=>["MEDICO","ATENCION_USUARIO","ADMIN"].includes(l.value)),p=async M=>{var L,D;try{n.value=!0;const W=await ge.post("/auth/login/",M),{user:q,tokens:se}=W.data;return t.value=q,e.value=se,localStorage.setItem("access_token",se.access),localStorage.setItem("refresh_token",se.refresh),ge.defaults.headers.common.Authorization=`Bearer ${se.access}`,{success:!0,user:q}}catch(W){return console.error("Error en login:",W),{success:!1,error:((D=(L=W.response)==null?void 0:L.data)==null?void 0:D.detail)||"Error de autenticación"}}finally{n.value=!1}},v=()=>{t.value=null,e.value={access:null,refresh:null},s.value=null,r.value=!1,localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),delete ge.defaults.headers.common.Authorization},x=async()=>{try{if(!e.value.refresh)throw new Error("No refresh token available");const L=(await ge.post("/auth/refresh/",{refresh:e.value.refresh})).data.access;return e.value.access=L,localStorage.setItem("access_token",L),ge.defaults.headers.common.Authorization=`Bearer ${L}`,!0}catch(M){return console.error("Error refreshing token:",M),v(),!1}},C=async()=>{var M;try{const L=await ge.get("/auth/profile/");return t.value=L.data,L.data}catch(L){throw console.error("Error fetching profile:",L),((M=L.response)==null?void 0:M.status)===401&&v(),L}};return{user:t,tokens:e,isLoading:n,simulatedRole:s,isSimulating:r,isAuthenticated:a,userRole:i,effectiveRole:l,canCreatePatients:c,canEditPatients:d,canValidateRecipes:u,canDispensePharmacy:f,canDispenseCMI:m,canCreateRecipes:g,login:p,logout:v,refreshToken:x,fetchProfile:C,updateProfile:async M=>{var L;try{const D=await ge.patch("/auth/profile/update/",M);return t.value=D.data,{success:!0,data:D.data}}catch(D){return console.error("Error updating profile:",D),{success:!1,error:((L=D.response)==null?void 0:L.data)||"Error al actualizar perfil"}}},initializeAuth:async()=>{const M=localStorage.getItem("access_token");if(M){ge.defaults.headers.common.Authorization=`Bearer ${M}`,e.value.access=M;try{await C()}catch{await x()&&await C()}}},hasPermission:M=>({create_patients:c.value,edit_patients:d.value,validate_recipes:u.value,dispense_pharmacy:f.value,dispense_cmi:m.value,create_recipes:g.value})[M]||!1,getAvailableRoutes:()=>{const M=[];return(c.value||d.value)&&M.push({name:"atencion-usuario",title:"Atención al Usuario",icon:"UserGroupIcon"}),u.value&&M.push({name:"validacion",title:"Validación de Recetas",icon:"ClipboardDocumentCheckIcon"}),f.value&&M.push({name:"farmacia",title:"Farmacia",icon:"BeakerIcon"}),m.value&&M.push({name:"cmi",title:"Centro de Mezclas",icon:"FlaskConicalIcon"}),g.value&&M.push({name:"prescripcion",title:"Prescripción",icon:"DocumentTextIcon"}),(u.value||f.value||m.value)&&M.push({name:"recetas-completadas",title:"Recetas Completadas",icon:"CheckCircleIcon"}),(l.value==="ADMIN"||u.value)&&M.push({name:"reportes",title:"Reportes y Estadísticas",icon:"ChartBarIcon"}),(l.value==="ADMIN"||f.value)&&M.push({name:"inventario",title:"Gestión de Inventario",icon:"CubeIcon"}),l.value==="ADMIN"&&M.push({name:"auditoria",title:"Auditoría Avanzada",icon:"ShieldCheckIcon"}),(l.value==="ADMIN"||u.value||f.value||m.value)&&M.push({name:"notificaciones",title:"Centro de Notificaciones",icon:"BellIcon"}),M},setSimulatedRole:M=>{var L;((L=t.value)==null?void 0:L.role)==="ADMIN"&&(s.value=M,r.value=!0)},clearSimulatedRole:()=>{s.value=null,r.value=!1}}}),Se=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},o1={name:"Login",setup(){const t=Jc(),e=Go(),n=$e(),s=U(!1),r=U(""),a=pt({username:"",password:""}),i=pt({username:"",password:""}),l=()=>(i.username="",i.password="",a.username.trim()?a.password.trim()?a.password.length<6?(i.password="La contraseña debe tener al menos 6 caracteres",!1):!0:(i.password="La contraseña es requerida",!1):(i.username="El usuario es requerido",!1));return{form:a,errors:i,isLoading:s,loginError:r,handleSubmit:async()=>{if(l())try{s.value=!0,r.value="";const d=await e.login({username:a.username,password:a.password});d.success?(n.success(`¡Bienvenido, ${d.user.first_name}!`),t.push("/")):r.value=d.error}catch(d){console.error("Error en login:",d),r.value="Error inesperado. Inténtalo de nuevo."}finally{s.value=!1}}}}},r1={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background-main to-gray-200"},a1={class:"max-w-md w-full space-y-8"},i1={class:"card"},l1={class:"card-body"},c1=["disabled"],d1={key:0,class:"form-error"},u1=["disabled"],f1={key:0,class:"form-error"},m1={key:0,class:"text-center"},p1={class:"form-error"},h1=["disabled"],g1={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"};function v1(t,e,n,s,r,a){return y(),_("div",r1,[o("div",a1,[o("div",i1,[e[7]||(e[7]=o("div",{class:"card-header text-center"},[o("h2",{class:"text-3xl font-bold text-secondary-900"}," MAU Hospital "),o("p",{class:"mt-2 text-sm text-secondary-600"}," Sistema de Gestión de Recetas ")],-1)),o("div",l1,[o("form",{onSubmit:e[2]||(e[2]=dt((...i)=>s.handleSubmit&&s.handleSubmit(...i),["prevent"])),class:"space-y-6"},[o("div",null,[e[3]||(e[3]=o("label",{for:"username",class:"form-label"}," Usuario ",-1)),Y(o("input",{id:"username","onUpdate:modelValue":e[0]||(e[0]=i=>s.form.username=i),type:"text",required:"",class:"form-input",placeholder:"Ingresa tu usuario",disabled:s.isLoading},null,8,c1),[[ie,s.form.username]]),s.errors.username?(y(),_("p",d1,h(s.errors.username),1)):O("",!0)]),o("div",null,[e[4]||(e[4]=o("label",{for:"password",class:"form-label"}," Contraseña ",-1)),Y(o("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=i=>s.form.password=i),type:"password",required:"",class:"form-input",placeholder:"Ingresa tu contraseña",disabled:s.isLoading},null,8,u1),[[ie,s.form.password]]),s.errors.password?(y(),_("p",f1,h(s.errors.password),1)):O("",!0)]),s.loginError?(y(),_("div",m1,[o("p",p1,h(s.loginError),1)])):O("",!0),o("button",{type:"submit",disabled:s.isLoading,class:"btn-primary w-full flex items-center justify-center"},[s.isLoading?(y(),_("svg",g1,e[5]||(e[5]=[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):O("",!0),N(" "+h(s.isLoading?"Iniciando sesión...":"Iniciar Sesión"),1)],8,h1)],32),e[6]||(e[6]=o("div",{class:"mt-6 text-center"},[o("p",{class:"text-xs text-secondary-600"}," Sistema desarrollado para MAU Hospital ")],-1))])])])])}const y1=Se(o1,[["render",v1]]);function Zt(t,e){return y(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"})])}function Ps(t,e){return y(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})])}function Es(t,e){return y(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.75 3.104v5.714a2.25 2.25 0 0 1-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 0 1 4.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0 1 12 15a9.065 9.065 0 0 0-6.23-.693L5 14.5m14.8.8 1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0 1 12 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5"})])}function yo(t,e){return y(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"})])}function qi(t,e){return y(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"})])}function Ut(t,e){return y(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function _1(t,e){return y(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m4.5 12.75 6 6 9-13.5"})])}function b1(t,e){return y(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})])}function zi(t,e){return y(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"})])}function Fr(t,e){return y(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"})])}function es(t,e){return y(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function Wi(t,e){return y(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"})])}function Js(t,e){return y(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 7.5-9-5.25L3 7.5m18 0-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"})])}function x1(t,e){return y(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})])}function As(t,e){return y(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})])}function Cd(t,e){return y(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})])}function Je(t,e){return y(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})])}function Ko(t,e){return y(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})])}function Ed(t,e){return y(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})])}function w1(t,e){return y(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"})])}function Bn(t,e){return y(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})])}function Vr(t,e){return y(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"})])}function va(t,e){return y(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})])}function C1(t,e){return y(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})])}function _o(t,e){return y(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"})])}function E1(t,e){return y(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})])}function kd(t,e){return y(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function Ds(t,e){return y(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"})])}const k1={name:"Dashboard",components:{ClockIcon:es,CheckCircleIcon:Ut,ShoppingBagIcon:va,DocumentTextIcon:As,UserGroupIcon:_o,ClipboardDocumentCheckIcon:zi,BeakerIcon:Es,FlaskIcon:Es,ExclamationTriangleIcon:Je,ChartBarIcon:qi,CubeIcon:Js,ShieldCheckIcon:Vr,BellIcon:yo},setup(){const t=Jc(),e=Go(),n=$e(),s=U(null),r=ne(()=>e.user),a=ne(()=>e.effectiveRole),i=ne(()=>e.isSimulating),l=ne(()=>e.getAvailableRoutes()),c=U(""),d=v=>({UserGroupIcon:_o,ClipboardDocumentCheckIcon:zi,BeakerIcon:Es,FlaskConicalIcon:Es,DocumentTextIcon:As,CheckCircleIcon:Ut,ChartBarIcon:qi,CubeIcon:Js,ShieldCheckIcon:Vr,BellIcon:yo})[v]||As,u=v=>({ATENCION_USUARIO:"Atención al Usuario",FARMACIA:"Farmacia",CMI:"Centro de Mezclas",MEDICO:"Médico",ADMIN:"Administrador"})[v]||v,f=v=>({"atencion-usuario":"Gestión y registro de pacientes",validacion:"Validación de recetas médicas",farmacia:"Dispensación de medicamentos",cmi:"Preparación de mezclas especializadas",prescripcion:"Prescripción de recetas médicas","recetas-completadas":"Historial de recetas dispensadas",reportes:"Estadísticas y reportes del sistema",inventario:"Control de stock y medicamentos",auditoria:"Seguimiento de actividades del sistema",notificaciones:"Alertas y notificaciones en tiempo real"})[v]||"",m=async()=>{try{const v=await ge.get("/recetas/estadisticas/");if(a.value==="ADMIN"||e.canValidateRecipes)try{const x=await ge.get("/reports/dashboard/");s.value={...v.data,advanced:x.data}}catch(x){console.warn("Error loading advanced statistics:",x),s.value=v.data}else s.value=v.data}catch(v){console.error("Error loading statistics:",v)}},g=()=>{e.logout(),n.success("Sesión cerrada correctamente"),t.push("/login")},p=()=>{c.value?(e.setSimulatedRole(c.value),n.info(`Simulando vista de ${u(c.value)}`)):(e.clearSimulatedRole(),n.info("Volviendo a vista de administrador"))};return je(()=>{m()}),{user:r,effectiveRole:a,isSimulating:i,statistics:s,availableRoutes:l,selectedSimulatedRole:c,getIcon:d,getRoleDisplayName:u,getModuleDescription:f,handleLogout:g,handleRoleSimulation:p}}},S1={class:"min-h-screen bg-background-main"},A1={class:"sticky-header"},R1={class:"px-6 py-4"},I1={class:"flex items-center justify-between"},T1={class:"flex items-center space-x-4"},P1={key:0,class:"mr-4"},D1={class:"text-sm text-secondary-600"},$1={class:"font-medium"},M1={class:"block text-xs"},O1={key:0,class:"text-warning ml-1"},N1={class:"scrollable-content p-6"},L1={class:"max-w-7xl mx-auto"},U1={class:"mb-8"},j1={class:"text-3xl font-bold text-secondary-900 mb-2"},B1={key:0,class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},F1={class:"card"},V1={class:"card-body"},H1={class:"flex items-center"},q1={class:"p-3 rounded-lg bg-warning bg-opacity-20"},z1={class:"ml-4"},W1={class:"text-3xl font-bold text-secondary-900"},G1={class:"card"},K1={class:"card-body"},Y1={class:"flex items-center"},X1={class:"p-3 rounded-lg bg-blue-500 bg-opacity-20"},J1={class:"ml-4"},Q1={class:"text-3xl font-bold text-secondary-900"},Z1={class:"card"},eg={class:"card-body"},tg={class:"flex items-center"},sg={class:"p-3 rounded-lg bg-success bg-opacity-20"},ng={class:"ml-4"},og={class:"text-3xl font-bold text-secondary-900"},rg={class:"card"},ag={class:"card-body"},ig={class:"flex items-center"},lg={class:"p-3 rounded-lg bg-primary-600 bg-opacity-20"},cg={class:"ml-4"},dg={class:"text-3xl font-bold text-secondary-900"},ug={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},fg={class:"card-body p-8"},mg={class:"flex flex-col items-center text-center"},pg={class:"p-4 rounded-lg bg-primary-600 bg-opacity-10 group-hover:bg-primary-600 group-hover:text-white transition-all duration-300"},hg={class:"mt-4 text-xl font-bold text-secondary-900 group-hover:text-primary-600 transition-colors duration-300"},gg={class:"mt-2 text-sm text-secondary-600"},vg={key:1,class:"text-center py-12"};function yg(t,e,n,s,r,a){var m,g,p,v;const i=$("ClockIcon"),l=$("CheckCircleIcon"),c=$("ShoppingBagIcon"),d=$("DocumentTextIcon"),u=$("router-link"),f=$("ExclamationTriangleIcon");return y(),_("div",S1,[o("header",A1,[o("div",R1,[o("div",I1,[e[5]||(e[5]=o("div",{class:"flex items-center space-x-4"},[o("h1",{class:"text-xl font-bold text-secondary-900"}," MAU Hospital - Sistema de Gestión de Recetas ")],-1)),o("div",T1,[((m=s.user)==null?void 0:m.role)==="ADMIN"?(y(),_("div",P1,[e[4]||(e[4]=o("label",{class:"block text-xs text-secondary-600 mb-1"},"Simular Vista:",-1)),Y(o("select",{"onUpdate:modelValue":e[0]||(e[0]=x=>s.selectedSimulatedRole=x),onChange:e[1]||(e[1]=(...x)=>s.handleRoleSimulation&&s.handleRoleSimulation(...x)),class:"text-sm border border-secondary-300 rounded px-2 py-1 bg-white"},e[3]||(e[3]=[Ke('<option value="">Vista Admin</option><option value="ATENCION_USUARIO">Atención al Usuario</option><option value="FARMACIA">Farmacia</option><option value="CMI">Centro de Mezclas</option><option value="MEDICO">Médico</option>',5)]),544),[[Ne,s.selectedSimulatedRole]])])):O("",!0),o("div",D1,[o("span",$1,h((g=s.user)==null?void 0:g.first_name)+" "+h((p=s.user)==null?void 0:p.last_name),1),o("span",M1,[N(h(s.getRoleDisplayName(s.effectiveRole))+" ",1),s.isSimulating?(y(),_("span",O1,"(Simulando)")):O("",!0)])]),o("button",{onClick:e[2]||(e[2]=(...x)=>s.handleLogout&&s.handleLogout(...x)),class:"btn-secondary text-sm"}," Cerrar Sesión ")])])])]),o("main",N1,[o("div",L1,[o("div",U1,[o("h2",j1," Bienvenido, "+h((v=s.user)==null?void 0:v.first_name),1),e[6]||(e[6]=o("p",{class:"text-secondary-600"}," Selecciona un módulo para comenzar a trabajar ",-1))]),s.statistics?(y(),_("div",B1,[o("div",F1,[o("div",V1,[o("div",H1,[o("div",q1,[I(i,{class:"h-6 w-6 text-warning"})]),o("div",z1,[e[7]||(e[7]=o("p",{class:"text-sm font-medium text-secondary-600"},"Recetas Pendientes",-1)),o("p",W1,h(s.statistics.pendientes),1)])])])]),o("div",G1,[o("div",K1,[o("div",Y1,[o("div",X1,[I(l,{class:"h-6 w-6 text-blue-500"})]),o("div",J1,[e[8]||(e[8]=o("p",{class:"text-sm font-medium text-secondary-600"},"Recetas Validadas",-1)),o("p",Q1,h(s.statistics.validadas),1)])])])]),o("div",Z1,[o("div",eg,[o("div",tg,[o("div",sg,[I(c,{class:"h-6 w-6 text-success"})]),o("div",ng,[e[9]||(e[9]=o("p",{class:"text-sm font-medium text-secondary-600"},"Recetas Surtidas",-1)),o("p",og,h(s.statistics.surtidas),1)])])])]),o("div",rg,[o("div",ag,[o("div",ig,[o("div",lg,[I(d,{class:"h-6 w-6 text-primary-600"})]),o("div",cg,[e[10]||(e[10]=o("p",{class:"text-sm font-medium text-secondary-600"},"Total Recetas",-1)),o("p",dg,h(s.statistics.total_recetas),1)])])])])])):O("",!0),o("div",ug,[(y(!0),_(he,null,Re(s.availableRoutes,x=>(y(),_e(u,{key:x.name,to:{name:x.name},class:"card hover:shadow-xl transition-shadow duration-300 group"},{default:ht(()=>[o("div",fg,[o("div",mg,[o("div",pg,[(y(),_e(Mn(s.getIcon(x.icon)),{class:"h-12 w-12 text-primary-600 group-hover:text-white"}))]),o("h3",hg,h(x.title),1),o("p",gg,h(s.getModuleDescription(x.name)),1)])])]),_:2},1032,["to"]))),128))]),s.availableRoutes.length===0?(y(),_("div",vg,[I(f,{class:"mx-auto h-12 w-12 text-secondary-400"}),e[11]||(e[11]=o("h3",{class:"mt-2 text-lg font-medium text-secondary-900"},"No hay módulos disponibles",-1)),e[12]||(e[12]=o("p",{class:"mt-1 text-secondary-600"},"Contacta al administrador para obtener acceso a los módulos del sistema.",-1))])):O("",!0)])])])}const _g=Se(k1,[["render",yg]]),bg={name:"BuscarPaciente",components:{MagnifyingGlassIcon:Ed,PlusIcon:Bn,ChevronRightIcon:b1,ExclamationTriangleIcon:Je},emits:["patient-selected","new-patient"],setup(t,{emit:e}){const n=$e(),s=U(""),r=U([]),a=U([]),i=U(!1),l=U(!1),c=ne(()=>l.value&&r.value.length===0&&s.value.trim());let d=null;const u=()=>{clearTimeout(d),d=setTimeout(f,500)},f=async()=>{if(!s.value.trim()){r.value=[],l.value=!1;return}try{i.value=!0;const v=await ge.get("/pacientes/buscar/",{params:{q:s.value.trim()}});r.value=v.data.results,l.value=!0,r.value.length===0&&n.info("No se encontraron pacientes con esos criterios")}catch(v){console.error("Error searching patients:",v),n.error("Error al buscar pacientes"),r.value=[]}finally{i.value=!1}};return{searchQuery:s,searchResults:r,duplicates:a,isLoading:i,showNoResults:c,onSearchInput:u,performSearch:f,selectPatient:v=>{e("patient-selected",v);const x=`${v.nombre} ${v.apellido_paterno} ${v.apellido_materno||""}`.trim();n.success(`Paciente seleccionado: ${x}`)},checkDuplicates:async(v,x)=>{try{const C=await ge.get("/pacientes/verificar-duplicados/",{params:{expediente:v,curp:x}});return a.value=C.data.duplicados||[],C.data.duplicados_encontrados}catch(C){return console.error("Error checking duplicates:",C),!1}},clearSearch:()=>{s.value="",r.value=[],a.value=[],l.value=!1}}}},xg={class:"space-y-4"},wg={class:"flex space-x-4"},Cg={class:"flex-1"},Eg={class:"relative"},kg={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},Sg={class:"flex items-end space-x-2"},Ag=["disabled"],Rg={key:0,class:"text-center py-4"},Ig={key:1,class:"space-y-2"},Tg={class:"text-lg font-medium text-secondary-900"},Pg={class:"max-h-96 overflow-y-auto custom-scrollbar space-y-2"},Dg=["onClick"],$g={class:"flex justify-between items-start"},Mg={class:"flex-1"},Og={class:"mb-2"},Ng={class:"grid grid-cols-1 sm:grid-cols-3 gap-1"},Lg={class:"font-medium text-secondary-900"},Ug={class:"font-medium text-secondary-900"},jg={class:"font-medium text-secondary-900"},Bg={class:"mt-2 text-sm text-secondary-600 space-y-1"},Fg={class:"flex items-center space-x-2"},Vg={class:"badge bg-primary-600 text-white"},Hg={key:2,class:"text-center py-8"},qg={key:3,class:"bg-warning bg-opacity-10 border border-warning rounded-lg p-4"},zg={class:"flex"},Wg={class:"ml-3"},Gg={class:"mt-2 text-sm text-warning"},Kg={class:"mt-1 list-disc list-inside"};function Yg(t,e,n,s,r,a){const i=$("MagnifyingGlassIcon"),l=$("PlusIcon"),c=$("ChevronRightIcon"),d=$("ExclamationTriangleIcon");return y(),_("div",xg,[o("div",wg,[o("div",Cg,[e[6]||(e[6]=o("label",{class:"form-label"}," Buscar Paciente ",-1)),o("div",Eg,[Y(o("input",{"onUpdate:modelValue":e[0]||(e[0]=u=>s.searchQuery=u),type:"text",class:"form-input pl-10",placeholder:"Buscar por expediente, CURP o nombre...",onInput:e[1]||(e[1]=(...u)=>s.onSearchInput&&s.onSearchInput(...u)),onKeydown:e[2]||(e[2]=cn((...u)=>s.performSearch&&s.performSearch(...u),["enter"]))},null,544),[[ie,s.searchQuery]]),o("div",kg,[I(i,{class:"h-5 w-5 text-secondary-400"})])])]),o("div",Sg,[o("button",{onClick:e[3]||(e[3]=(...u)=>s.performSearch&&s.performSearch(...u)),disabled:!s.searchQuery.trim()||s.isLoading,class:"btn-primary"},[I(i,{class:"h-5 w-5 mr-2"}),e[7]||(e[7]=N(" Buscar ",-1))],8,Ag),o("button",{onClick:e[4]||(e[4]=u=>t.$emit("new-patient")),class:"btn-secondary"},[I(l,{class:"h-5 w-5 mr-2"}),e[8]||(e[8]=N(" Nuevo ",-1))])])]),s.isLoading?(y(),_("div",Rg,e[9]||(e[9]=[o("div",{class:"inline-flex items-center"},[o("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-primary-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]),N(" Buscando pacientes... ")],-1)]))):O("",!0),s.searchResults.length>0&&!s.isLoading?(y(),_("div",Ig,[o("h3",Tg," Resultados de búsqueda ("+h(s.searchResults.length)+") ",1),o("div",Pg,[(y(!0),_(he,null,Re(s.searchResults,u=>(y(),_("div",{key:u.expediente,onClick:f=>s.selectPatient(u),class:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors duration-200"},[o("div",$g,[o("div",Mg,[o("div",Og,[o("div",Ng,[o("div",null,[e[10]||(e[10]=o("span",{class:"text-xs font-medium text-secondary-500"},"Nombre(s):",-1)),o("p",Lg,h(u.nombre),1)]),o("div",null,[e[11]||(e[11]=o("span",{class:"text-xs font-medium text-secondary-500"},"Apellido Paterno:",-1)),o("p",Ug,h(u.apellido_paterno),1)]),o("div",null,[e[12]||(e[12]=o("span",{class:"text-xs font-medium text-secondary-500"},"Apellido Materno:",-1)),o("p",jg,h(u.apellido_materno||"N/A"),1)])])]),o("div",Bg,[o("p",null,[e[13]||(e[13]=o("span",{class:"font-medium"},"Expediente:",-1)),N(" "+h(u.expediente),1)]),o("p",null,[e[14]||(e[14]=o("span",{class:"font-medium"},"CURP:",-1)),N(" "+h(u.curp),1)]),o("p",null,[e[15]||(e[15]=o("span",{class:"font-medium"},"Edad:",-1)),N(" "+h(u.edad)+" años",1)]),o("p",null,[e[16]||(e[16]=o("span",{class:"font-medium"},"Patología:",-1)),N(" "+h(u.patologia),1)])])]),o("div",Fg,[o("span",Vg,h(u.genero),1),I(c,{class:"h-5 w-5 text-secondary-400"})])])],8,Dg))),128))])])):O("",!0),s.showNoResults&&!s.isLoading?(y(),_("div",Hg,[I(d,{class:"mx-auto h-12 w-12 text-secondary-400"}),e[17]||(e[17]=o("h3",{class:"mt-2 text-lg font-medium text-secondary-900"},"No se encontraron pacientes",-1)),e[18]||(e[18]=o("p",{class:"mt-1 text-secondary-600"}," No hay pacientes que coincidan con tu búsqueda. ",-1)),o("button",{onClick:e[5]||(e[5]=u=>t.$emit("new-patient")),class:"mt-4 btn-primary"}," Crear nuevo paciente ")])):O("",!0),s.duplicates.length>0?(y(),_("div",qg,[o("div",zg,[I(d,{class:"h-5 w-5 text-warning"}),o("div",Wg,[e[20]||(e[20]=o("h3",{class:"text-sm font-medium text-warning"}," Pacientes duplicados encontrados ",-1)),o("div",Gg,[e[19]||(e[19]=o("p",null,"Se encontraron pacientes con información similar:",-1)),o("ul",Kg,[(y(!0),_(he,null,Re(s.duplicates,u=>(y(),_("li",{key:u.paciente.expediente},h(u.paciente.nombre)+" "+h(u.paciente.apellido_paterno)+" "+h(u.paciente.apellido_materno||"")+" ("+h(u.campo.toUpperCase())+": "+h(u.valor)+") ",1))),128))])])])])])):O("",!0)])}const Sd=Se(bg,[["render",Yg]]);function bo(t){"@babel/helpers - typeof";return bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bo(t)}function Ts(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Be(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function it(t){Be(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||bo(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Xg(t,e){Be(2,arguments);var n=it(t).getTime(),s=Ts(e);return new Date(n+s)}var Jg={};function Yo(){return Jg}function Hr(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function Gi(t){Be(1,arguments);var e=it(t);return e.setHours(0,0,0,0),e}var Qg=864e5;function Zg(t,e){Be(2,arguments);var n=Gi(t),s=Gi(e),r=n.getTime()-Hr(n),a=s.getTime()-Hr(s);return Math.round((r-a)/Qg)}function ev(t){return Be(1,arguments),t instanceof Date||bo(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function tv(t){if(Be(1,arguments),!ev(t)&&typeof t!="number")return!1;var e=it(t);return!isNaN(Number(e))}function Ki(t,e){var n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function Ad(t,e){Be(2,arguments);var n=it(t),s=it(e),r=Ki(n,s),a=Math.abs(Zg(n,s));n.setDate(n.getDate()-r*a);var i=+(Ki(n,s)===-r),l=r*(a-i);return l===0?0:l}function sv(t,e){Be(2,arguments);var n=Ts(e);return Xg(t,-n)}var nv=864e5;function ov(t){Be(1,arguments);var e=it(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var s=e.getTime(),r=n-s;return Math.floor(r/nv)+1}function xo(t){Be(1,arguments);var e=1,n=it(t),s=n.getUTCDay(),r=(s<e?7:0)+s-e;return n.setUTCDate(n.getUTCDate()-r),n.setUTCHours(0,0,0,0),n}function Rd(t){Be(1,arguments);var e=it(t),n=e.getUTCFullYear(),s=new Date(0);s.setUTCFullYear(n+1,0,4),s.setUTCHours(0,0,0,0);var r=xo(s),a=new Date(0);a.setUTCFullYear(n,0,4),a.setUTCHours(0,0,0,0);var i=xo(a);return e.getTime()>=r.getTime()?n+1:e.getTime()>=i.getTime()?n:n-1}function rv(t){Be(1,arguments);var e=Rd(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var s=xo(n);return s}var av=6048e5;function iv(t){Be(1,arguments);var e=it(t),n=xo(e).getTime()-rv(e).getTime();return Math.round(n/av)+1}function wo(t,e){var n,s,r,a,i,l,c,d;Be(1,arguments);var u=Yo(),f=Ts((n=(s=(r=(a=e==null?void 0:e.weekStartsOn)!==null&&a!==void 0?a:e==null||(i=e.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&r!==void 0?r:u.weekStartsOn)!==null&&s!==void 0?s:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=it(t),g=m.getUTCDay(),p=(g<f?7:0)+g-f;return m.setUTCDate(m.getUTCDate()-p),m.setUTCHours(0,0,0,0),m}function Id(t,e){var n,s,r,a,i,l,c,d;Be(1,arguments);var u=it(t),f=u.getUTCFullYear(),m=Yo(),g=Ts((n=(s=(r=(a=e==null?void 0:e.firstWeekContainsDate)!==null&&a!==void 0?a:e==null||(i=e.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&r!==void 0?r:m.firstWeekContainsDate)!==null&&s!==void 0?s:(c=m.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(f+1,0,g),p.setUTCHours(0,0,0,0);var v=wo(p,e),x=new Date(0);x.setUTCFullYear(f,0,g),x.setUTCHours(0,0,0,0);var C=wo(x,e);return u.getTime()>=v.getTime()?f+1:u.getTime()>=C.getTime()?f:f-1}function lv(t,e){var n,s,r,a,i,l,c,d;Be(1,arguments);var u=Yo(),f=Ts((n=(s=(r=(a=e==null?void 0:e.firstWeekContainsDate)!==null&&a!==void 0?a:e==null||(i=e.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&r!==void 0?r:u.firstWeekContainsDate)!==null&&s!==void 0?s:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1),m=Id(t,e),g=new Date(0);g.setUTCFullYear(m,0,f),g.setUTCHours(0,0,0,0);var p=wo(g,e);return p}var cv=6048e5;function dv(t,e){Be(1,arguments);var n=it(t),s=wo(n,e).getTime()-lv(n,e).getTime();return Math.round(s/cv)+1}function ke(t,e){for(var n=t<0?"-":"",s=Math.abs(t).toString();s.length<e;)s="0"+s;return n+s}var uv={y:function(e,n){var s=e.getUTCFullYear(),r=s>0?s:1-s;return ke(n==="yy"?r%100:r,n.length)},M:function(e,n){var s=e.getUTCMonth();return n==="M"?String(s+1):ke(s+1,2)},d:function(e,n){return ke(e.getUTCDate(),n.length)},a:function(e,n){var s=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h:function(e,n){return ke(e.getUTCHours()%12||12,n.length)},H:function(e,n){return ke(e.getUTCHours(),n.length)},m:function(e,n){return ke(e.getUTCMinutes(),n.length)},s:function(e,n){return ke(e.getUTCSeconds(),n.length)},S:function(e,n){var s=n.length,r=e.getUTCMilliseconds(),a=Math.floor(r*Math.pow(10,s-3));return ke(a,n.length)}};const os=uv;var Us={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},fv={G:function(e,n,s){var r=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return s.era(r,{width:"abbreviated"});case"GGGGG":return s.era(r,{width:"narrow"});case"GGGG":default:return s.era(r,{width:"wide"})}},y:function(e,n,s){if(n==="yo"){var r=e.getUTCFullYear(),a=r>0?r:1-r;return s.ordinalNumber(a,{unit:"year"})}return os.y(e,n)},Y:function(e,n,s,r){var a=Id(e,r),i=a>0?a:1-a;if(n==="YY"){var l=i%100;return ke(l,2)}return n==="Yo"?s.ordinalNumber(i,{unit:"year"}):ke(i,n.length)},R:function(e,n){var s=Rd(e);return ke(s,n.length)},u:function(e,n){var s=e.getUTCFullYear();return ke(s,n.length)},Q:function(e,n,s){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(r);case"QQ":return ke(r,2);case"Qo":return s.ordinalNumber(r,{unit:"quarter"});case"QQQ":return s.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,n,s){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(r);case"qq":return ke(r,2);case"qo":return s.ordinalNumber(r,{unit:"quarter"});case"qqq":return s.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,n,s){var r=e.getUTCMonth();switch(n){case"M":case"MM":return os.M(e,n);case"Mo":return s.ordinalNumber(r+1,{unit:"month"});case"MMM":return s.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(r,{width:"wide",context:"formatting"})}},L:function(e,n,s){var r=e.getUTCMonth();switch(n){case"L":return String(r+1);case"LL":return ke(r+1,2);case"Lo":return s.ordinalNumber(r+1,{unit:"month"});case"LLL":return s.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(r,{width:"wide",context:"standalone"})}},w:function(e,n,s,r){var a=dv(e,r);return n==="wo"?s.ordinalNumber(a,{unit:"week"}):ke(a,n.length)},I:function(e,n,s){var r=iv(e);return n==="Io"?s.ordinalNumber(r,{unit:"week"}):ke(r,n.length)},d:function(e,n,s){return n==="do"?s.ordinalNumber(e.getUTCDate(),{unit:"date"}):os.d(e,n)},D:function(e,n,s){var r=ov(e);return n==="Do"?s.ordinalNumber(r,{unit:"dayOfYear"}):ke(r,n.length)},E:function(e,n,s){var r=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return s.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(r,{width:"short",context:"formatting"});case"EEEE":default:return s.day(r,{width:"wide",context:"formatting"})}},e:function(e,n,s,r){var a=e.getUTCDay(),i=(a-r.weekStartsOn+8)%7||7;switch(n){case"e":return String(i);case"ee":return ke(i,2);case"eo":return s.ordinalNumber(i,{unit:"day"});case"eee":return s.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(a,{width:"short",context:"formatting"});case"eeee":default:return s.day(a,{width:"wide",context:"formatting"})}},c:function(e,n,s,r){var a=e.getUTCDay(),i=(a-r.weekStartsOn+8)%7||7;switch(n){case"c":return String(i);case"cc":return ke(i,n.length);case"co":return s.ordinalNumber(i,{unit:"day"});case"ccc":return s.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(a,{width:"narrow",context:"standalone"});case"cccccc":return s.day(a,{width:"short",context:"standalone"});case"cccc":default:return s.day(a,{width:"wide",context:"standalone"})}},i:function(e,n,s){var r=e.getUTCDay(),a=r===0?7:r;switch(n){case"i":return String(a);case"ii":return ke(a,n.length);case"io":return s.ordinalNumber(a,{unit:"day"});case"iii":return s.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(r,{width:"short",context:"formatting"});case"iiii":default:return s.day(r,{width:"wide",context:"formatting"})}},a:function(e,n,s){var r=e.getUTCHours(),a=r/12>=1?"pm":"am";switch(n){case"a":case"aa":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,n,s){var r=e.getUTCHours(),a;switch(r===12?a=Us.noon:r===0?a=Us.midnight:a=r/12>=1?"pm":"am",n){case"b":case"bb":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,n,s){var r=e.getUTCHours(),a;switch(r>=17?a=Us.evening:r>=12?a=Us.afternoon:r>=4?a=Us.morning:a=Us.night,n){case"B":case"BB":case"BBB":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,n,s){if(n==="ho"){var r=e.getUTCHours()%12;return r===0&&(r=12),s.ordinalNumber(r,{unit:"hour"})}return os.h(e,n)},H:function(e,n,s){return n==="Ho"?s.ordinalNumber(e.getUTCHours(),{unit:"hour"}):os.H(e,n)},K:function(e,n,s){var r=e.getUTCHours()%12;return n==="Ko"?s.ordinalNumber(r,{unit:"hour"}):ke(r,n.length)},k:function(e,n,s){var r=e.getUTCHours();return r===0&&(r=24),n==="ko"?s.ordinalNumber(r,{unit:"hour"}):ke(r,n.length)},m:function(e,n,s){return n==="mo"?s.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):os.m(e,n)},s:function(e,n,s){return n==="so"?s.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):os.s(e,n)},S:function(e,n){return os.S(e,n)},X:function(e,n,s,r){var a=r._originalDate||e,i=a.getTimezoneOffset();if(i===0)return"Z";switch(n){case"X":return Xi(i);case"XXXX":case"XX":return xs(i);case"XXXXX":case"XXX":default:return xs(i,":")}},x:function(e,n,s,r){var a=r._originalDate||e,i=a.getTimezoneOffset();switch(n){case"x":return Xi(i);case"xxxx":case"xx":return xs(i);case"xxxxx":case"xxx":default:return xs(i,":")}},O:function(e,n,s,r){var a=r._originalDate||e,i=a.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+Yi(i,":");case"OOOO":default:return"GMT"+xs(i,":")}},z:function(e,n,s,r){var a=r._originalDate||e,i=a.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+Yi(i,":");case"zzzz":default:return"GMT"+xs(i,":")}},t:function(e,n,s,r){var a=r._originalDate||e,i=Math.floor(a.getTime()/1e3);return ke(i,n.length)},T:function(e,n,s,r){var a=r._originalDate||e,i=a.getTime();return ke(i,n.length)}};function Yi(t,e){var n=t>0?"-":"+",s=Math.abs(t),r=Math.floor(s/60),a=s%60;if(a===0)return n+String(r);var i=e||"";return n+String(r)+i+ke(a,2)}function Xi(t,e){if(t%60===0){var n=t>0?"-":"+";return n+ke(Math.abs(t)/60,2)}return xs(t,e)}function xs(t,e){var n=e||"",s=t>0?"-":"+",r=Math.abs(t),a=ke(Math.floor(r/60),2),i=ke(r%60,2);return s+a+n+i}const mv=fv;var Ji=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},Td=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},pv=function(e,n){var s=e.match(/(P+)(p+)?/)||[],r=s[1],a=s[2];if(!a)return Ji(e,n);var i;switch(r){case"P":i=n.dateTime({width:"short"});break;case"PP":i=n.dateTime({width:"medium"});break;case"PPP":i=n.dateTime({width:"long"});break;case"PPPP":default:i=n.dateTime({width:"full"});break}return i.replace("{{date}}",Ji(r,n)).replace("{{time}}",Td(a,n))},hv={p:Td,P:pv};const gv=hv;var vv=["D","DD"],yv=["YY","YYYY"];function _v(t){return vv.indexOf(t)!==-1}function bv(t){return yv.indexOf(t)!==-1}function Qi(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var xv={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},wv=function(e,n,s){var r,a=xv[e];return typeof a=="string"?r=a:n===1?r=a.one:r=a.other.replace("{{count}}",n.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+r:r+" ago":r};const Cv=wv;function Ws(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,s=t.formats[n]||t.formats[t.defaultWidth];return s}}var Ev={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},kv={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Sv={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Av={date:Ws({formats:Ev,defaultWidth:"full"}),time:Ws({formats:kv,defaultWidth:"full"}),dateTime:Ws({formats:Sv,defaultWidth:"full"})};const Rv=Av;var Iv={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Tv=function(e,n,s,r){return Iv[e]};const Pv=Tv;function Mt(t){return function(e,n){var s=n!=null&&n.context?String(n.context):"standalone",r;if(s==="formatting"&&t.formattingValues){var a=t.defaultFormattingWidth||t.defaultWidth,i=n!=null&&n.width?String(n.width):a;r=t.formattingValues[i]||t.formattingValues[a]}else{var l=t.defaultWidth,c=n!=null&&n.width?String(n.width):t.defaultWidth;r=t.values[c]||t.values[l]}var d=t.argumentCallback?t.argumentCallback(e):e;return r[d]}}var Dv={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},$v={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Mv={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Ov={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Nv={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Lv={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Uv=function(e,n){var s=Number(e),r=s%100;if(r>20||r<10)switch(r%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},jv={ordinalNumber:Uv,era:Mt({values:Dv,defaultWidth:"wide"}),quarter:Mt({values:$v,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Mt({values:Mv,defaultWidth:"wide"}),day:Mt({values:Ov,defaultWidth:"wide"}),dayPeriod:Mt({values:Nv,defaultWidth:"wide",formattingValues:Lv,defaultFormattingWidth:"wide"})};const Bv=jv;function Ot(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.width,r=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],a=e.match(r);if(!a)return null;var i=a[0],l=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?Vv(l,function(f){return f.test(i)}):Fv(l,function(f){return f.test(i)}),d;d=t.valueCallback?t.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;var u=e.slice(i.length);return{value:d,rest:u}}}function Fv(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function Vv(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function Pd(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=e.match(t.matchPattern);if(!s)return null;var r=s[0],a=e.match(t.parsePattern);if(!a)return null;var i=t.valueCallback?t.valueCallback(a[0]):a[0];i=n.valueCallback?n.valueCallback(i):i;var l=e.slice(r.length);return{value:i,rest:l}}}var Hv=/^(\d+)(th|st|nd|rd)?/i,qv=/\d+/i,zv={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Wv={any:[/^b/i,/^(a|c)/i]},Gv={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Kv={any:[/1/i,/2/i,/3/i,/4/i]},Yv={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Xv={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Jv={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Qv={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Zv={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ey={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ty={ordinalNumber:Pd({matchPattern:Hv,parsePattern:qv,valueCallback:function(e){return parseInt(e,10)}}),era:Ot({matchPatterns:zv,defaultMatchWidth:"wide",parsePatterns:Wv,defaultParseWidth:"any"}),quarter:Ot({matchPatterns:Gv,defaultMatchWidth:"wide",parsePatterns:Kv,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Ot({matchPatterns:Yv,defaultMatchWidth:"wide",parsePatterns:Xv,defaultParseWidth:"any"}),day:Ot({matchPatterns:Jv,defaultMatchWidth:"wide",parsePatterns:Qv,defaultParseWidth:"any"}),dayPeriod:Ot({matchPatterns:Zv,defaultMatchWidth:"any",parsePatterns:ey,defaultParseWidth:"any"})};const sy=ty;var ny={code:"en-US",formatDistance:Cv,formatLong:Rv,formatRelative:Pv,localize:Bv,match:sy,options:{weekStartsOn:0,firstWeekContainsDate:1}};const oy=ny;var ry=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ay=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,iy=/^'([^]*?)'?$/,ly=/''/g,cy=/[a-zA-Z]/;function St(t,e,n){var s,r,a,i,l,c,d,u,f,m,g,p,v,x,C,S,B,E;Be(2,arguments);var A=String(e),k=Yo(),T=(s=(r=n==null?void 0:n.locale)!==null&&r!==void 0?r:k.locale)!==null&&s!==void 0?s:oy,M=Ts((a=(i=(l=(c=n==null?void 0:n.firstWeekContainsDate)!==null&&c!==void 0?c:n==null||(d=n.locale)===null||d===void 0||(u=d.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&l!==void 0?l:k.firstWeekContainsDate)!==null&&i!==void 0?i:(f=k.locale)===null||f===void 0||(m=f.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(M>=1&&M<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var L=Ts((g=(p=(v=(x=n==null?void 0:n.weekStartsOn)!==null&&x!==void 0?x:n==null||(C=n.locale)===null||C===void 0||(S=C.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&v!==void 0?v:k.weekStartsOn)!==null&&p!==void 0?p:(B=k.locale)===null||B===void 0||(E=B.options)===null||E===void 0?void 0:E.weekStartsOn)!==null&&g!==void 0?g:0);if(!(L>=0&&L<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!T.localize)throw new RangeError("locale must contain localize property");if(!T.formatLong)throw new RangeError("locale must contain formatLong property");var D=it(t);if(!tv(D))throw new RangeError("Invalid time value");var W=Hr(D),q=sv(D,W),se={firstWeekContainsDate:M,weekStartsOn:L,locale:T,_originalDate:D},ce=A.match(ay).map(function(te){var me=te[0];if(me==="p"||me==="P"){var de=gv[me];return de(te,T.formatLong)}return te}).join("").match(ry).map(function(te){if(te==="''")return"'";var me=te[0];if(me==="'")return dy(te);var de=mv[me];if(de)return!(n!=null&&n.useAdditionalWeekYearTokens)&&bv(te)&&Qi(te,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&_v(te)&&Qi(te,e,String(t)),de(q,te,T.localize,se);if(me.match(cy))throw new RangeError("Format string contains an unescaped latin alphabet character `"+me+"`");return te}).join("");return ce}function dy(t){var e=t.match(iy);return e?e[1].replace(ly,"'"):t}var uy={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}},fy=function(e,n,s){var r,a=uy[e];return typeof a=="string"?r=a:n===1?r=a.one:r=a.other.replace("{{count}}",n.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"en "+r:"hace "+r:r};const my=fy;var py={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},hy={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},gy={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},vy={date:Ws({formats:py,defaultWidth:"full"}),time:Ws({formats:hy,defaultWidth:"full"}),dateTime:Ws({formats:gy,defaultWidth:"full"})};const yy=vy;var _y={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'mañana a la' p",nextWeek:"eeee 'a la' p",other:"P"},by={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'mañana a las' p",nextWeek:"eeee 'a las' p",other:"P"},xy=function(e,n,s,r){return n.getUTCHours()!==1?by[e]:_y[e]};const wy=xy;var Cy={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","después de cristo"]},Ey={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},ky={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},Sy={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sá"],abbreviated:["dom","lun","mar","mié","jue","vie","sáb"],wide:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]},Ay={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"}},Ry={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},Iy=function(e,n){var s=Number(e);return s+"º"},Ty={ordinalNumber:Iy,era:Mt({values:Cy,defaultWidth:"wide"}),quarter:Mt({values:Ey,defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:Mt({values:ky,defaultWidth:"wide"}),day:Mt({values:Sy,defaultWidth:"wide"}),dayPeriod:Mt({values:Ay,defaultWidth:"wide",formattingValues:Ry,defaultFormattingWidth:"wide"})};const Py=Ty;var Dy=/^(\d+)(º)?/i,$y=/\d+/i,My={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},Oy={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},Ny={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},Ly={any:[/1/i,/2/i,/3/i,/4/i]},Uy={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},jy={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},By={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},Fy={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},Vy={narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},Hy={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},qy={ordinalNumber:Pd({matchPattern:Dy,parsePattern:$y,valueCallback:function(e){return parseInt(e,10)}}),era:Ot({matchPatterns:My,defaultMatchWidth:"wide",parsePatterns:Oy,defaultParseWidth:"any"}),quarter:Ot({matchPatterns:Ny,defaultMatchWidth:"wide",parsePatterns:Ly,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Ot({matchPatterns:Uy,defaultMatchWidth:"wide",parsePatterns:jy,defaultParseWidth:"any"}),day:Ot({matchPatterns:By,defaultMatchWidth:"wide",parsePatterns:Fy,defaultParseWidth:"any"}),dayPeriod:Ot({matchPatterns:Vy,defaultMatchWidth:"any",parsePatterns:Hy,defaultParseWidth:"any"})};const zy=qy;var Wy={code:"es",formatDistance:my,formatLong:yy,formatRelative:wy,localize:Py,match:zy,options:{weekStartsOn:1,firstWeekContainsDate:1}};const jt=Wy,Gy={name:"DetallePaciente",components:{PencilIcon:w1,ClockIcon:es},props:{patient:{type:Object,required:!0}},emits:["edit-patient","view-history"],setup(){return{getGenderDisplay:s=>({M:"Masculino",F:"Femenino",O:"Otro"})[s]||s||"No especificado",getBloodTypeDisplay:s=>({"A+":"A+","A-":"A-","B+":"B+","B-":"B-","AB+":"AB+","AB-":"AB-","O+":"O+","O-":"O-",ND:"No Determinado"})[s]||s||"No Determinado",formatDate:s=>{if(!s)return null;try{const r=new Date(s);return isNaN(r.getTime())?null:St(r,"dd/MM/yyyy",{locale:jt})}catch{return null}}}}},Ky={class:"card"},Yy={class:"card-header"},Xy={class:"flex items-center justify-between"},Jy={class:"flex space-x-2"},Qy={class:"card-body"},Zy={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},e_={class:"space-y-3"},t_={class:"space-y-2 text-sm"},s_={class:"flex justify-between"},n_={class:"text-secondary-900"},o_={class:"flex justify-between"},r_={class:"text-secondary-900"},a_={class:"flex justify-between"},i_={class:"text-secondary-900"},l_={class:"flex justify-between"},c_={class:"text-secondary-900"},d_={class:"flex justify-between"},u_={class:"text-secondary-900"},f_={class:"flex justify-between"},m_={class:"text-secondary-900"},p_={class:"flex justify-between"},h_={class:"badge bg-primary-600 text-white"},g_={class:"flex justify-between"},v_={class:"badge bg-accent-600 text-white"},y_={class:"space-y-3"},__={class:"space-y-2 text-sm"},b_={class:"text-secondary-900 mt-1 break-words"},x_={class:"flex justify-between"},w_={class:"text-secondary-900"},C_={class:"flex justify-between"},E_={class:"text-secondary-900"},k_={key:0},S_={class:"text-secondary-900 mt-1 bg-orange-50 p-2 rounded text-xs border border-orange-200"},A_={class:"space-y-3"},R_={class:"space-y-2 text-sm"},I_={class:"flex justify-between"},T_={class:"text-secondary-900"},P_={class:"text-secondary-900 mt-1 break-words"},D_={class:"text-secondary-900 mt-1"},$_={key:0,class:"block text-xs text-secondary-600"},M_={class:"flex justify-between"},O_={class:"text-secondary-900"},N_={class:"flex justify-between"},L_={class:"badge bg-blue-500 text-white"},U_={class:"mt-6 pt-4 border-t border-gray-200"},j_={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between text-sm text-secondary-600 space-y-2 sm:space-y-0"},B_={class:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-4"},F_={class:"flex items-center"},V_={key:0,class:"text-right"};function H_(t,e,n,s,r,a){const i=$("PencilIcon"),l=$("ClockIcon");return y(),_("div",Ky,[o("div",Yy,[o("div",Xy,[e[4]||(e[4]=o("h2",{class:"text-xl font-bold text-secondary-900"}," Información del Paciente ",-1)),o("div",Jy,[o("button",{onClick:e[0]||(e[0]=c=>t.$emit("edit-patient",n.patient)),class:"btn-secondary text-sm"},[I(i,{class:"h-4 w-4 mr-1"}),e[2]||(e[2]=N(" Editar ",-1))]),o("button",{onClick:e[1]||(e[1]=c=>t.$emit("view-history")),class:"btn-primary text-sm"},[I(l,{class:"h-4 w-4 mr-1"}),e[3]||(e[3]=N(" Historial ",-1))])])])]),o("div",Qy,[o("div",Zy,[o("div",e_,[e[13]||(e[13]=o("h3",{class:"text-lg font-medium text-secondary-900 border-b border-gray-200 pb-2"}," Información Básica ",-1)),o("div",t_,[o("div",s_,[e[5]||(e[5]=o("span",{class:"font-medium text-secondary-600"},"Expediente:",-1)),o("span",n_,h(n.patient.expediente),1)]),o("div",o_,[e[6]||(e[6]=o("span",{class:"font-medium text-secondary-600"},"CURP:",-1)),o("span",r_,h(n.patient.curp),1)]),o("div",a_,[e[7]||(e[7]=o("span",{class:"font-medium text-secondary-600"},"Nombre(s):",-1)),o("span",i_,h(n.patient.nombre),1)]),o("div",l_,[e[8]||(e[8]=o("span",{class:"font-medium text-secondary-600"},"Apellido Paterno:",-1)),o("span",c_,h(n.patient.apellido_paterno),1)]),o("div",d_,[e[9]||(e[9]=o("span",{class:"font-medium text-secondary-600"},"Apellido Materno:",-1)),o("span",u_,h(n.patient.apellido_materno||"No especificado"),1)]),o("div",f_,[e[10]||(e[10]=o("span",{class:"font-medium text-secondary-600"},"Edad:",-1)),o("span",m_,h(n.patient.edad)+" años",1)]),o("div",p_,[e[11]||(e[11]=o("span",{class:"font-medium text-secondary-600"},"Género:",-1)),o("span",h_,h(s.getGenderDisplay(n.patient.genero)),1)]),o("div",g_,[e[12]||(e[12]=o("span",{class:"font-medium text-secondary-600"},"Tipo de Sangre:",-1)),o("span",v_,h(s.getBloodTypeDisplay(n.patient.tipo_sangre)),1)])])]),o("div",y_,[e[18]||(e[18]=o("h3",{class:"text-lg font-medium text-secondary-900 border-b border-gray-200 pb-2"}," Información Médica ",-1)),o("div",__,[o("div",null,[e[14]||(e[14]=o("span",{class:"font-medium text-secondary-600"},"Patología:",-1)),o("p",b_,h(n.patient.patologia||"No especificado"),1)]),o("div",x_,[e[15]||(e[15]=o("span",{class:"font-medium text-secondary-600"},"CIE-10:",-1)),o("span",w_,h(n.patient.cie10||"No especificado"),1)]),o("div",C_,[e[16]||(e[16]=o("span",{class:"font-medium text-secondary-600"},"Fecha Diagnóstico:",-1)),o("span",E_,h(s.formatDate(n.patient.fecha_diagnostico)||"No especificado"),1)]),n.patient.alergias?(y(),_("div",k_,[e[17]||(e[17]=o("span",{class:"font-medium text-secondary-600"},"Alergias:",-1)),o("p",S_,h(n.patient.alergias),1)])):O("",!0)])]),o("div",A_,[e[24]||(e[24]=o("h3",{class:"text-lg font-medium text-secondary-900 border-b border-gray-200 pb-2"}," Contacto y Seguro ",-1)),o("div",R_,[o("div",I_,[e[19]||(e[19]=o("span",{class:"font-medium text-secondary-600"},"Teléfono:",-1)),o("span",T_,h(n.patient.telefono||"No especificado"),1)]),o("div",null,[e[20]||(e[20]=o("span",{class:"font-medium text-secondary-600"},"Dirección:",-1)),o("p",P_,h(n.patient.direccion||"No especificado"),1)]),o("div",null,[e[21]||(e[21]=o("span",{class:"font-medium text-secondary-600"},"Contacto Emergencia:",-1)),o("p",D_,[N(h(n.patient.contacto_emergencia_nombre||"No especificado")+" ",1),n.patient.contacto_emergencia_telefono?(y(),_("span",$_,h(n.patient.contacto_emergencia_telefono),1)):O("",!0)])]),o("div",M_,[e[22]||(e[22]=o("span",{class:"font-medium text-secondary-600"},"NSS:",-1)),o("span",O_,h(n.patient.numero_seguro_social||"No especificado"),1)]),o("div",N_,[e[23]||(e[23]=o("span",{class:"font-medium text-secondary-600"},"Institución:",-1)),o("span",L_,h(n.patient.institucion_seguro||"No especificado"),1)])])])]),o("div",U_,[o("div",j_,[o("div",B_,[o("span",F_,[e[25]||(e[25]=o("span",{class:"font-medium"},"Estado:",-1)),o("span",{class:ee(["ml-2 badge",n.patient.is_active?"bg-success text-white":"bg-gray-500 text-white"])},h(n.patient.is_active?"Activo":"Inactivo"),3)]),o("span",null,[e[26]||(e[26]=o("span",{class:"font-medium"},"Registrado:",-1)),N(" "+h(s.formatDate(n.patient.created_at)||"No disponible"),1)])]),n.patient.updated_at&&n.patient.updated_at!==n.patient.created_at?(y(),_("div",V_,[e[27]||(e[27]=o("span",{class:"font-medium"},"Última actualización:",-1)),N(" "+h(s.formatDate(n.patient.updated_at)||"No disponible"),1)])):O("",!0)])])])])}const Dd=Se(Gy,[["render",H_]]);const q_={name:"SelectorCIE10",props:{modelValue:{type:[String,Object],default:""},placeholder:{type:String,default:"Buscar código CIE-10..."},required:{type:Boolean,default:!1},errorMessage:{type:String,default:""}},emits:["update:modelValue","code-selected"],setup(t,{emit:e}){const n=$e(),s=U(""),r=U(!1),a=U(!1),i=U([]),l=U(null),c=U(null),d=ne(()=>t.errorMessage&&t.errorMessage.length>0),u=()=>{c.value&&clearTimeout(c.value),c.value=setTimeout(()=>{s.value.trim().length>=2?f():i.value=[]},300)},f=async()=>{if(s.value.trim()){a.value=!0;try{const S=await ge.get(`/pacientes/cie10/buscar/?q=${encodeURIComponent(s.value.trim())}`);i.value=S.data.results||[]}catch(S){console.error("Error buscando códigos CIE-10:",S),n.error("Error al buscar códigos CIE-10"),i.value=[]}finally{a.value=!1}}},m=S=>{l.value=S,s.value=S.codigo,r.value=!1,e("update:modelValue",S.codigo),e("code-selected",S),n.success(`Código CIE-10 seleccionado: ${S.codigo}`)},g=()=>{l.value=null,s.value="",e("update:modelValue",""),e("code-selected",null)},p=()=>{setTimeout(()=>{r.value=!1},150)},v=S=>({ENFERMEDAD:"Enfermedad",TRAUMATISMO:"Traumatismo",FACTOR_EXTERNO:"Causa externa",FACTOR_SALUD:"Factor de salud"})[S]||S,x=S=>({AMBOS:"Ambos géneros",MASCULINO:"Solo masculino",FEMENINO:"Solo femenino"})[S]||S,C=async()=>{if(t.modelValue&&typeof t.modelValue=="string")try{const E=((await ge.get(`/pacientes/cie10/buscar/?q=${t.modelValue}`)).data.results||[]).find(A=>A.codigo===t.modelValue);E&&(l.value=E,s.value=E.codigo)}catch(S){console.error("Error inicializando código CIE-10:",S)}};return Wt(()=>t.modelValue,S=>{S&&!l.value&&C()}),je(()=>{t.modelValue&&C()}),{searchQuery:s,showDropdown:r,isLoading:a,filteredCodes:i,selectedCode:l,hasError:d,handleSearch:u,selectCode:m,clearSelection:g,handleBlur:p,getTipoDisplay:v,getGeneroDisplay:x}}},z_={class:"relative"},W_={class:"relative"},G_=["placeholder"],K_={key:0,class:"absolute z-50 w-full mt-1 bg-white border border-secondary-300 rounded-lg shadow-lg max-h-60 overflow-y-auto"},Y_={key:0,class:"p-4 text-center text-secondary-600"},X_={key:1},J_=["onClick"],Q_={class:"flex items-start justify-between"},Z_={class:"flex-1"},eb={class:"flex items-center space-x-2"},tb={class:"font-mono text-sm font-bold text-primary-600 bg-primary-50 px-2 py-1 rounded"},sb={class:"text-xs text-secondary-500 bg-secondary-100 px-2 py-1 rounded"},nb={class:"text-sm font-medium text-secondary-900 mt-1"},ob={class:"text-xs text-secondary-600 mt-1 line-clamp-2"},rb={class:"flex flex-col items-end space-y-1 ml-2"},ab={key:1,class:"text-xs px-2 py-1 rounded bg-red-100 text-red-700"},ib={key:0,class:"px-4 py-3 text-center text-secondary-500"},lb={key:1,class:"mt-3 p-3 bg-primary-50 border border-primary-200 rounded-lg"},cb={class:"flex items-start justify-between"},db={class:"flex-1"},ub={class:"flex items-center space-x-2 mb-2"},fb={class:"font-mono text-lg font-bold text-primary-700 bg-white px-3 py-1 rounded border"},mb={class:"text-sm text-primary-600 bg-white px-2 py-1 rounded border"},pb={class:"font-medium text-primary-900 mb-1"},hb={class:"text-sm text-primary-700"},gb={class:"mt-3 pt-3 border-t border-primary-200"},vb={class:"grid grid-cols-2 gap-4 text-xs"},yb={class:"ml-1 text-primary-600"},_b={class:"ml-1 text-primary-600"},bb={key:0},xb={class:"ml-1 text-primary-600"},wb={class:"ml-1 text-primary-600"},Cb={key:2,class:"mt-1 text-sm text-accent-500"};function Eb(t,e,n,s,r,a){return y(),_("div",z_,[o("div",W_,[Y(o("input",{"onUpdate:modelValue":e[0]||(e[0]=i=>s.searchQuery=i),onInput:e[1]||(e[1]=(...i)=>s.handleSearch&&s.handleSearch(...i)),onFocus:e[2]||(e[2]=i=>s.showDropdown=!0),onBlur:e[3]||(e[3]=(...i)=>s.handleBlur&&s.handleBlur(...i)),type:"text",placeholder:n.placeholder||"Buscar código CIE-10...",class:ee(["w-full px-3 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-600 focus:border-primary-600 transition-colors",{"border-accent-500":s.hasError}])},null,42,G_),[[ie,s.searchQuery]]),e[5]||(e[5]=o("div",{class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},[o("svg",{class:"h-5 w-5 text-secondary-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1))]),s.showDropdown&&(s.filteredCodes.length>0||s.isLoading)?(y(),_("div",K_,[s.isLoading?(y(),_("div",Y_,e[6]||(e[6]=[o("div",{class:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600 mx-auto"},null,-1),o("p",{class:"mt-2"},"Buscando códigos...",-1)]))):(y(),_("div",X_,[(y(!0),_(he,null,Re(s.filteredCodes,i=>(y(),_("div",{key:i.codigo,onClick:l=>s.selectCode(i),class:"px-4 py-3 hover:bg-secondary-50 cursor-pointer border-b border-secondary-100 last:border-b-0 transition-colors"},[o("div",Q_,[o("div",Z_,[o("div",eb,[o("span",tb,h(i.codigo),1),o("span",sb," Cap. "+h(i.capitulo),1)]),o("p",nb,h(i.descripcion_corta),1),o("p",ob,h(i.descripcion),1)]),o("div",rb,[i.genero_aplicable!=="AMBOS"?(y(),_("span",{key:0,class:ee(["text-xs px-2 py-1 rounded text-white",i.genero_aplicable==="MASCULINO"?"bg-blue-500":"bg-pink-500"])},h(i.genero_aplicable==="MASCULINO"?"♂":"♀"),3)):O("",!0),i.es_mortalidad?(y(),_("span",ab," Mortalidad ")):O("",!0)])])],8,J_))),128)),s.filteredCodes.length===0&&s.searchQuery?(y(),_("div",ib,e[7]||(e[7]=[o("p",null,"No se encontraron códigos CIE-10",-1),o("p",{class:"text-sm"},"Intenta con otros términos de búsqueda",-1)]))):O("",!0)]))])):O("",!0),s.selectedCode?(y(),_("div",lb,[o("div",cb,[o("div",db,[o("div",ub,[o("span",fb,h(s.selectedCode.codigo),1),o("span",mb," Capítulo "+h(s.selectedCode.capitulo),1)]),o("h4",pb,h(s.selectedCode.descripcion_corta),1),o("p",hb,h(s.selectedCode.descripcion),1)]),o("button",{onClick:e[4]||(e[4]=(...i)=>s.clearSelection&&s.clearSelection(...i)),type:"button",class:"ml-3 text-primary-600 hover:text-primary-800 transition-colors"},e[8]||(e[8]=[o("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),o("div",gb,[o("div",vb,[o("div",null,[e[9]||(e[9]=o("span",{class:"font-medium text-primary-700"},"Tipo:",-1)),o("span",yb,h(s.getTipoDisplay(s.selectedCode.tipo)),1)]),o("div",null,[e[10]||(e[10]=o("span",{class:"font-medium text-primary-700"},"Género:",-1)),o("span",_b,h(s.getGeneroDisplay(s.selectedCode.genero_aplicable)),1)]),s.selectedCode.edad_minima||s.selectedCode.edad_maxima?(y(),_("div",bb,[e[11]||(e[11]=o("span",{class:"font-medium text-primary-700"},"Edad:",-1)),o("span",xb,h(s.selectedCode.edad_minima||"0")+" - "+h(s.selectedCode.edad_maxima||"∞")+" años ",1)])):O("",!0),o("div",null,[e[12]||(e[12]=o("span",{class:"font-medium text-primary-700"},"Aplicabilidad:",-1)),o("span",wb,h(s.selectedCode.es_morbilidad?"Morbilidad":"")+h(s.selectedCode.es_mortalidad&&s.selectedCode.es_morbilidad?", ":"")+h(s.selectedCode.es_mortalidad?"Mortalidad":""),1)])])])])):O("",!0),s.hasError?(y(),_("p",Cb,h(n.errorMessage),1)):O("",!0)])}const $d=Se(q_,[["render",Eb],["__scopeId","data-v-77b6e044"]]),kb={name:"FormularioPaciente",components:{XMarkIcon:Ds,ExclamationTriangleIcon:Je,SelectorCIE10:$d},props:{patient:{type:Object,default:null}},emits:["close","saved"],setup(t,{emit:e}){const n=$e(),s=U(!1),r=U([]),a=ne(()=>!!t.patient),i=pt({expediente:"",curp:"",nombre:"",apellido_paterno:"",apellido_materno:"",fecha_nacimiento:"",genero:"",patologia:"",cie10:"",fecha_diagnostico:"",tipo_sangre:"ND",alergias:"",telefono:"",direccion:"",contacto_emergencia_nombre:"",contacto_emergencia_telefono:"",numero_seguro_social:"",institucion_seguro:""}),l=pt({});je(()=>{t.patient&&Object.keys(i).forEach(g=>{t.patient[g]!==void 0&&(i[g]=t.patient[g])})});const c=()=>{i.curp=i.curp.toUpperCase()},d=()=>{const g={};return["expediente","curp","nombre","apellido_paterno","fecha_nacimiento","genero","patologia","cie10","fecha_diagnostico"].forEach(v=>{var x;(x=i[v])!=null&&x.trim()||(g[v]="Este campo es requerido")}),i.curp&&!/^[A-Z]{4}[0-9]{6}[HM][A-Z]{5}[0-9]{2}$/.test(i.curp)&&(g.curp="CURP inválida"),i.fecha_nacimiento&&new Date(i.fecha_nacimiento)>new Date&&(g.fecha_nacimiento="La fecha de nacimiento no puede ser futura"),i.fecha_diagnostico&&new Date(i.fecha_diagnostico)>new Date&&(g.fecha_diagnostico="La fecha de diagnóstico no puede ser futura"),Object.assign(l,g),Object.keys(g).length===0};return{form:i,errors:l,isSubmitting:s,duplicateWarnings:r,isEditing:a,formatCURP:c,checkDuplicates:async()=>{if(!(!i.expediente.trim()&&!i.curp.trim()))try{const g=await ge.get("/pacientes/verificar-duplicados/",{params:{expediente:i.expediente.trim(),curp:i.curp.trim()}});r.value=g.data.duplicados||[]}catch(g){console.error("Error checking duplicates:",g)}},handleCIE10Selected:g=>{g&&(i.patologia.trim()||(i.patologia=g.descripcion_corta))},handleSubmit:async()=>{var g;if(!d()){n.error("Por favor corrige los errores en el formulario");return}if(r.value.length>0&&!a.value){n.error("Hay duplicados que deben resolverse antes de continuar");return}try{s.value=!0;const p=a.value?`/pacientes/${t.patient.expediente}/`:"/pacientes/",v=a.value?"patch":"post",x=await ge[v](p,i);e("saved",x.data),n.success(`Paciente ${a.value?"actualizado":"creado"} correctamente`)}catch(p){if(console.error("Error saving patient:",p),(g=p.response)!=null&&g.data){const v=p.response.data;Object.keys(v).forEach(x=>{l.hasOwnProperty(x)&&(l[x]=Array.isArray(v[x])?v[x][0]:v[x])})}n.error("Error al guardar el paciente")}finally{s.value=!1}}}}},Sb={class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},Ab={class:"bg-background-card rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] flex flex-col"},Rb={class:"px-6 py-4 border-b border-gray-200 flex-shrink-0"},Ib={class:"flex items-center justify-between"},Tb={class:"text-xl font-bold text-secondary-900"},Pb={class:"modal-scrollable p-6"},Db={class:"card"},$b={class:"card-body"},Mb={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ob=["disabled"],Nb={key:0,class:"form-error"},Lb={key:0,class:"form-error"},Ub={key:0,class:"form-error"},jb={key:0,class:"form-error"},Bb={key:0,class:"form-error"},Fb={key:0,class:"form-error"},Vb={class:"card"},Hb={class:"card-body"},qb={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},zb={key:0,class:"form-error"},Wb={key:0,class:"form-error"},Gb={class:"md:col-span-2"},Kb={class:"card"},Yb={class:"card-body"},Xb={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Jb={class:"md:col-span-2"},Qb={class:"card"},Zb={class:"card-body"},ex={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},tx={key:0,class:"bg-warning bg-opacity-10 border border-warning rounded-lg p-4"},sx={class:"flex"},nx={class:"ml-3"},ox={class:"mt-2 text-sm text-warning"},rx={class:"list-disc list-inside"},ax={class:"px-6 py-4 border-t border-gray-200 flex-shrink-0"},ix={class:"flex justify-end space-x-4"},lx=["disabled"],cx={key:0},dx={key:1};function ux(t,e,n,s,r,a){const i=$("XMarkIcon"),l=$("SelectorCIE10"),c=$("ExclamationTriangleIcon");return y(),_("div",Sb,[o("div",Ab,[o("div",Rb,[o("div",Ib,[o("h2",Tb,h(s.isEditing?"Editar Paciente":"Nuevo Paciente"),1),o("button",{onClick:e[0]||(e[0]=d=>t.$emit("close")),class:"text-secondary-400 hover:text-secondary-600"},[I(i,{class:"h-6 w-6"})])])]),o("div",Pb,[o("form",{onSubmit:e[22]||(e[22]=dt((...d)=>s.handleSubmit&&s.handleSubmit(...d),["prevent"])),class:"space-y-6"},[o("div",Db,[e[35]||(e[35]=o("div",{class:"card-header"},[o("h3",{class:"text-lg font-medium text-secondary-900"}," Información Básica ")],-1)),o("div",$b,[o("div",Mb,[o("div",null,[e[25]||(e[25]=o("label",{class:"form-label"}," Número de Expediente * ",-1)),Y(o("input",{"onUpdate:modelValue":e[1]||(e[1]=d=>s.form.expediente=d),type:"text",class:ee(["form-input",{"border-accent-500":s.errors.expediente}]),placeholder:"Ej: EXP-2024-001",disabled:s.isEditing,onBlur:e[2]||(e[2]=(...d)=>s.checkDuplicates&&s.checkDuplicates(...d))},null,42,Ob),[[ie,s.form.expediente]]),s.errors.expediente?(y(),_("p",Nb,h(s.errors.expediente),1)):O("",!0)]),o("div",null,[e[26]||(e[26]=o("label",{class:"form-label"}," CURP * ",-1)),Y(o("input",{"onUpdate:modelValue":e[3]||(e[3]=d=>s.form.curp=d),type:"text",class:ee(["form-input",{"border-accent-500":s.errors.curp}]),placeholder:"Ej: ABCD123456HMCLEF01",maxlength:"18",onInput:e[4]||(e[4]=(...d)=>s.formatCURP&&s.formatCURP(...d)),onBlur:e[5]||(e[5]=(...d)=>s.checkDuplicates&&s.checkDuplicates(...d))},null,34),[[ie,s.form.curp]]),s.errors.curp?(y(),_("p",Lb,h(s.errors.curp),1)):O("",!0)]),o("div",null,[e[27]||(e[27]=o("label",{class:"form-label"}," Nombre(s) * ",-1)),Y(o("input",{"onUpdate:modelValue":e[6]||(e[6]=d=>s.form.nombre=d),type:"text",class:ee(["form-input",{"border-accent-500":s.errors.nombre}]),placeholder:"Nombre(s) del paciente"},null,2),[[ie,s.form.nombre]]),s.errors.nombre?(y(),_("p",Ub,h(s.errors.nombre),1)):O("",!0)]),o("div",null,[e[28]||(e[28]=o("label",{class:"form-label"}," Apellido Paterno * ",-1)),Y(o("input",{"onUpdate:modelValue":e[7]||(e[7]=d=>s.form.apellido_paterno=d),type:"text",class:ee(["form-input",{"border-accent-500":s.errors.apellido_paterno}]),placeholder:"Apellido paterno"},null,2),[[ie,s.form.apellido_paterno]]),s.errors.apellido_paterno?(y(),_("p",jb,h(s.errors.apellido_paterno),1)):O("",!0)]),o("div",null,[e[29]||(e[29]=o("label",{class:"form-label"}," Apellido Materno ",-1)),Y(o("input",{"onUpdate:modelValue":e[8]||(e[8]=d=>s.form.apellido_materno=d),type:"text",class:"form-input",placeholder:"Apellido materno"},null,512),[[ie,s.form.apellido_materno]])]),o("div",null,[e[30]||(e[30]=o("label",{class:"form-label"}," Fecha de Nacimiento * ",-1)),Y(o("input",{"onUpdate:modelValue":e[9]||(e[9]=d=>s.form.fecha_nacimiento=d),type:"date",class:ee(["form-input",{"border-accent-500":s.errors.fecha_nacimiento}])},null,2),[[ie,s.form.fecha_nacimiento]]),s.errors.fecha_nacimiento?(y(),_("p",Bb,h(s.errors.fecha_nacimiento),1)):O("",!0)]),o("div",null,[e[32]||(e[32]=o("label",{class:"form-label"}," Género * ",-1)),Y(o("select",{"onUpdate:modelValue":e[10]||(e[10]=d=>s.form.genero=d),class:ee(["form-input",{"border-accent-500":s.errors.genero}])},e[31]||(e[31]=[o("option",{value:""},"Seleccionar género",-1),o("option",{value:"M"},"Masculino",-1),o("option",{value:"F"},"Femenino",-1),o("option",{value:"O"},"Otro",-1)]),2),[[Ne,s.form.genero]]),s.errors.genero?(y(),_("p",Fb,h(s.errors.genero),1)):O("",!0)]),o("div",null,[e[34]||(e[34]=o("label",{class:"form-label"}," Tipo de Sangre ",-1)),Y(o("select",{"onUpdate:modelValue":e[11]||(e[11]=d=>s.form.tipo_sangre=d),class:"form-input"},e[33]||(e[33]=[Ke('<option value="ND">No Determinado</option><option value="A+">A+</option><option value="A-">A-</option><option value="B+">B+</option><option value="B-">B-</option><option value="AB+">AB+</option><option value="AB-">AB-</option><option value="O+">O+</option><option value="O-">O-</option>',9)]),512),[[Ne,s.form.tipo_sangre]])])])])]),o("div",Vb,[e[40]||(e[40]=o("div",{class:"card-header"},[o("h3",{class:"text-lg font-medium text-secondary-900"}," Información Médica ")],-1)),o("div",Hb,[o("div",qb,[o("div",null,[e[36]||(e[36]=o("label",{class:"form-label"}," Patología Principal * ",-1)),Y(o("input",{"onUpdate:modelValue":e[12]||(e[12]=d=>s.form.patologia=d),type:"text",class:ee(["form-input",{"border-accent-500":s.errors.patologia}]),placeholder:"Ej: Diabetes Mellitus tipo 2"},null,2),[[ie,s.form.patologia]]),s.errors.patologia?(y(),_("p",zb,h(s.errors.patologia),1)):O("",!0)]),o("div",null,[e[37]||(e[37]=o("label",{class:"form-label"}," Código CIE-10 * ",-1)),I(l,{modelValue:s.form.cie10,"onUpdate:modelValue":e[13]||(e[13]=d=>s.form.cie10=d),"error-message":s.errors.cie10,placeholder:"Buscar código CIE-10...",onCodeSelected:s.handleCIE10Selected},null,8,["modelValue","error-message","onCodeSelected"])]),o("div",null,[e[38]||(e[38]=o("label",{class:"form-label"}," Fecha de Diagnóstico * ",-1)),Y(o("input",{"onUpdate:modelValue":e[14]||(e[14]=d=>s.form.fecha_diagnostico=d),type:"date",class:ee(["form-input",{"border-accent-500":s.errors.fecha_diagnostico}])},null,2),[[ie,s.form.fecha_diagnostico]]),s.errors.fecha_diagnostico?(y(),_("p",Wb,h(s.errors.fecha_diagnostico),1)):O("",!0)]),o("div",Gb,[e[39]||(e[39]=o("label",{class:"form-label"}," Alergias Conocidas ",-1)),Y(o("textarea",{"onUpdate:modelValue":e[15]||(e[15]=d=>s.form.alergias=d),class:"form-input",rows:"3",placeholder:"Describir alergias conocidas del paciente..."},null,512),[[ie,s.form.alergias]])])])])]),o("div",Kb,[e[45]||(e[45]=o("div",{class:"card-header"},[o("h3",{class:"text-lg font-medium text-secondary-900"}," Información de Contacto ")],-1)),o("div",Yb,[o("div",Xb,[o("div",null,[e[41]||(e[41]=o("label",{class:"form-label"}," Teléfono ",-1)),Y(o("input",{"onUpdate:modelValue":e[16]||(e[16]=d=>s.form.telefono=d),type:"tel",class:"form-input",placeholder:"Ej: 5551234567"},null,512),[[ie,s.form.telefono]])]),o("div",null,[e[42]||(e[42]=o("label",{class:"form-label"}," Contacto de Emergencia ",-1)),Y(o("input",{"onUpdate:modelValue":e[17]||(e[17]=d=>s.form.contacto_emergencia_nombre=d),type:"text",class:"form-input",placeholder:"Nombre del contacto de emergencia"},null,512),[[ie,s.form.contacto_emergencia_nombre]])]),o("div",null,[e[43]||(e[43]=o("label",{class:"form-label"}," Teléfono de Emergencia ",-1)),Y(o("input",{"onUpdate:modelValue":e[18]||(e[18]=d=>s.form.contacto_emergencia_telefono=d),type:"tel",class:"form-input",placeholder:"Teléfono del contacto de emergencia"},null,512),[[ie,s.form.contacto_emergencia_telefono]])]),o("div",Jb,[e[44]||(e[44]=o("label",{class:"form-label"}," Dirección ",-1)),Y(o("textarea",{"onUpdate:modelValue":e[19]||(e[19]=d=>s.form.direccion=d),class:"form-input",rows:"2",placeholder:"Dirección completa del paciente..."},null,512),[[ie,s.form.direccion]])])])])]),o("div",Qb,[e[49]||(e[49]=o("div",{class:"card-header"},[o("h3",{class:"text-lg font-medium text-secondary-900"}," Información del Seguro Médico ")],-1)),o("div",Zb,[o("div",ex,[o("div",null,[e[46]||(e[46]=o("label",{class:"form-label"}," Número de Seguro Social ",-1)),Y(o("input",{"onUpdate:modelValue":e[20]||(e[20]=d=>s.form.numero_seguro_social=d),type:"text",class:"form-input",placeholder:"Número de seguro social"},null,512),[[ie,s.form.numero_seguro_social]])]),o("div",null,[e[48]||(e[48]=o("label",{class:"form-label"}," Institución de Seguro ",-1)),Y(o("select",{"onUpdate:modelValue":e[21]||(e[21]=d=>s.form.institucion_seguro=d),class:"form-input"},e[47]||(e[47]=[Ke('<option value="">Seleccionar institución</option><option value="IMSS">IMSS</option><option value="ISSSTE">ISSSTE</option><option value="PEMEX">PEMEX</option><option value="SEDENA">SEDENA</option><option value="SEMAR">SEMAR</option><option value="Seguro Popular">Seguro Popular</option><option value="INSABI">INSABI</option><option value="Particular">Particular</option><option value="Otro">Otro</option>',10)]),512),[[Ne,s.form.institucion_seguro]])])])])]),s.duplicateWarnings.length>0?(y(),_("div",tx,[o("div",sx,[I(c,{class:"h-5 w-5 text-warning"}),o("div",nx,[e[50]||(e[50]=o("h3",{class:"text-sm font-medium text-warning"}," Advertencia: Posibles duplicados ",-1)),o("div",ox,[o("ul",rx,[(y(!0),_(he,null,Re(s.duplicateWarnings,d=>(y(),_("li",{key:d.campo}," Ya existe un paciente con "+h(d.campo.toUpperCase())+": "+h(d.valor),1))),128))])])])])])):O("",!0)],32)]),o("div",ax,[o("div",ix,[o("button",{type:"button",onClick:e[23]||(e[23]=d=>t.$emit("close")),class:"btn-secondary"}," Cancelar "),o("button",{type:"button",onClick:e[24]||(e[24]=(...d)=>s.handleSubmit&&s.handleSubmit(...d)),disabled:s.isSubmitting||s.duplicateWarnings.length>0,class:"btn-primary"},[s.isSubmitting?(y(),_("span",cx,e[51]||(e[51]=[o("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),N(" Guardando... ",-1)]))):(y(),_("span",dx,h(s.isEditing?"Actualizar":"Crear")+" Paciente ",1))],8,lx)])])])])}const Md=Se(kb,[["render",ux]]),fx={name:"DetalleReceta",components:{XMarkIcon:Ds,DocumentTextIcon:As},props:{recipe:{type:Object,required:!0}},emits:["close"],setup(t){const e=c=>({PENDIENTE:"status-pendiente",VALIDADA:"status-validada",PARCIALMENTE_SURTIDA:"status-parcialmente-surtida",SURTIDA:"status-surtida",CANCELADA:"status-cancelada"})[c]||"bg-gray-500 text-white",n=c=>({FARMACIA:"bg-blue-500 text-white",CMI:"bg-purple-500 text-white"})[c]||"bg-gray-500 text-white",s=c=>({URGENTE:"bg-accent-600 text-white",ALTA:"bg-orange-500 text-white",MEDIA:"bg-blue-500 text-white",BAJA:"bg-gray-500 text-white"})[c]||"bg-gray-500 text-white",r=c=>c.cantidad_prescrita?Math.min(100,(c.cantidad_surtida||0)/c.cantidad_prescrita*100):0,a=c=>{const d=r(c);return d===100?"bg-success":d>50?"bg-blue-500":d>0?"bg-warning":"bg-gray-300"},i=c=>{if(!c)return"-";try{return St(new Date(c),"dd/MM/yyyy HH:mm",{locale:jt})}catch{return c}};return{getStatusClass:e,getTypeClass:n,getPriorityClass:s,getProgressPercentage:r,getProgressColor:a,formatDate:i,getEventosDispensacion:()=>{var d;const c=[];return(d=t.recipe)!=null&&d.detalles?(t.recipe.detalles.forEach(u=>{if(u.lotes&&u.lotes.length>0)u.lotes.forEach(f=>{const m=f.cantidad_dispensada>=u.cantidad_prescrita;c.push({id:`lote-${f.id}`,fecha:f.fecha_dispensacion,usuario:f.dispensado_por_name,titulo:m?"Medicamento Dispensado Completo":"Dispensación Parcial",medicamento:u.descripcion_medicamento,cantidad:`${f.cantidad_dispensada} / ${u.cantidad_prescrita} ${u.unidad_medida}`,lote:f.numero_lote,caducidad:f.fecha_caducidad?i(f.fecha_caducidad).split(" ")[0]:null,observaciones:f.observaciones,completado:m,tipoClase:m?"bg-green-50":"bg-orange-50",textoClase:m?"text-green-800":"text-orange-800",detalleClase:"bg-white bg-opacity-60"})});else if(u.cantidad_surtida>0){const f=u.is_completely_dispensed,m=t.recipe.fecha_dispensacion_parcial||t.recipe.updated_at;c.push({id:`tradicional-${u.id}`,fecha:m,usuario:t.recipe.dispensado_por_name,titulo:f?"Medicamento Dispensado Completo":"Dispensación Parcial",medicamento:u.descripcion_medicamento,cantidad:`${u.cantidad_surtida} / ${u.cantidad_prescrita} ${u.unidad_medida}`,lote:u.lote,caducidad:u.fecha_caducidad?i(u.fecha_caducidad).split(" ")[0]:null,observaciones:u.observaciones,completado:f,tipoClase:f?"bg-green-50":"bg-orange-50",textoClase:f?"text-green-800":"text-orange-800",detalleClase:"bg-white bg-opacity-60"})}}),c.sort((u,f)=>new Date(f.fecha)-new Date(u.fecha))):c}}}},mx={class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},px={class:"bg-background-card rounded-xl shadow-xl max-w-6xl w-full max-h-[90vh] overflow-hidden"},hx={class:"sticky-header"},gx={class:"px-6 py-4 border-b border-gray-200"},vx={class:"flex items-center justify-between"},yx={class:"text-xl font-bold text-secondary-900"},_x={class:"scrollable-content p-6"},bx={class:"card mb-6"},xx={class:"card-body"},wx={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},Cx={class:"text-sm text-secondary-600 space-y-1"},Ex={class:"text-sm text-secondary-600"},kx={class:"text-sm text-secondary-600"},Sx={class:"text-sm text-secondary-600"},Ax={class:"text-sm text-secondary-600"},Rx={class:"text-sm text-secondary-600"},Ix={class:"text-sm text-secondary-600"},Tx={class:"text-sm text-secondary-600"},Px={class:"text-sm text-secondary-600"},Dx={class:"text-sm text-secondary-600"},$x={key:0,class:"text-sm text-secondary-600"},Mx={class:"mt-4"},Ox={class:"text-sm text-secondary-600 bg-gray-50 p-3 rounded"},Nx={key:0,class:"mt-4"},Lx={class:"text-sm text-secondary-600 bg-blue-50 p-3 rounded"},Ux={class:"card"},jx={class:"card-header"},Bx={class:"text-lg font-medium text-secondary-900"},Fx={class:"card-body"},Vx={key:0,class:"text-center py-8"},Hx={key:1,class:"space-y-4"},qx={class:"flex items-start justify-between mb-3"},zx={class:"flex-1"},Wx={class:"font-medium text-secondary-900"},Gx={class:"text-sm text-secondary-600"},Kx={class:"text-right"},Yx={class:"text-sm font-medium text-secondary-900"},Xx={key:0,class:"text-xs text-success"},Jx={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm"},Qx={key:0},Zx={class:"text-secondary-900"},e2={key:1},t2={class:"text-secondary-900"},s2={key:2},n2={class:"text-secondary-900"},o2={class:"text-secondary-900"},r2={key:3},a2={class:"text-secondary-900"},i2={key:4},l2={class:"text-secondary-900"},c2={key:0,class:"mt-3 pt-3 border-t border-gray-200"},d2={class:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm"},u2={key:0},f2={class:"text-secondary-900"},m2={key:1},p2={class:"text-secondary-900"},h2={key:2},g2={class:"text-secondary-900"},v2={key:1,class:"mt-3"},y2={class:"flex justify-between text-sm text-secondary-600 mb-1"},_2={class:"w-full bg-gray-200 rounded-full h-2"},b2={key:2,class:"mt-3 p-2 bg-yellow-50 border border-yellow-200 rounded"},x2={class:"text-xs text-secondary-900"},w2={key:0,class:"card mt-6"},C2={class:"card-body"},E2={class:"text-sm text-secondary-600"},k2={class:"card mt-6"},S2={class:"card-body"},A2={class:"space-y-2"},R2={class:"flex justify-between items-center p-2 bg-gray-50 rounded"},I2={class:"text-sm text-secondary-600"},T2={key:0,class:"flex justify-between items-center p-2 bg-blue-50 rounded"},P2={class:"text-sm text-secondary-600"},D2={key:0,class:"block text-xs"},$2={class:"flex justify-between items-start mb-2"},M2={class:"text-sm text-secondary-600"},O2={key:0,class:"block text-xs"},N2={class:"mt-2"},L2={class:"flex justify-between items-center"},U2={class:"font-medium"},j2={class:"flex items-center"},B2={key:0,class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},F2={key:0,class:"mt-1 opacity-80"},V2={key:0,class:"ml-2"},H2={key:1,class:"mt-1 opacity-80"},q2={key:1,class:"bg-green-50 rounded p-3"},z2={class:"flex justify-between items-start"},W2={class:"text-sm text-secondary-600"},G2={class:"px-6 py-4 border-t border-gray-200"},K2={class:"flex justify-end"};function Y2(t,e,n,s,r,a){var c,d,u,f,m,g;const i=$("XMarkIcon"),l=$("DocumentTextIcon");return y(),_("div",mx,[o("div",px,[o("div",hx,[o("div",gx,[o("div",vx,[o("h2",yx," Detalle de Receta #"+h(n.recipe.folio_receta),1),o("button",{onClick:e[0]||(e[0]=p=>t.$emit("close")),class:"text-secondary-400 hover:text-secondary-600"},[I(i,{class:"h-6 w-6"})])])])]),o("div",_x,[o("div",bx,[e[20]||(e[20]=o("div",{class:"card-header"},[o("h3",{class:"text-lg font-medium text-secondary-900"}," Información General ")],-1)),o("div",xx,[o("div",wx,[o("div",null,[e[7]||(e[7]=o("h4",{class:"font-medium text-secondary-900 mb-2"},"Paciente",-1)),o("div",Cx,[o("div",null,[e[2]||(e[2]=o("span",{class:"font-medium"},"Nombre(s):",-1)),N(" "+h((c=n.recipe.paciente_info)==null?void 0:c.nombre),1)]),o("div",null,[e[3]||(e[3]=o("span",{class:"font-medium"},"Apellido Paterno:",-1)),N(" "+h((d=n.recipe.paciente_info)==null?void 0:d.apellido_paterno),1)]),o("div",null,[e[4]||(e[4]=o("span",{class:"font-medium"},"Apellido Materno:",-1)),N(" "+h(((u=n.recipe.paciente_info)==null?void 0:u.apellido_materno)||"N/A"),1)])]),o("p",Ex,[e[5]||(e[5]=o("span",{class:"font-medium"},"Expediente:",-1)),N(" "+h((f=n.recipe.paciente_info)==null?void 0:f.expediente),1)]),o("p",kx,[e[6]||(e[6]=o("span",{class:"font-medium"},"CURP:",-1)),N(" "+h((m=n.recipe.paciente_info)==null?void 0:m.curp),1)])]),o("div",null,[e[12]||(e[12]=o("h4",{class:"font-medium text-secondary-900 mb-2"},"Receta",-1)),o("p",Sx,[e[8]||(e[8]=o("span",{class:"font-medium"},"Folio:",-1)),N(" "+h(n.recipe.folio_receta),1)]),o("p",Ax,[e[9]||(e[9]=o("span",{class:"font-medium"},"Tipo:",-1)),o("span",{class:ee(["badge ml-1",s.getTypeClass(n.recipe.tipo_receta)])},h(n.recipe.tipo_receta),3)]),o("p",Rx,[e[10]||(e[10]=o("span",{class:"font-medium"},"Estado:",-1)),o("span",{class:ee(["badge ml-1",s.getStatusClass(n.recipe.estado)])},h(n.recipe.estado),3)]),o("p",Ix,[e[11]||(e[11]=o("span",{class:"font-medium"},"Prioridad:",-1)),o("span",{class:ee(["badge ml-1",s.getPriorityClass(n.recipe.prioridad)])},h(n.recipe.prioridad),3)])]),o("div",null,[e[17]||(e[17]=o("h4",{class:"font-medium text-secondary-900 mb-2"},"Servicio",-1)),o("p",Tx,[e[13]||(e[13]=o("span",{class:"font-medium"},"Solicitante:",-1)),N(" "+h(n.recipe.servicio_solicitante),1)]),o("p",Px,[e[14]||(e[14]=o("span",{class:"font-medium"},"Prescrito por:",-1)),N(" "+h(n.recipe.prescrito_por_name),1)]),o("p",Dx,[e[15]||(e[15]=o("span",{class:"font-medium"},"Fecha:",-1)),N(" "+h(s.formatDate(n.recipe.fecha_creacion)),1)]),n.recipe.fecha_vencimiento?(y(),_("p",$x,[e[16]||(e[16]=o("span",{class:"font-medium"},"Vence:",-1)),N(" "+h(s.formatDate(n.recipe.fecha_vencimiento)),1)])):O("",!0)])]),o("div",Mx,[e[18]||(e[18]=o("h4",{class:"font-medium text-secondary-900 mb-2"},"Diagnóstico",-1)),o("p",Ox,h(n.recipe.diagnostico),1)]),n.recipe.indicaciones_generales?(y(),_("div",Nx,[e[19]||(e[19]=o("h4",{class:"font-medium text-secondary-900 mb-2"},"Indicaciones Generales",-1)),o("p",Lx,h(n.recipe.indicaciones_generales),1)])):O("",!0)])]),o("div",Ux,[o("div",jx,[o("h3",Bx," Medicamentos ("+h(((g=n.recipe.detalles)==null?void 0:g.length)||0)+") ",1)]),o("div",Fx,[!n.recipe.detalles||n.recipe.detalles.length===0?(y(),_("div",Vx,[I(l,{class:"mx-auto h-12 w-12 text-secondary-400"}),e[21]||(e[21]=o("h3",{class:"mt-2 text-lg font-medium text-secondary-900"},"Sin medicamentos",-1)),e[22]||(e[22]=o("p",{class:"mt-1 text-secondary-600"}," Esta receta no tiene medicamentos registrados. ",-1))])):(y(),_("div",Hx,[(y(!0),_(he,null,Re(n.recipe.detalles,(p,v)=>(y(),_("div",{key:p.id,class:"border border-gray-200 rounded-lg p-4"},[o("div",qx,[o("div",zx,[o("h4",Wx,h(p.descripcion_medicamento),1),o("p",Gx,[e[23]||(e[23]=o("span",{class:"font-medium"},"Clave:",-1)),N(" "+h(p.clave_medicamento),1)])]),o("div",Kx,[o("span",Yx,h(p.cantidad_prescrita)+" "+h(p.unidad_medida),1),p.cantidad_surtida>0?(y(),_("p",Xx," Surtido: "+h(p.cantidad_surtida),1)):O("",!0)])]),o("div",Jx,[p.concentracion?(y(),_("div",Qx,[e[24]||(e[24]=o("span",{class:"font-medium text-secondary-600"},"Concentración:",-1)),o("p",Zx,h(p.concentracion),1)])):O("",!0),p.forma_farmaceutica?(y(),_("div",e2,[e[25]||(e[25]=o("span",{class:"font-medium text-secondary-600"},"Forma:",-1)),o("p",t2,h(p.forma_farmaceutica),1)])):O("",!0),p.via_administracion?(y(),_("div",s2,[e[26]||(e[26]=o("span",{class:"font-medium text-secondary-600"},"Vía:",-1)),o("p",n2,h(p.via_administracion),1)])):O("",!0),o("div",null,[e[27]||(e[27]=o("span",{class:"font-medium text-secondary-600"},"Dosis:",-1)),o("p",o2,h(p.dosis),1)]),p.frecuencia?(y(),_("div",r2,[e[28]||(e[28]=o("span",{class:"font-medium text-secondary-600"},"Frecuencia:",-1)),o("p",a2,h(p.frecuencia),1)])):O("",!0),p.duracion_tratamiento?(y(),_("div",i2,[e[29]||(e[29]=o("span",{class:"font-medium text-secondary-600"},"Duración:",-1)),o("p",l2,h(p.duracion_tratamiento),1)])):O("",!0)]),p.lote||p.fecha_caducidad||p.laboratorio?(y(),_("div",c2,[e[33]||(e[33]=o("h5",{class:"font-medium text-secondary-900 mb-2"},"Información de Dispensación",-1)),o("div",d2,[p.lote?(y(),_("div",u2,[e[30]||(e[30]=o("span",{class:"font-medium text-secondary-600"},"Lote:",-1)),o("p",f2,h(p.lote),1)])):O("",!0),p.fecha_caducidad?(y(),_("div",m2,[e[31]||(e[31]=o("span",{class:"font-medium text-secondary-600"},"Caducidad:",-1)),o("p",p2,h(s.formatDate(p.fecha_caducidad)),1)])):O("",!0),p.laboratorio?(y(),_("div",h2,[e[32]||(e[32]=o("span",{class:"font-medium text-secondary-600"},"Laboratorio:",-1)),o("p",g2,h(p.laboratorio),1)])):O("",!0)])])):O("",!0),p.cantidad_prescrita>0?(y(),_("div",v2,[o("div",y2,[e[34]||(e[34]=o("span",null,"Progreso de dispensación",-1)),o("span",null,h(p.cantidad_surtida||0)+" / "+h(p.cantidad_prescrita),1)]),o("div",_2,[o("div",{class:ee(["h-2 rounded-full transition-all duration-300",s.getProgressColor(p)]),style:gs({width:s.getProgressPercentage(p)+"%"})},null,6)])])):O("",!0),p.observaciones?(y(),_("div",b2,[e[35]||(e[35]=o("span",{class:"font-medium text-secondary-600 text-xs"},"Observaciones:",-1)),o("p",x2,h(p.observaciones),1)])):O("",!0)]))),128))]))])]),n.recipe.observaciones?(y(),_("div",w2,[e[36]||(e[36]=o("div",{class:"card-header"},[o("h3",{class:"text-lg font-medium text-secondary-900"}," Observaciones Generales ")],-1)),o("div",C2,[o("p",E2,h(n.recipe.observaciones),1)])])):O("",!0),o("div",k2,[e[44]||(e[44]=o("div",{class:"card-header"},[o("h3",{class:"text-lg font-medium text-secondary-900"}," Historial de Estados ")],-1)),o("div",S2,[o("div",A2,[o("div",R2,[e[37]||(e[37]=o("span",{class:"text-sm font-medium"},"Prescrita",-1)),o("span",I2,h(s.formatDate(n.recipe.fecha_creacion)),1)]),n.recipe.fecha_validacion?(y(),_("div",T2,[e[38]||(e[38]=o("span",{class:"text-sm font-medium"},"Validada",-1)),o("span",P2,[N(h(s.formatDate(n.recipe.fecha_validacion))+" ",1),n.recipe.validado_por_name?(y(),_("span",D2," por "+h(n.recipe.validado_por_name),1)):O("",!0)])])):O("",!0),(y(!0),_(he,null,Re(s.getEventosDispensacion(),p=>(y(),_("div",{key:p.id,class:ee(["rounded p-3 mb-2",p.tipoClase])},[o("div",$2,[o("span",{class:ee(["text-sm font-medium",p.textoClase])},h(p.titulo),3),o("span",M2,[N(h(s.formatDate(p.fecha))+" ",1),p.usuario?(y(),_("span",O2," por "+h(p.usuario),1)):O("",!0)])]),o("div",N2,[o("div",{class:ee(["text-xs rounded px-2 py-1",p.detalleClase])},[o("div",L2,[o("span",U2,h(p.medicamento),1),o("span",j2,[p.completado?(y(),_("svg",B2,e[39]||(e[39]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)]))):O("",!0),N(" "+h(p.cantidad),1)])]),p.lote?(y(),_("div",F2,[e[41]||(e[41]=o("span",{class:"font-medium"},"Lote:",-1)),N(" "+h(p.lote)+" ",1),p.caducidad?(y(),_("span",V2,[e[40]||(e[40]=o("span",{class:"font-medium"},"Caducidad:",-1)),N(" "+h(p.caducidad),1)])):O("",!0)])):O("",!0),p.observaciones?(y(),_("div",H2,[e[42]||(e[42]=o("span",{class:"font-medium"},"Observaciones:",-1)),N(" "+h(p.observaciones),1)])):O("",!0)],2)])],2))),128)),n.recipe.fecha_dispensacion?(y(),_("div",q2,[o("div",z2,[e[43]||(e[43]=o("span",{class:"text-sm font-medium text-green-800 flex items-center"},[o("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),N(" Receta Completamente Dispensada ")],-1)),o("span",W2,h(s.formatDate(n.recipe.fecha_dispensacion)),1)])])):O("",!0)])])])]),o("div",G2,[o("div",K2,[o("button",{onClick:e[1]||(e[1]=p=>t.$emit("close")),class:"btn-primary"}," Cerrar ")])])])])}const Fn=Se(fx,[["render",Y2]]),X2={name:"ModalRechazo",components:{ExclamationTriangleIcon:Je},props:{recipe:{type:Object,required:!0}},emits:["close","confirmed"],setup(t,{emit:e}){const n=$e(),s=U(""),r=U(!1),a=U(!1);return{motivoRechazo:s,isSubmitting:r,showError:a,confirmReject:async()=>{if(!s.value.trim()){a.value=!0,n.error("El motivo del rechazo es requerido");return}try{r.value=!0,await ge.post(`/recetas/${t.recipe.folio_receta}/actualizar-estado/`,{estado:"CANCELADA",observaciones:`Receta rechazada: ${s.value}`}),e("confirmed",{...t.recipe,estado:"CANCELADA"}),n.success("Receta rechazada correctamente")}catch(l){console.error("Error rejecting recipe:",l),n.error("Error al rechazar la receta")}finally{r.value=!1}}}}},J2={class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},Q2={class:"bg-background-card rounded-xl shadow-xl max-w-md w-full"},Z2={class:"px-6 py-4 border-b border-gray-200"},ew={class:"text-xl font-bold text-secondary-900"},tw={class:"p-6"},sw={class:"mb-4"},nw={class:"mb-4"},ow={key:0,class:"form-error"},rw={class:"bg-gray-50 p-3 rounded mb-4"},aw={class:"text-sm text-secondary-600"},iw={class:"text-sm text-secondary-600"},lw={class:"text-sm text-secondary-600"},cw={class:"flex justify-end space-x-4"},dw=["disabled"],uw=["disabled"],fw={key:0},mw={key:1};function pw(t,e,n,s,r,a){var l,c,d;const i=$("ExclamationTriangleIcon");return y(),_("div",J2,[o("div",Q2,[o("div",Z2,[o("h2",ew," Rechazar Receta #"+h(n.recipe.folio_receta),1)]),o("div",tw,[o("div",sw,[I(i,{class:"mx-auto h-12 w-12 text-accent-600"}),e[3]||(e[3]=o("h3",{class:"mt-2 text-lg font-medium text-secondary-900 text-center"}," ¿Está seguro de rechazar esta receta? ",-1)),e[4]||(e[4]=o("p",{class:"mt-1 text-sm text-secondary-600 text-center"},' Esta acción cambiará el estado de la receta a "CANCELADA" y no podrá ser revertida. ',-1))]),o("div",nw,[e[5]||(e[5]=o("label",{class:"form-label"}," Motivo del rechazo * ",-1)),Y(o("textarea",{"onUpdate:modelValue":e[0]||(e[0]=u=>s.motivoRechazo=u),class:ee(["form-input",{"border-accent-500":!s.motivoRechazo.trim()&&s.showError}]),rows:"3",placeholder:"Describa el motivo por el cual se rechaza esta receta..."},null,2),[[ie,s.motivoRechazo]]),!s.motivoRechazo.trim()&&s.showError?(y(),_("p",ow," El motivo del rechazo es requerido ")):O("",!0)]),o("div",rw,[o("p",aw,[e[6]||(e[6]=o("span",{class:"font-medium"},"Paciente:",-1)),N(" "+h((l=n.recipe.paciente_info)==null?void 0:l.nombre)+" "+h((c=n.recipe.paciente_info)==null?void 0:c.apellido_paterno)+" "+h(((d=n.recipe.paciente_info)==null?void 0:d.apellido_materno)||""),1)]),o("p",iw,[e[7]||(e[7]=o("span",{class:"font-medium"},"Servicio:",-1)),N(" "+h(n.recipe.servicio_solicitante),1)]),o("p",lw,[e[8]||(e[8]=o("span",{class:"font-medium"},"Prescrito por:",-1)),N(" "+h(n.recipe.prescrito_por_name),1)])]),o("div",cw,[o("button",{onClick:e[1]||(e[1]=u=>t.$emit("close")),class:"btn-secondary",disabled:s.isSubmitting}," Cancelar ",8,dw),o("button",{onClick:e[2]||(e[2]=(...u)=>s.confirmReject&&s.confirmReject(...u)),disabled:s.isSubmitting,class:"btn-accent"},[s.isSubmitting?(y(),_("span",fw,e[9]||(e[9]=[o("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),N(" Rechazando... ",-1)]))):(y(),_("span",mw," Confirmar Rechazo "))],8,uw)])])])])}const hw=Se(X2,[["render",pw]]),gw={name:"ColaValidacion",components:{ArrowPathIcon:Ps,ClockIcon:es,ExclamationTriangleIcon:Je,DocumentTextIcon:As,EyeIcon:Ko,CheckCircleIcon:Ut,XCircleIcon:kd,DetalleReceta:Fn,ModalRechazo:hw},emits:["recipe-validated"],setup(t,{emit:e}){const n=$e(),s=U([]),r=U(!1),a=U(""),i=U(""),l=U(""),c=U(null),d=U(null),u=U(new Set),f=ne(()=>s.value.filter(E=>E.estado==="PENDIENTE").length),m=ne(()=>s.value.filter(E=>E.prioridad==="URGENTE").length),g=async()=>{try{r.value=!0;const E={estado:"PENDIENTE"};a.value.trim()&&(E.search=a.value.trim()),i.value&&(E.servicio_solicitante=i.value),l.value&&(E.prioridad=l.value);const A=await ge.get("/recetas/cola-validacion/",{params:E});s.value=A.data.recetas}catch(E){console.error("Error loading recipes:",E),n.error("Error al cargar las recetas")}finally{r.value=!1}},p=async E=>{try{u.value.add(E.folio_receta);const A=await ge.post(`/recetas/${E.folio_receta}/actualizar-estado/`,{estado:"VALIDADA",observaciones:"Receta validada por Atención al Usuario"});s.value=s.value.filter(k=>k.folio_receta!==E.folio_receta),n.success(`Receta #${E.folio_receta} validada correctamente`),e("recipe-validated",A.data)}catch(A){console.error("Error validating recipe:",A),n.error("Error al validar la receta")}finally{u.value.delete(E.folio_receta)}},v=E=>{d.value=E},x=E=>{s.value=s.value.filter(A=>A.folio_receta!==E.folio_receta),d.value=null,n.success(`Receta #${E.folio_receta} rechazada`)},C=async E=>{try{const A=await ge.get(`/recetas/${E.folio_receta}/`);c.value=A.data}catch(A){console.error("Error loading recipe details:",A),n.error("Error al cargar los detalles de la receta"),c.value=E}},S=E=>({URGENTE:"bg-accent-600 text-white",ALTA:"bg-orange-500 text-white",MEDIA:"bg-blue-500 text-white",BAJA:"bg-gray-500 text-white"})[E]||"bg-gray-500 text-white",B=E=>St(new Date(E),"dd/MM/yyyy HH:mm",{locale:jt});return je(()=>{g();const E=setInterval(g,3e4);return()=>clearInterval(E)}),{recipes:s,isLoading:r,searchQuery:a,selectedService:i,selectedPriority:l,selectedRecipe:c,rejectingRecipe:d,validatingRecipes:u,pendingCount:f,urgentCount:m,loadRecipes:g,validateRecipe:p,showRejectModal:v,onRecipeRejected:x,viewRecipeDetails:C,getPriorityClass:S,formatDate:B}}},vw={class:"space-y-4"},yw={class:"flex flex-wrap gap-4 items-center"},_w={class:"flex-1 min-w-64"},bw=["disabled"],xw={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},ww={class:"bg-warning bg-opacity-10 rounded-lg p-4"},Cw={class:"flex items-center"},Ew={class:"text-2xl font-bold text-warning"},kw={class:"bg-accent-600 bg-opacity-10 rounded-lg p-4"},Sw={class:"flex items-center"},Aw={class:"text-2xl font-bold text-accent-600"},Rw={class:"bg-primary-600 bg-opacity-10 rounded-lg p-4"},Iw={class:"flex items-center"},Tw={class:"text-2xl font-bold text-primary-600"},Pw={key:0,class:"text-center py-8"},Dw={key:1,class:"text-center py-12"},$w={key:2,class:"space-y-4"},Mw={class:"card-body"},Ow={class:"flex justify-between items-start"},Nw={class:"flex-1"},Lw={class:"flex items-center space-x-3 mb-3"},Uw={class:"text-lg font-semibold text-secondary-900"},jw={class:"badge bg-gray-100 text-secondary-900"},Bw={class:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm"},Fw={class:"text-secondary-600"},Vw={class:"ml-4 mt-1"},Hw={class:"text-sm"},qw={class:"font-medium"},zw={class:"font-medium ml-1"},Ww={class:"font-medium ml-1"},Gw={class:"text-secondary-600"},Kw={class:"text-secondary-600"},Yw={class:"text-secondary-600"},Xw={class:"text-secondary-600"},Jw={class:"text-secondary-600"},Qw={class:"flex flex-col space-y-2 ml-4"},Zw=["onClick"],e4=["onClick","disabled"],t4=["onClick"];function s4(t,e,n,s,r,a){const i=$("ArrowPathIcon"),l=$("ClockIcon"),c=$("ExclamationTriangleIcon"),d=$("DocumentTextIcon"),u=$("EyeIcon"),f=$("CheckCircleIcon"),m=$("XCircleIcon"),g=$("DetalleReceta"),p=$("ModalRechazo");return y(),_("div",vw,[o("div",yw,[o("div",_w,[Y(o("input",{"onUpdate:modelValue":e[0]||(e[0]=v=>s.searchQuery=v),type:"text",class:"form-input",placeholder:"Buscar por folio, expediente o servicio...",onInput:e[1]||(e[1]=(...v)=>s.loadRecipes&&s.loadRecipes(...v))},null,544),[[ie,s.searchQuery]])]),o("div",null,[Y(o("select",{"onUpdate:modelValue":e[2]||(e[2]=v=>s.selectedService=v),onChange:e[3]||(e[3]=(...v)=>s.loadRecipes&&s.loadRecipes(...v)),class:"form-input"},e[9]||(e[9]=[Ke('<option value="">Todos los servicios</option><option value="Oncología">Oncología</option><option value="Medicina Interna">Medicina Interna</option><option value="Urgencias">Urgencias</option><option value="Cardiología">Cardiología</option><option value="Neurología">Neurología</option><option value="Pediatría">Pediatría</option>',7)]),544),[[Ne,s.selectedService]])]),o("div",null,[Y(o("select",{"onUpdate:modelValue":e[4]||(e[4]=v=>s.selectedPriority=v),onChange:e[5]||(e[5]=(...v)=>s.loadRecipes&&s.loadRecipes(...v)),class:"form-input"},e[10]||(e[10]=[Ke('<option value="">Todas las prioridades</option><option value="URGENTE">Urgente</option><option value="ALTA">Alta</option><option value="MEDIA">Media</option><option value="BAJA">Baja</option>',5)]),544),[[Ne,s.selectedPriority]])]),o("button",{onClick:e[6]||(e[6]=(...v)=>s.loadRecipes&&s.loadRecipes(...v)),disabled:s.isLoading,class:"btn-primary"},[I(i,{class:"h-5 w-5 mr-2"}),e[11]||(e[11]=N(" Actualizar ",-1))],8,bw)]),o("div",xw,[o("div",ww,[o("div",Cw,[I(l,{class:"h-6 w-6 text-warning mr-3"}),o("div",null,[e[12]||(e[12]=o("p",{class:"text-sm font-medium text-warning"},"Pendientes",-1)),o("p",Ew,h(s.pendingCount),1)])])]),o("div",kw,[o("div",Sw,[I(c,{class:"h-6 w-6 text-accent-600 mr-3"}),o("div",null,[e[13]||(e[13]=o("p",{class:"text-sm font-medium text-accent-600"},"Urgentes",-1)),o("p",Aw,h(s.urgentCount),1)])])]),o("div",Rw,[o("div",Iw,[I(d,{class:"h-6 w-6 text-primary-600 mr-3"}),o("div",null,[e[14]||(e[14]=o("p",{class:"text-sm font-medium text-primary-600"},"Total",-1)),o("p",Tw,h(s.recipes.length),1)])])])]),s.isLoading?(y(),_("div",Pw,e[15]||(e[15]=[o("div",{class:"inline-flex items-center"},[o("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-primary-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]),N(" Cargando recetas... ")],-1)]))):s.recipes.length===0?(y(),_("div",Dw,[I(d,{class:"mx-auto h-12 w-12 text-secondary-400"}),e[16]||(e[16]=o("h3",{class:"mt-2 text-lg font-medium text-secondary-900"},"No hay recetas pendientes",-1)),e[17]||(e[17]=o("p",{class:"mt-1 text-secondary-600"}," No hay recetas que requieran validación en este momento. ",-1))])):(y(),_("div",$w,[(y(!0),_(he,null,Re(s.recipes,v=>{var x,C,S,B;return y(),_("div",{key:v.folio_receta,class:"card hover:shadow-lg transition-shadow duration-200"},[o("div",Mw,[o("div",Ow,[o("div",Nw,[o("div",Lw,[o("h3",Uw," Receta #"+h(v.folio_receta),1),o("span",{class:ee(["badge",s.getPriorityClass(v.prioridad)])},h(v.prioridad),3),o("span",jw,h(v.tipo_receta),1)]),o("div",Bw,[o("div",null,[o("div",Fw,[e[18]||(e[18]=o("span",{class:"font-medium"},"Paciente:",-1)),o("div",Vw,[o("div",Hw,[o("span",qw,h((x=v.paciente_info)==null?void 0:x.nombre),1),o("span",zw,h((C=v.paciente_info)==null?void 0:C.apellido_paterno),1),o("span",Ww,h(((S=v.paciente_info)==null?void 0:S.apellido_materno)||""),1)])])]),o("p",Gw,[e[19]||(e[19]=o("span",{class:"font-medium"},"Expediente:",-1)),N(" "+h((B=v.paciente_info)==null?void 0:B.expediente),1)]),o("p",Kw,[e[20]||(e[20]=o("span",{class:"font-medium"},"Servicio:",-1)),N(" "+h(v.servicio_solicitante),1)])]),o("div",null,[o("p",Yw,[e[21]||(e[21]=o("span",{class:"font-medium"},"Fecha:",-1)),N(" "+h(s.formatDate(v.fecha_creacion)),1)]),o("p",Xw,[e[22]||(e[22]=o("span",{class:"font-medium"},"Prescrito por:",-1)),N(" "+h(v.prescrito_por_name),1)]),o("p",Jw,[e[23]||(e[23]=o("span",{class:"font-medium"},"Medicamentos:",-1)),N(" "+h(v.total_medicamentos),1)])])])]),o("div",Qw,[o("button",{onClick:E=>s.viewRecipeDetails(v),class:"btn-secondary text-sm"},[I(u,{class:"h-4 w-4 mr-1"}),e[24]||(e[24]=N(" Ver Detalles ",-1))],8,Zw),o("button",{onClick:E=>s.validateRecipe(v),disabled:s.validatingRecipes.has(v.folio_receta),class:"btn-success text-sm"},[I(f,{class:"h-4 w-4 mr-1"}),N(" "+h(s.validatingRecipes.has(v.folio_receta)?"Validando...":"Validar"),1)],8,e4),o("button",{onClick:E=>s.showRejectModal(v),class:"btn-accent text-sm"},[I(m,{class:"h-4 w-4 mr-1"}),e[25]||(e[25]=N(" Rechazar ",-1))],8,t4)])])])])}),128))])),s.selectedRecipe?(y(),_e(g,{key:3,recipe:s.selectedRecipe,onClose:e[7]||(e[7]=v=>s.selectedRecipe=null)},null,8,["recipe"])):O("",!0),s.rejectingRecipe?(y(),_e(p,{key:4,recipe:s.rejectingRecipe,onClose:e[8]||(e[8]=v=>s.rejectingRecipe=null),onConfirmed:s.onRecipeRejected},null,8,["recipe","onConfirmed"])):O("",!0)])}const Od=Se(gw,[["render",s4]]),n4={name:"HistorialPaciente",components:{XMarkIcon:Ds,DocumentTextIcon:As,ClockIcon:es,CheckCircleIcon:Ut,ShoppingBagIcon:va,EyeIcon:Ko,DetalleReceta:Fn},props:{patient:{type:Object,required:!0}},emits:["close"],setup(t){const e=$e(),n=U(null),s=U(!1),r=U(""),a=U(""),i=U(""),l=U(null),c=ne(()=>{var x;if(!((x=n.value)!=null&&x.recetas))return[];let v=[...n.value.recetas];if(r.value.trim()){const C=r.value.toLowerCase();v=v.filter(S=>S.folio_receta.toString().includes(C)||S.servicio_solicitante.toLowerCase().includes(C))}return a.value&&(v=v.filter(C=>C.estado===a.value)),i.value&&(v=v.filter(C=>C.tipo_receta===i.value)),v}),d=async()=>{try{s.value=!0;const v=await ge.get(`/pacientes/${t.patient.expediente}/historial/`);n.value=v.data}catch(v){console.error("Error loading patient history:",v),e.error("Error al cargar el historial del paciente")}finally{s.value=!1}},u=()=>{},f=async v=>{try{const x=await ge.get(`/recetas/${v.folio_receta}/`);l.value=x.data}catch(x){console.error("Error loading recipe details:",x),e.error("Error al cargar los detalles de la receta"),l.value=v}},m=v=>({PENDIENTE:"status-pendiente",VALIDADA:"status-validada",PARCIALMENTE_SURTIDA:"status-parcialmente-surtida",SURTIDA:"status-surtida",CANCELADA:"status-cancelada"})[v]||"bg-gray-500 text-white",g=v=>({URGENTE:"bg-accent-600 text-white",ALTA:"bg-orange-500 text-white",MEDIA:"bg-blue-500 text-white",BAJA:"bg-gray-500 text-white"})[v]||"bg-gray-500 text-white",p=v=>{if(!v)return"-";try{return St(new Date(v),"dd/MM/yyyy HH:mm",{locale:jt})}catch{return v}};return je(()=>{d()}),{historyData:n,isLoading:s,searchQuery:r,selectedStatus:a,selectedType:i,selectedRecipe:l,filteredRecipes:c,filterRecipes:u,viewRecipeDetails:f,getStatusClass:m,getPriorityClass:g,formatDate:p}}},o4={class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},r4={class:"bg-background-card rounded-xl shadow-xl max-w-6xl w-full max-h-[90vh] overflow-hidden"},a4={class:"sticky-header"},i4={class:"px-6 py-4 border-b border-gray-200"},l4={class:"flex items-center justify-between"},c4={class:"mt-1 text-sm text-secondary-700"},d4={class:"font-medium"},u4={class:"font-medium ml-1"},f4={class:"font-medium ml-1"},m4={class:"mt-2 text-sm text-secondary-600"},p4={class:"scrollable-content p-6"},h4={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6"},g4={class:"bg-primary-600 bg-opacity-10 rounded-lg p-4"},v4={class:"flex items-center"},y4={class:"text-2xl font-bold text-primary-600"},_4={class:"bg-warning bg-opacity-10 rounded-lg p-4"},b4={class:"flex items-center"},x4={class:"text-2xl font-bold text-warning"},w4={class:"bg-blue-500 bg-opacity-10 rounded-lg p-4"},C4={class:"flex items-center"},E4={class:"text-2xl font-bold text-blue-500"},k4={class:"bg-success bg-opacity-10 rounded-lg p-4"},S4={class:"flex items-center"},A4={class:"text-2xl font-bold text-success"},R4={class:"flex flex-wrap gap-4 items-center mb-6"},I4={class:"flex-1 min-w-64"},T4={key:0,class:"text-center py-8"},P4={key:1,class:"text-center py-12"},D4={class:"mt-1 text-secondary-600"},$4={key:2,class:"space-y-4"},M4={class:"card-body"},O4={class:"flex justify-between items-start"},N4={class:"flex-1"},L4={class:"flex items-center space-x-3 mb-3"},U4={class:"text-lg font-semibold text-secondary-900"},j4={class:"badge bg-gray-100 text-secondary-900"},B4={class:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm"},F4={class:"text-secondary-600"},V4={class:"text-secondary-600"},H4={class:"text-secondary-600"},q4={class:"text-secondary-600"},z4={key:0,class:"text-secondary-600"},W4={key:1,class:"text-secondary-600"},G4={class:"flex flex-col space-y-2 ml-4"},K4=["onClick"];function Y4(t,e,n,s,r,a){var g,p,v,x;const i=$("XMarkIcon"),l=$("DocumentTextIcon"),c=$("ClockIcon"),d=$("CheckCircleIcon"),u=$("ShoppingBagIcon"),f=$("EyeIcon"),m=$("DetalleReceta");return y(),_("div",o4,[o("div",r4,[o("div",a4,[o("div",i4,[o("div",l4,[o("div",null,[e[8]||(e[8]=o("h2",{class:"text-xl font-bold text-secondary-900"}," Historial del Paciente ",-1)),o("div",c4,[o("span",d4,h(n.patient.nombre),1),o("span",u4,h(n.patient.apellido_paterno),1),o("span",f4,h(n.patient.apellido_materno||""),1)])]),o("button",{onClick:e[0]||(e[0]=C=>t.$emit("close")),class:"text-secondary-400 hover:text-secondary-600"},[I(i,{class:"h-6 w-6"})])]),o("div",m4,[e[9]||(e[9]=o("span",{class:"font-medium"},"Expediente:",-1)),N(" "+h(n.patient.expediente)+" | ",1),e[10]||(e[10]=o("span",{class:"font-medium"},"CURP:",-1)),N(" "+h(n.patient.curp),1)])])]),o("div",p4,[o("div",h4,[o("div",g4,[o("div",v4,[I(l,{class:"h-6 w-6 text-primary-600 mr-3"}),o("div",null,[e[11]||(e[11]=o("p",{class:"text-sm font-medium text-primary-600"},"Total Recetas",-1)),o("p",y4,h(((g=s.historyData)==null?void 0:g.total_recetas)||0),1)])])]),o("div",_4,[o("div",b4,[I(c,{class:"h-6 w-6 text-warning mr-3"}),o("div",null,[e[12]||(e[12]=o("p",{class:"text-sm font-medium text-warning"},"Pendientes",-1)),o("p",x4,h(((p=s.historyData)==null?void 0:p.recetas_pendientes)||0),1)])])]),o("div",w4,[o("div",C4,[I(d,{class:"h-6 w-6 text-blue-500 mr-3"}),o("div",null,[e[13]||(e[13]=o("p",{class:"text-sm font-medium text-blue-500"},"Validadas",-1)),o("p",E4,h(((v=s.historyData)==null?void 0:v.recetas_validadas)||0),1)])])]),o("div",k4,[o("div",S4,[I(u,{class:"h-6 w-6 text-success mr-3"}),o("div",null,[e[14]||(e[14]=o("p",{class:"text-sm font-medium text-success"},"Surtidas",-1)),o("p",A4,h(((x=s.historyData)==null?void 0:x.recetas_surtidas)||0),1)])])])]),o("div",R4,[o("div",I4,[Y(o("input",{"onUpdate:modelValue":e[1]||(e[1]=C=>s.searchQuery=C),type:"text",class:"form-input",placeholder:"Buscar por folio o servicio...",onInput:e[2]||(e[2]=(...C)=>s.filterRecipes&&s.filterRecipes(...C))},null,544),[[ie,s.searchQuery]])]),o("div",null,[Y(o("select",{"onUpdate:modelValue":e[3]||(e[3]=C=>s.selectedStatus=C),onChange:e[4]||(e[4]=(...C)=>s.filterRecipes&&s.filterRecipes(...C)),class:"form-input"},e[15]||(e[15]=[Ke('<option value="">Todos los estados</option><option value="PENDIENTE">Pendiente</option><option value="VALIDADA">Validada</option><option value="SURTIDA">Surtida</option><option value="CANCELADA">Cancelada</option>',5)]),544),[[Ne,s.selectedStatus]])]),o("div",null,[Y(o("select",{"onUpdate:modelValue":e[5]||(e[5]=C=>s.selectedType=C),onChange:e[6]||(e[6]=(...C)=>s.filterRecipes&&s.filterRecipes(...C)),class:"form-input"},e[16]||(e[16]=[o("option",{value:""},"Todos los tipos",-1),o("option",{value:"FARMACIA"},"Farmacia",-1),o("option",{value:"CMI"},"CMI",-1)]),544),[[Ne,s.selectedType]])])]),s.isLoading?(y(),_("div",T4,e[17]||(e[17]=[o("div",{class:"inline-flex items-center"},[o("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-primary-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]),N(" Cargando historial... ")],-1)]))):s.filteredRecipes.length===0?(y(),_("div",P4,[I(l,{class:"mx-auto h-12 w-12 text-secondary-400"}),e[18]||(e[18]=o("h3",{class:"mt-2 text-lg font-medium text-secondary-900"},"Sin recetas",-1)),o("p",D4,h(s.searchQuery||s.selectedStatus||s.selectedType?"No hay recetas que coincidan con los filtros.":"Este paciente no tiene recetas registradas."),1)])):(y(),_("div",$4,[(y(!0),_(he,null,Re(s.filteredRecipes,C=>(y(),_("div",{key:C.folio_receta,class:"card hover:shadow-lg transition-shadow duration-200"},[o("div",M4,[o("div",O4,[o("div",N4,[o("div",L4,[o("h3",U4," Receta #"+h(C.folio_receta),1),o("span",{class:ee(["badge",s.getStatusClass(C.estado)])},h(C.estado),3),o("span",j4,h(C.tipo_receta),1),C.prioridad?(y(),_("span",{key:0,class:ee(["badge",s.getPriorityClass(C.prioridad)])},h(C.prioridad),3)):O("",!0)]),o("div",B4,[o("div",null,[o("p",F4,[e[19]||(e[19]=o("span",{class:"font-medium"},"Servicio:",-1)),N(" "+h(C.servicio_solicitante),1)]),o("p",V4,[e[20]||(e[20]=o("span",{class:"font-medium"},"Fecha:",-1)),N(" "+h(s.formatDate(C.fecha_creacion)),1)]),o("p",H4,[e[21]||(e[21]=o("span",{class:"font-medium"},"Prescrito por:",-1)),N(" "+h(C.prescrito_por_name),1)])]),o("div",null,[o("p",q4,[e[22]||(e[22]=o("span",{class:"font-medium"},"Medicamentos:",-1)),N(" "+h(C.total_medicamentos),1)]),C.fecha_vencimiento?(y(),_("p",z4,[e[23]||(e[23]=o("span",{class:"font-medium"},"Vence:",-1)),N(" "+h(s.formatDate(C.fecha_vencimiento)),1)])):O("",!0),C.estado==="SURTIDA"&&C.fecha_dispensacion?(y(),_("p",W4,[e[24]||(e[24]=o("span",{class:"font-medium"},"Surtida:",-1)),N(" "+h(s.formatDate(C.fecha_dispensacion)),1)])):O("",!0)])])]),o("div",G4,[o("button",{onClick:S=>s.viewRecipeDetails(C),class:"btn-secondary text-sm"},[I(f,{class:"h-4 w-4 mr-1"}),e[25]||(e[25]=N(" Ver Detalles ",-1))],8,K4)])])])]))),128))]))])]),s.selectedRecipe?(y(),_e(m,{key:0,recipe:s.selectedRecipe,onClose:e[7]||(e[7]=C=>s.selectedRecipe=null)},null,8,["recipe"])):O("",!0)])}const Nd=Se(n4,[["render",Y4]]),X4={name:"AtencionUsuario",components:{ArrowLeftIcon:Zt,PlusIcon:Bn,BuscarPaciente:Sd,DetallePaciente:Dd,FormularioPaciente:Md,ColaValidacion:Od,HistorialPaciente:Nd},setup(){const t=$e(),e=U(null),n=U(!1),s=U(null),r=U(!1),a=f=>{e.value=f},i=f=>{s.value=f},l=()=>{r.value=!0},c=()=>{n.value=!1,s.value=null};return{selectedPatient:e,showCreatePatient:n,editingPatient:s,showHistory:r,onPatientSelected:a,onEditPatient:i,onViewHistory:l,closePatientModal:c,onPatientSaved:f=>{e.value=f,c(),t.success("Paciente guardado correctamente")},onRecipeValidated:()=>{t.success("Receta validada correctamente")}}}},J4={class:"min-h-screen bg-background-main"},Q4={class:"sticky-header"},Z4={class:"px-6 py-4"},e5={class:"flex items-center justify-between"},t5={class:"flex items-center space-x-4"},s5={class:"flex items-center space-x-4"},n5={class:"scrollable-content p-6"},o5={class:"max-w-7xl mx-auto"},r5={class:"card mb-6"},a5={class:"card-body"},i5={key:0,class:"mb-6"},l5={class:"card"},c5={class:"card-body"};function d5(t,e,n,s,r,a){const i=$("ArrowLeftIcon"),l=$("router-link"),c=$("PlusIcon"),d=$("BuscarPaciente"),u=$("DetallePaciente"),f=$("ColaValidacion"),m=$("FormularioPaciente"),g=$("HistorialPaciente");return y(),_("div",J4,[o("header",Q4,[o("div",Z4,[o("div",e5,[o("div",t5,[I(l,{to:"/",class:"text-secondary-600 hover:text-primary-600"},{default:ht(()=>[I(i,{class:"h-6 w-6"})]),_:1}),e[3]||(e[3]=o("h1",{class:"text-xl font-bold text-secondary-900"}," Atención al Usuario ",-1))]),o("div",s5,[o("button",{onClick:e[0]||(e[0]=p=>s.showCreatePatient=!0),class:"btn-primary"},[I(c,{class:"h-5 w-5 mr-2"}),e[4]||(e[4]=N(" Nuevo Paciente ",-1))])])])])]),o("main",n5,[o("div",o5,[o("div",r5,[o("div",a5,[I(d,{onPatientSelected:s.onPatientSelected,onNewPatient:e[1]||(e[1]=p=>s.showCreatePatient=!0)},null,8,["onPatientSelected"])])]),s.selectedPatient?(y(),_("div",i5,[I(u,{patient:s.selectedPatient,onEditPatient:s.onEditPatient,onViewHistory:s.onViewHistory},null,8,["patient","onEditPatient","onViewHistory"])])):O("",!0),o("div",l5,[e[5]||(e[5]=o("div",{class:"card-header"},[o("h2",{class:"text-xl font-bold text-secondary-900"}," Cola de Validación de Recetas "),o("p",{class:"text-sm text-secondary-600 mt-1"}," Recetas pendientes de validación ")],-1)),o("div",c5,[I(f,{onRecipeValidated:s.onRecipeValidated},null,8,["onRecipeValidated"])])])])]),s.showCreatePatient||s.editingPatient?(y(),_e(m,{key:0,patient:s.editingPatient,onClose:s.closePatientModal,onSaved:s.onPatientSaved},null,8,["patient","onClose","onSaved"])):O("",!0),s.showHistory&&s.selectedPatient?(y(),_e(g,{key:1,patient:s.selectedPatient,onClose:e[2]||(e[2]=p=>s.showHistory=!1)},null,8,["patient"])):O("",!0)])}const u5=Se(X4,[["render",d5]]);const f5={class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},m5={class:"bg-background-card rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] flex flex-col"},p5={class:"px-6 py-4 border-b border-gray-200 flex-shrink-0"},h5={class:"flex items-center justify-between"},g5={class:"text-xl font-bold text-secondary-900"},v5={class:"mt-2 text-sm text-secondary-600"},y5={class:"modal-scrollable p-6"},_5={class:"mb-6"},b5={class:"flex justify-between items-center mb-2"},x5={class:"text-sm text-secondary-600"},w5={class:"w-full bg-gray-200 rounded-full h-2"},C5={class:"text-xs text-secondary-600 mt-1"},E5={key:0,class:"card mb-6"},k5={class:"card-body"},S5={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},A5=["max"],R5={class:"text-xs text-secondary-600 mt-1"},I5={key:0,class:"text-xs text-accent-600 mt-1"},T5={key:0,class:"text-xs text-accent-600 mt-1"},P5=["min"],D5={class:"flex justify-end"},$5=["disabled"],M5={key:0},O5={key:1},N5={key:1,class:"card mb-6"},L5={class:"card"},U5={class:"card-header"},j5={class:"text-lg font-medium text-secondary-900"},B5={class:"card-body"},F5={key:0,class:"text-center py-8 text-secondary-500"},V5={key:1,class:"space-y-3"},H5={class:"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm"},q5={class:"text-secondary-900"},z5={class:"text-secondary-900"},W5={class:"text-secondary-900"},G5={class:"text-secondary-900"},K5={class:"text-xs text-secondary-600"},Y5={key:0,class:"mt-2 text-sm"},X5={class:"text-secondary-900"},J5={key:1,class:"mt-2 text-sm"},Q5={class:"text-secondary-900"},Z5={class:"px-6 py-4 border-t border-gray-200 flex-shrink-0"},e3={class:"flex justify-between items-center"},t3={class:"text-sm text-secondary-600"},s3={key:0,class:"text-orange-600"},n3={key:1,class:"text-green-600"},o3={__name:"GestionLotesMedicamento",props:{medicamento:{type:Object,required:!0},recetaId:{type:[String,Number],required:!0}},emits:["close","loteAgregado"],setup(t,{emit:e}){const n=t,s=e,r=U([]),a=U(!1),i=U(!1),l=U({cantidad_dispensada:null,numero_lote:"",fecha_caducidad:"",laboratorio:"",observaciones:""}),c=ne(()=>n.medicamento.cantidad_prescrita?(n.medicamento.total_lotes_dispensados||0)/n.medicamento.cantidad_prescrita*100:0),d=ne(()=>{const p=n.medicamento.total_lotes_dispensados||0;return Math.max(0,n.medicamento.cantidad_prescrita-p)}),u=ne(()=>new Date().toISOString().split("T")[0]),f=async()=>{try{const p=await ge.get(`/recetas/${n.recetaId}/detalles/${n.medicamento.id}/lotes/list/`);r.value=p.data}catch(p){console.error("Error al cargar lotes:",p)}},m=async()=>{var p,v;if(!a.value){if(l.value.cantidad_dispensada>d.value){alert(`No puedes dispensar más de ${d.value} ${n.medicamento.unidad_medida}. Solo quedan ${d.value} por dispensar.`);return}if(r.value.some(x=>x.numero_lote===l.value.numero_lote)){i.value=!0;return}i.value=!1,a.value=!0;try{const x=await ge.post(`/recetas/${n.recetaId}/detalles/${n.medicamento.id}/lotes/`,l.value);r.value.unshift(x.data);const C=r.value.reduce((S,B)=>S+B.cantidad_dispensada,0);l.value={cantidad_dispensada:null,numero_lote:"",fecha_caducidad:"",laboratorio:"",observaciones:""},s("loteAgregado",{...x.data,medicamentoActualizado:{...n.medicamento,total_lotes_dispensados:C,is_completely_dispensed:C>=n.medicamento.cantidad_prescrita}})}catch(x){console.error("Error al agregar lote:",x),(v=(p=x.response)==null?void 0:p.data)!=null&&v.error?alert(x.response.data.error):alert("Error al agregar el lote. Por favor intenta nuevamente.")}finally{a.value=!1}}},g=p=>{if(!p)return"N/A";try{return new Date(p).toLocaleDateString("es-ES")}catch{return p}};return je(()=>{f()}),(p,v)=>(y(),_("div",f5,[o("div",m5,[o("div",p5,[o("div",h5,[o("h2",g5," Gestión de Lotes - "+h(t.medicamento.descripcion_medicamento),1),o("button",{onClick:v[0]||(v[0]=x=>p.$emit("close")),class:"text-secondary-400 hover:text-secondary-600"},[I(ms(Ds),{class:"h-6 w-6"})])]),o("div",v5,[v[7]||(v[7]=o("span",{class:"font-medium"},"Clave:",-1)),N(" "+h(t.medicamento.clave_medicamento)+" | ",1),v[8]||(v[8]=o("span",{class:"font-medium"},"Prescrito:",-1)),N(" "+h(t.medicamento.cantidad_prescrita)+" "+h(t.medicamento.unidad_medida)+" | ",1),v[9]||(v[9]=o("span",{class:"font-medium"},"Dispensado:",-1)),N(" "+h(t.medicamento.total_lotes_dispensados||0)+" "+h(t.medicamento.unidad_medida),1)])]),o("div",y5,[o("div",_5,[o("div",b5,[v[10]||(v[10]=o("span",{class:"text-sm font-medium text-secondary-700"},"Progreso de dispensación",-1)),o("span",x5,h(t.medicamento.total_lotes_dispensados||0)+" / "+h(t.medicamento.cantidad_prescrita),1)]),o("div",w5,[o("div",{class:ee(["h-2 rounded-full transition-all duration-300",c.value>=100?"bg-green-500":"bg-orange-500"]),style:gs({width:Math.min(c.value,100)+"%"})},null,6)]),o("div",C5,h(Math.round(c.value))+"% dispensado ",1)]),d.value>0?(y(),_("div",E5,[v[16]||(v[16]=o("div",{class:"card-header"},[o("h3",{class:"text-lg font-medium text-secondary-900"},"Agregar Nuevo Lote")],-1)),o("div",k5,[o("form",{onSubmit:dt(m,["prevent"]),class:"space-y-4"},[o("div",S5,[o("div",null,[v[11]||(v[11]=o("label",{class:"form-label"},[N(" Cantidad a Surtir "),o("span",{class:"text-accent-600"},"*")],-1)),Y(o("input",{"onUpdate:modelValue":v[1]||(v[1]=x=>l.value.cantidad_dispensada=x),type:"number",min:1,max:d.value,class:ee(["form-input",{"border-accent-500":l.value.cantidad_dispensada>d.value}]),placeholder:"Cantidad",required:""},null,10,A5),[[ie,l.value.cantidad_dispensada,void 0,{number:!0}]]),o("p",R5," Máximo: "+h(d.value)+" "+h(t.medicamento.unidad_medida),1),l.value.cantidad_dispensada>d.value?(y(),_("p",I5," Solo quedan "+h(d.value)+" "+h(t.medicamento.unidad_medida)+" por dispensar ",1)):O("",!0)]),o("div",null,[v[12]||(v[12]=o("label",{class:"form-label"},[N(" Lote "),o("span",{class:"text-accent-600"},"*")],-1)),Y(o("input",{"onUpdate:modelValue":v[2]||(v[2]=x=>l.value.numero_lote=x),type:"text",class:"form-input",placeholder:"Lote del medicamento",required:""},null,512),[[ie,l.value.numero_lote]]),i.value?(y(),_("p",T5," Este lote ya existe para este medicamento ")):O("",!0)]),o("div",null,[v[13]||(v[13]=o("label",{class:"form-label"},[N(" Fecha de Caducidad "),o("span",{class:"text-accent-600"},"*")],-1)),Y(o("input",{"onUpdate:modelValue":v[3]||(v[3]=x=>l.value.fecha_caducidad=x),type:"date",class:"form-input",min:u.value,required:""},null,8,P5),[[ie,l.value.fecha_caducidad]])]),o("div",null,[v[14]||(v[14]=o("label",{class:"form-label"},"Laboratorio",-1)),Y(o("input",{"onUpdate:modelValue":v[4]||(v[4]=x=>l.value.laboratorio=x),type:"text",class:"form-input",placeholder:"Laboratorio fabricante"},null,512),[[ie,l.value.laboratorio]])])]),o("div",null,[v[15]||(v[15]=o("label",{class:"form-label"},"Observaciones",-1)),Y(o("textarea",{"onUpdate:modelValue":v[5]||(v[5]=x=>l.value.observaciones=x),class:"form-input",rows:"3",placeholder:"Observaciones específicas para este lote..."},null,512),[[ie,l.value.observaciones]])]),o("div",D5,[o("button",{type:"submit",disabled:a.value||d.value<=0||l.value.cantidad_dispensada>d.value,class:"btn btn-primary"},[a.value?(y(),_("span",M5,"Agregando...")):(y(),_("span",O5,"Agregar Lote"))],8,$5)])],32)])])):(y(),_("div",N5,v[17]||(v[17]=[Ke('<div class="card-body" data-v-7ec47dae><div class="bg-green-50 border border-green-200 rounded-lg p-4" data-v-7ec47dae><div class="flex items-center" data-v-7ec47dae><svg class="w-5 h-5 text-green-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-7ec47dae><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" data-v-7ec47dae></path></svg><div class="text-sm" data-v-7ec47dae><p class="text-green-800 font-medium" data-v-7ec47dae>Medicamento completamente dispensado</p><p class="text-green-700" data-v-7ec47dae>Este medicamento ya ha sido dispensado en su totalidad. No se pueden agregar más lotes.</p></div></div></div></div>',1)]))),o("div",L5,[o("div",U5,[o("h3",j5," Lotes Dispensados ("+h(r.value.length)+") ",1)]),o("div",B5,[r.value.length===0?(y(),_("div",F5," No hay lotes dispensados aún ")):(y(),_("div",V5,[(y(!0),_(he,null,Re(r.value,x=>(y(),_("div",{key:x.id,class:"border border-gray-200 rounded-lg p-4 bg-gray-50"},[o("div",H5,[o("div",null,[v[18]||(v[18]=o("span",{class:"font-medium text-secondary-700"},"Lote:",-1)),o("div",q5,h(x.numero_lote),1)]),o("div",null,[v[19]||(v[19]=o("span",{class:"font-medium text-secondary-700"},"Cantidad:",-1)),o("div",z5,h(x.cantidad_dispensada)+" "+h(t.medicamento.unidad_medida),1)]),o("div",null,[v[20]||(v[20]=o("span",{class:"font-medium text-secondary-700"},"Caducidad:",-1)),o("div",W5,h(g(x.fecha_caducidad)),1)]),o("div",null,[v[21]||(v[21]=o("span",{class:"font-medium text-secondary-700"},"Dispensado:",-1)),o("div",G5,h(x.fecha_dispensacion_formatted),1),o("div",K5,"por "+h(x.dispensado_por_name),1)])]),x.laboratorio?(y(),_("div",Y5,[v[22]||(v[22]=o("span",{class:"font-medium text-secondary-700"},"Laboratorio:",-1)),o("span",X5,h(x.laboratorio),1)])):O("",!0),x.observaciones?(y(),_("div",J5,[v[23]||(v[23]=o("span",{class:"font-medium text-secondary-700"},"Observaciones:",-1)),o("span",Q5,h(x.observaciones),1)])):O("",!0)]))),128))]))])])]),o("div",Z5,[o("div",e3,[o("div",t3,[d.value>0?(y(),_("span",s3," Pendiente por dispensar: "+h(d.value)+" "+h(t.medicamento.unidad_medida),1)):(y(),_("span",n3," ✓ Medicamento completamente dispensado "))]),o("button",{onClick:v[6]||(v[6]=x=>p.$emit("close")),class:"btn btn-secondary"}," Cerrar ")])])])]))}},r3=Se(o3,[["__scopeId","data-v-7ec47dae"]]),a3={name:"DispensarReceta",components:{XMarkIcon:Ds,GestionLotesMedicamento:r3},props:{recipe:{type:Object,required:!0},type:{type:String,required:!0,validator:t=>["FARMACIA","CMI"].includes(t)}},emits:["close","dispensed","recetaActualizada"],setup(t,{emit:e}){const n=$e(),s=U([]),r=U(!1),a=U(!1),i=U(""),l=pt({}),c=U(!1),d=U(null),u=()=>{s.value=[],i.value="",Object.keys(l).forEach(D=>delete l[D]),c.value=!1,d.value=null,r.value=!1,a.value=!1},f=ne(()=>s.value.some(D=>D.cantidad_surtida>0&&D.lote&&D.fecha_caducidad&&!l[`medicamento_${D.id}_cantidad`]&&!l[`medicamento_${D.id}_lote`]&&!l[`medicamento_${D.id}_caducidad`])),m=ne(()=>s.value.length>0&&s.value.every(D=>{const q=(D.total_lotes_dispensados||D.cantidad_surtida||0)>=D.cantidad_prescrita;return D.total_lotes_dispensados>0?q&&!l[`medicamento_${D.id}_cantidad`]:q&&D.lote&&D.fecha_caducidad&&!l[`medicamento_${D.id}_cantidad`]&&!l[`medicamento_${D.id}_lote`]&&!l[`medicamento_${D.id}_caducidad`]})),g=async()=>{var D,W;try{r.value=!0,u(),r.value=!0,console.log(`[DispensarReceta] Cargando medicamentos para receta #${t.recipe.folio_receta}`);const se=(await ge.get(`/recetas/${t.recipe.folio_receta}/`)).data;if(console.log("[DispensarReceta] Receta cargada:",{folio:se.folio_receta,detalles:((D=se.detalles)==null?void 0:D.length)||0,detallesIds:((W=se.detalles)==null?void 0:W.map(ce=>ce.id))||[]}),se.folio_receta!==t.recipe.folio_receta)throw new Error(`Discrepancia de datos: esperaba receta #${t.recipe.folio_receta}, recibió #${se.folio_receta}`);s.value=se.detalles.map(ce=>({...ce,cantidad_surtida:ce.cantidad_surtida||0,lote:ce.lote||"",fecha_caducidad:ce.fecha_caducidad||"",observaciones:ce.observaciones_dispensacion||""})),console.log("[DispensarReceta] Medicamentos inicializados:",s.value.length)}catch(q){console.error("[DispensarReceta] Error loading medicamentos:",q),n.error(`Error al cargar los medicamentos: ${q.message||"Error desconocido"}`),u()}finally{r.value=!1}},p=D=>{const W=`medicamento_${D.id}`;delete l[`${W}_cantidad`],delete l[`${W}_lote`],delete l[`${W}_caducidad`];const q=D.total_lotes_dispensados||0,se=D.cantidad_prescrita-q;if(D.cantidad_surtida<0?l[`${W}_cantidad`]="La cantidad no puede ser negativa":D.cantidad_surtida>se?l[`${W}_cantidad`]=`Solo quedan ${se} ${D.unidad_medida||"unidades"} por dispensar`:D.cantidad_surtida>D.cantidad_prescrita&&(l[`${W}_cantidad`]="No puede exceder la cantidad prescrita"),D.cantidad_surtida>0&&!D.lote.trim()&&(l[`${W}_lote`]="El lote es requerido"),D.cantidad_surtida>0)if(!D.fecha_caducidad)l[`${W}_caducidad`]="La fecha de caducidad es requerida";else{const ce=new Date(D.fecha_caducidad),te=new Date;te.setHours(0,0,0,0),ce<=te&&(l[`${W}_caducidad`]="El medicamento no puede estar caducado")}},v=()=>(s.value.forEach(p),Object.keys(l).length===0),x=async()=>{if(!v()){n.error("Por favor corrige los errores en el formulario");return}await S(!1)},C=async()=>{if(!v()){n.error("Por favor corrige los errores en el formulario");return}await S(!0)},S=async D=>{try{a.value=!0;const W=s.value.filter(ce=>ce.cantidad_surtida>0);console.log(`[DispensarReceta] Dispensando ${W.length} medicamentos:`,W.map(ce=>({id:ce.id,descripcion:ce.descripcion_medicamento})));const q=W.map(async ce=>{console.log(`[DispensarReceta] Actualizando medicamento ID ${ce.id}`);try{const te=await ge.patch(`/recetas/detalles/${ce.id}/`,{cantidad_surtida:ce.cantidad_surtida,lote:ce.lote,fecha_caducidad:ce.fecha_caducidad,observaciones_dispensacion:ce.observaciones||""});return console.log(`[DispensarReceta] Medicamento ID ${ce.id} actualizado exitosamente`),te}catch(te){throw console.error(`[DispensarReceta] Error actualizando medicamento ID ${ce.id}:`,te),te}});await Promise.all(q);const se=D?"Receta dispensada completamente":"Dispensación parcial registrada";n.success(se),e("dispensed",{...t.recipe,estado:D?"SURTIDA":"VALIDADA"})}catch(W){console.error("Error dispensing recipe:",W),n.error("Error al procesar la dispensación")}finally{a.value=!1}},B=D=>({URGENTE:"bg-accent-600 text-white",ALTA:"bg-orange-500 text-white",MEDIA:"bg-blue-500 text-white",BAJA:"bg-gray-500 text-white"})[D]||"bg-gray-500 text-white",E=D=>{if(!D.cantidad_prescrita)return 0;const W=D.total_lotes_dispensados||D.cantidad_surtida||0;return Math.min(100,W/D.cantidad_prescrita*100)},A=D=>{const W=E(D);return W===100?"bg-success":W>50?"bg-blue-500":W>0?"bg-warning":"bg-gray-300"},k=D=>D?St(new Date(D),"dd/MM/yyyy HH:mm",{locale:jt}):"-",T=D=>{d.value=D,c.value=!0},M=()=>{c.value=!1,d.value=null},L=async D=>{try{if(D.medicamentoActualizado){const W=s.value.findIndex(q=>q.id===D.medicamentoActualizado.id);W!==-1&&(s.value[W]={...s.value[W],...D.medicamentoActualizado})}await g(),e("recetaActualizada"),n.success("Lote agregado correctamente")}catch(W){console.error("Error al procesar lote agregado:",W),await g(),n.success("Lote agregado correctamente")}};return Wt(()=>{var D;return(D=t.recipe)==null?void 0:D.folio_receta},async(D,W)=>{D&&D!==W&&(console.log(`[DispensarReceta] Cambio de receta detectado: ${W} → ${D}`),await Zs(),await g())},{immediate:!1}),je(()=>{var D;console.log(`[DispensarReceta] Componente montado para receta #${(D=t.recipe)==null?void 0:D.folio_receta}`),g()}),{medicamentos:s,isLoading:r,isSubmitting:a,observacionesGenerales:i,errors:l,canDispenseParcial:f,canDispenseComplete:m,validateMedicamento:p,dispensarParcial:x,dispensarCompleta:C,getPriorityClass:B,getProgressPercentage:E,getProgressColor:A,formatDate:k,mostrarGestionLotes:c,medicamentoSeleccionado:d,abrirGestionLotes:T,cerrarGestionLotes:M,onLoteAgregado:L}}},i3={class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},l3={class:"bg-background-card rounded-xl shadow-xl max-w-6xl w-full max-h-[90vh] flex flex-col"},c3={class:"px-6 py-4 border-b border-gray-200 flex-shrink-0"},d3={class:"flex items-center justify-between"},u3={class:"text-xl font-bold text-secondary-900"},f3={class:"mt-2 text-sm text-secondary-600"},m3={class:"modal-scrollable p-6"},p3={class:"card mb-6"},h3={class:"card-body"},g3={class:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm"},v3={key:0},y3={class:"space-y-4"},_3={key:0,class:"text-center py-8"},b3={key:1,class:"space-y-4"},x3={class:"card-body"},w3={class:"flex justify-between items-start mb-4"},C3={class:"flex-1"},E3={class:"font-medium text-secondary-900"},k3={class:"text-sm text-secondary-600"},S3={key:0,class:"text-sm text-secondary-600"},A3={class:"text-right"},R3={class:"text-sm font-medium text-secondary-900"},I3={key:0,class:"text-xs text-orange-600 font-medium"},T3={class:"text-xs text-secondary-600"},P3={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 pt-4 border-t border-gray-200"},D3=["onUpdate:modelValue","max","onInput"],$3={key:0,class:"form-error"},M3=["onUpdate:modelValue","onInput"],O3={key:0,class:"form-error"},N3=["onUpdate:modelValue","onInput"],L3={key:0,class:"form-error"},U3=["onUpdate:modelValue"],j3={key:1,class:"pt-4 border-t border-gray-200"},B3={key:2,class:"mt-4"},F3=["onUpdate:modelValue"],V3={class:"mt-4"},H3={class:"flex justify-between text-sm text-secondary-600 mb-1"},q3={class:"w-full bg-gray-200 rounded-full h-2"},z3={class:"mt-4 flex justify-end"},W3=["onClick","disabled","title"],G3={class:"card mt-6"},K3={class:"card-body"},Y3={class:"flex justify-end space-x-4 pt-6 border-t border-gray-200 mt-6"},X3=["disabled"],J3=["disabled"],Q3={key:0},Z3={key:1};function eC(t,e,n,s,r,a){var c,d,u,f;const i=$("XMarkIcon"),l=$("GestionLotesMedicamento");return y(),_("div",i3,[o("div",l3,[o("div",c3,[o("div",d3,[o("h2",u3," Dispensar Receta #"+h(n.recipe.folio_receta)+" - "+h(n.type),1),o("button",{onClick:e[0]||(e[0]=m=>t.$emit("close")),class:"text-secondary-400 hover:text-secondary-600"},[I(i,{class:"h-6 w-6"})])]),o("div",f3,[e[5]||(e[5]=o("span",{class:"font-medium"},"Paciente:",-1)),N(" "+h((c=n.recipe.paciente_info)==null?void 0:c.nombre)+" "+h((d=n.recipe.paciente_info)==null?void 0:d.apellido_paterno)+" "+h(((u=n.recipe.paciente_info)==null?void 0:u.apellido_materno)||"")+" | ",1),e[6]||(e[6]=o("span",{class:"font-medium"},"Expediente:",-1)),N(" "+h((f=n.recipe.paciente_info)==null?void 0:f.expediente),1)])]),o("div",m3,[o("div",p3,[o("div",h3,[o("div",g3,[o("div",null,[o("p",null,[e[7]||(e[7]=o("span",{class:"font-medium"},"Servicio:",-1)),N(" "+h(n.recipe.servicio_solicitante),1)]),o("p",null,[e[8]||(e[8]=o("span",{class:"font-medium"},"Prioridad:",-1)),o("span",{class:ee(["badge",s.getPriorityClass(n.recipe.prioridad)])},h(n.recipe.prioridad),3)])]),o("div",null,[o("p",null,[e[9]||(e[9]=o("span",{class:"font-medium"},"Prescrito por:",-1)),N(" "+h(n.recipe.prescrito_por_name),1)]),o("p",null,[e[10]||(e[10]=o("span",{class:"font-medium"},"Validada:",-1)),N(" "+h(s.formatDate(n.recipe.fecha_validacion)),1)])]),o("div",null,[n.recipe.fecha_vencimiento?(y(),_("p",v3,[e[11]||(e[11]=o("span",{class:"font-medium"},"Vence:",-1)),N(" "+h(s.formatDate(n.recipe.fecha_vencimiento)),1)])):O("",!0),o("p",null,[e[12]||(e[12]=o("span",{class:"font-medium"},"Total medicamentos:",-1)),N(" "+h(s.medicamentos.length),1)])])])])]),o("div",y3,[e[24]||(e[24]=o("h3",{class:"text-lg font-medium text-secondary-900"}," Medicamentos a Dispensar ",-1)),s.isLoading?(y(),_("div",_3,e[13]||(e[13]=[o("div",{class:"inline-flex items-center"},[o("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-primary-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]),N(" Cargando medicamentos... ")],-1)]))):(y(),_("div",b3,[(y(!0),_(he,null,Re(s.medicamentos,m=>(y(),_("div",{key:m.id,class:"card"},[o("div",x3,[o("div",w3,[o("div",C3,[o("h4",E3,h(m.descripcion_medicamento),1),o("p",k3,[e[14]||(e[14]=o("span",{class:"font-medium"},"Clave:",-1)),N(" "+h(m.clave_medicamento),1)]),m.concentracion?(y(),_("p",S3,[e[15]||(e[15]=o("span",{class:"font-medium"},"Concentración:",-1)),N(" "+h(m.concentracion),1)])):O("",!0)]),o("div",A3,[o("p",R3," Prescrito: "+h(m.cantidad_prescrita)+" "+h(m.unidad_medida),1),m.total_lotes_dispensados>0?(y(),_("p",I3," Pendiente: "+h(m.cantidad_prescrita-(m.total_lotes_dispensados||0))+" "+h(m.unidad_medida),1)):O("",!0),o("p",T3,h(m.dosis),1)])]),m.is_completely_dispensed?(y(),_("div",j3,e[20]||(e[20]=[Ke('<div class="bg-green-50 border border-green-200 rounded-lg p-4"><div class="flex items-center"><svg class="w-5 h-5 text-green-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><div class="text-sm"><p class="text-green-800 font-medium">Medicamento completamente dispensado</p><p class="text-green-700">Este medicamento ya ha sido dispensado en su totalidad y no se puede modificar.</p></div></div></div>',1)]))):(y(),_("div",P3,[o("div",null,[e[16]||(e[16]=o("label",{class:"form-label"}," Cantidad a Surtir * ",-1)),Y(o("input",{"onUpdate:modelValue":g=>m.cantidad_surtida=g,type:"number",max:m.cantidad_prescrita-(m.total_lotes_dispensados||0),min:"0",class:ee(["form-input",{"border-accent-500":s.errors[`medicamento_${m.id}_cantidad`]}]),onInput:g=>s.validateMedicamento(m)},null,42,D3),[[ie,m.cantidad_surtida,void 0,{number:!0}]]),s.errors[`medicamento_${m.id}_cantidad`]?(y(),_("p",$3,h(s.errors[`medicamento_${m.id}_cantidad`]),1)):O("",!0)]),o("div",null,[e[17]||(e[17]=o("label",{class:"form-label"}," Lote * ",-1)),Y(o("input",{"onUpdate:modelValue":g=>m.lote=g,type:"text",class:ee(["form-input",{"border-accent-500":s.errors[`medicamento_${m.id}_lote`]}]),placeholder:"Lote del medicamento",onInput:g=>s.validateMedicamento(m)},null,42,M3),[[ie,m.lote]]),s.errors[`medicamento_${m.id}_lote`]?(y(),_("p",O3,h(s.errors[`medicamento_${m.id}_lote`]),1)):O("",!0)]),o("div",null,[e[18]||(e[18]=o("label",{class:"form-label"}," Fecha de Caducidad * ",-1)),Y(o("input",{"onUpdate:modelValue":g=>m.fecha_caducidad=g,type:"date",class:ee(["form-input",{"border-accent-500":s.errors[`medicamento_${m.id}_caducidad`]}]),onInput:g=>s.validateMedicamento(m)},null,42,N3),[[ie,m.fecha_caducidad]]),s.errors[`medicamento_${m.id}_caducidad`]?(y(),_("p",L3,h(s.errors[`medicamento_${m.id}_caducidad`]),1)):O("",!0)]),o("div",null,[e[19]||(e[19]=o("label",{class:"form-label"}," Laboratorio ",-1)),Y(o("input",{"onUpdate:modelValue":g=>m.laboratorio=g,type:"text",class:"form-input",placeholder:"Laboratorio fabricante"},null,8,U3),[[ie,m.laboratorio]])])])),m.is_completely_dispensed?O("",!0):(y(),_("div",B3,[e[21]||(e[21]=o("label",{class:"form-label"}," Observaciones ",-1)),Y(o("textarea",{"onUpdate:modelValue":g=>m.observaciones=g,class:"form-input",rows:"2",placeholder:"Observaciones específicas para este medicamento..."},null,8,F3),[[ie,m.observaciones]])])),o("div",V3,[o("div",H3,[e[22]||(e[22]=o("span",null,"Progreso de dispensación",-1)),o("span",null,h(m.total_lotes_dispensados||m.cantidad_surtida||0)+" / "+h(m.cantidad_prescrita),1)]),o("div",q3,[o("div",{class:ee(["h-2 rounded-full transition-all duration-300",s.getProgressColor(m)]),style:gs({width:s.getProgressPercentage(m)+"%"})},null,6)])]),o("div",z3,[o("button",{onClick:g=>s.abrirGestionLotes(m),type:"button",disabled:m.is_completely_dispensed,class:ee(["text-sm",m.is_completely_dispensed?"btn btn-disabled cursor-not-allowed opacity-50":"btn btn-outline"]),title:m.is_completely_dispensed?"Este medicamento ya está completamente dispensado y no se puede modificar":"Gestionar lotes de este medicamento"},[e[23]||(e[23]=o("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})],-1)),N(" "+h(m.is_completely_dispensed?"Completo":"Gestionar Lotes"),1)],10,W3)])])]))),128))]))]),o("div",G3,[o("div",K3,[e[25]||(e[25]=o("label",{class:"form-label"}," Observaciones Generales de Dispensación ",-1)),Y(o("textarea",{"onUpdate:modelValue":e[1]||(e[1]=m=>s.observacionesGenerales=m),class:"form-input",rows:"3",placeholder:"Observaciones generales sobre la dispensación de esta receta..."},null,512),[[ie,s.observacionesGenerales]])])]),o("div",Y3,[o("button",{type:"button",onClick:e[2]||(e[2]=m=>t.$emit("close")),class:"btn-secondary"}," Cancelar "),o("button",{onClick:e[3]||(e[3]=(...m)=>s.dispensarParcial&&s.dispensarParcial(...m)),disabled:!s.canDispenseParcial||s.isSubmitting,class:"btn-primary"}," Dispensar Parcial ",8,X3),o("button",{onClick:e[4]||(e[4]=(...m)=>s.dispensarCompleta&&s.dispensarCompleta(...m)),disabled:!s.canDispenseComplete||s.isSubmitting,class:"btn-success"},[s.isSubmitting?(y(),_("span",Q3,e[26]||(e[26]=[o("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),N(" Dispensando... ",-1)]))):(y(),_("span",Z3," Dispensar Completa "))],8,J3)])])]),s.mostrarGestionLotes?(y(),_e(l,{key:0,medicamento:s.medicamentoSeleccionado,"receta-id":n.recipe.folio_receta,onClose:s.cerrarGestionLotes,onLoteAgregado:s.onLoteAgregado},null,8,["medicamento","receta-id","onClose","onLoteAgregado"])):O("",!0)])}const ya=Se(a3,[["render",eC]]),tC={name:"ColaDispensacionFarmacia",components:{ArrowPathIcon:Ps,ClockIcon:es,ExclamationTriangleIcon:Je,BeakerIcon:Es,EyeIcon:Ko,ShoppingBagIcon:va,DetalleReceta:Fn,DispensarReceta:ya},emits:["recipe-dispensed"],setup(t,{emit:e}){const n=$e(),s=U([]),r=U(!1),a=U(""),i=U(""),l=U("prioridad"),c=U(null),d=U(null),u=U(new Set),f=ne(()=>s.value.filter(A=>A.prioridad==="URGENTE").length),m=ne(()=>s.value.filter(A=>p(A.fecha_vencimiento)).length),g=async()=>{try{r.value=!0;const A={tipo:"FARMACIA",estado:"VALIDADA"};a.value.trim()&&(A.search=a.value.trim()),i.value&&(A.prioridad=i.value),l.value&&(A.sort_by=l.value);const k=await ge.get("/recetas/cola-dispensacion-farmacia/",{params:A});s.value=k.data.recetas}catch(A){console.error("Error loading recipes:",A),n.error("Error al cargar las recetas")}finally{r.value=!1}},p=A=>{if(!A)return!1;const k=Ad(new Date(A),new Date);return k<=3&&k>=0},v=A=>A.prioridad==="URGENTE"||p(A.fecha_vencimiento),x=async A=>{try{const k=await ge.get(`/recetas/${A.folio_receta}/`);c.value=k.data}catch(k){console.error("Error loading recipe details:",k),n.error("Error al cargar los detalles de la receta"),c.value=A}},C=A=>{d.value=A},S=A=>{s.value=s.value.filter(k=>k.folio_receta!==A.folio_receta),d.value=null,e("recipe-dispensed",A)},B=A=>({URGENTE:"bg-accent-600 text-white",ALTA:"bg-orange-500 text-white",MEDIA:"bg-blue-500 text-white",BAJA:"bg-gray-500 text-white"})[A]||"bg-gray-500 text-white",E=A=>A?St(new Date(A),"dd/MM/yyyy HH:mm",{locale:jt}):"-";return je(()=>{g();const A=setInterval(g,6e4);return()=>clearInterval(A)}),{recipes:s,isLoading:r,searchQuery:a,selectedPriority:i,sortBy:l,selectedRecipe:c,dispensingRecipe:d,dispensingRecipes:u,urgentCount:f,expiringSoonCount:m,loadRecipes:g,isExpiringSoon:p,hasSpecialConditions:v,viewRecipeDetails:x,startDispensing:C,onRecipeDispensed:S,getPriorityClass:B,formatDate:E}}},sC={class:"space-y-4"},nC={class:"flex flex-wrap gap-4 items-center"},oC={class:"flex-1 min-w-64"},rC=["disabled"],aC={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},iC={class:"bg-blue-500 bg-opacity-10 rounded-lg p-4"},lC={class:"flex items-center"},cC={class:"text-2xl font-bold text-blue-500"},dC={class:"bg-accent-600 bg-opacity-10 rounded-lg p-4"},uC={class:"flex items-center"},fC={class:"text-2xl font-bold text-accent-600"},mC={class:"bg-warning bg-opacity-10 rounded-lg p-4"},pC={class:"flex items-center"},hC={class:"text-2xl font-bold text-warning"},gC={key:0,class:"text-center py-8"},vC={key:1,class:"text-center py-12"},yC={key:2,class:"space-y-4"},_C={class:"card-body"},bC={class:"flex justify-between items-start"},xC={class:"flex-1"},wC={class:"flex items-center space-x-3 mb-3"},CC={class:"text-lg font-semibold text-secondary-900"},EC={key:0,class:"badge bg-warning text-white"},kC={class:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm"},SC={class:"text-secondary-600"},AC={class:"ml-4 mt-1"},RC={class:"text-sm"},IC={class:"font-medium"},TC={class:"font-medium ml-1"},PC={class:"font-medium ml-1"},DC={class:"text-secondary-600"},$C={class:"text-secondary-600"},MC={class:"text-secondary-600"},OC={class:"text-secondary-600"},NC={key:0,class:"text-secondary-600"},LC={key:0,class:"mt-3 flex space-x-2"},UC={key:0,class:"text-xs bg-accent-600 text-white px-2 py-1 rounded"},jC={key:1,class:"text-xs bg-warning text-white px-2 py-1 rounded"},BC={class:"flex flex-col space-y-2 ml-4"},FC=["onClick"],VC=["onClick","disabled"];function HC(t,e,n,s,r,a){const i=$("ArrowPathIcon"),l=$("ClockIcon"),c=$("ExclamationTriangleIcon"),d=$("BeakerIcon"),u=$("EyeIcon"),f=$("ShoppingBagIcon"),m=$("DetalleReceta"),g=$("DispensarReceta");return y(),_("div",sC,[o("div",nC,[o("div",oC,[Y(o("input",{"onUpdate:modelValue":e[0]||(e[0]=p=>s.searchQuery=p),type:"text",class:"form-input",placeholder:"Buscar por folio, expediente o servicio...",onInput:e[1]||(e[1]=(...p)=>s.loadRecipes&&s.loadRecipes(...p))},null,544),[[ie,s.searchQuery]])]),o("div",null,[Y(o("select",{"onUpdate:modelValue":e[2]||(e[2]=p=>s.selectedPriority=p),onChange:e[3]||(e[3]=(...p)=>s.loadRecipes&&s.loadRecipes(...p)),class:"form-input"},e[9]||(e[9]=[Ke('<option value="">Todas las prioridades</option><option value="URGENTE">Urgente</option><option value="ALTA">Alta</option><option value="MEDIA">Media</option><option value="BAJA">Baja</option>',5)]),544),[[Ne,s.selectedPriority]])]),o("div",null,[Y(o("select",{"onUpdate:modelValue":e[4]||(e[4]=p=>s.sortBy=p),onChange:e[5]||(e[5]=(...p)=>s.loadRecipes&&s.loadRecipes(...p)),class:"form-input"},e[10]||(e[10]=[o("option",{value:"prioridad"},"Ordenar por prioridad",-1),o("option",{value:"fecha_validacion"},"Fecha de validación",-1),o("option",{value:"fecha_vencimiento"},"Fecha de vencimiento",-1)]),544),[[Ne,s.sortBy]])]),o("button",{onClick:e[6]||(e[6]=(...p)=>s.loadRecipes&&s.loadRecipes(...p)),disabled:s.isLoading,class:"btn-primary"},[I(i,{class:"h-5 w-5 mr-2"}),e[11]||(e[11]=N(" Actualizar ",-1))],8,rC)]),o("div",aC,[o("div",iC,[o("div",lC,[I(l,{class:"h-6 w-6 text-blue-500 mr-3"}),o("div",null,[e[12]||(e[12]=o("p",{class:"text-sm font-medium text-blue-500"},"Por Dispensar",-1)),o("p",cC,h(s.recipes.length),1)])])]),o("div",dC,[o("div",uC,[I(c,{class:"h-6 w-6 text-accent-600 mr-3"}),o("div",null,[e[13]||(e[13]=o("p",{class:"text-sm font-medium text-accent-600"},"Urgentes",-1)),o("p",fC,h(s.urgentCount),1)])])]),o("div",mC,[o("div",pC,[I(l,{class:"h-6 w-6 text-warning mr-3"}),o("div",null,[e[14]||(e[14]=o("p",{class:"text-sm font-medium text-warning"},"Próximas a Vencer",-1)),o("p",hC,h(s.expiringSoonCount),1)])])])]),s.isLoading?(y(),_("div",gC,e[15]||(e[15]=[o("div",{class:"inline-flex items-center"},[o("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-primary-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]),N(" Cargando recetas... ")],-1)]))):s.recipes.length===0?(y(),_("div",vC,[I(d,{class:"mx-auto h-12 w-12 text-secondary-400"}),e[16]||(e[16]=o("h3",{class:"mt-2 text-lg font-medium text-secondary-900"},"No hay recetas para dispensar",-1)),e[17]||(e[17]=o("p",{class:"mt-1 text-secondary-600"}," No hay recetas de farmacia validadas en este momento. ",-1))])):(y(),_("div",yC,[(y(!0),_(he,null,Re(s.recipes,p=>{var v,x,C,S;return y(),_("div",{key:p.folio_receta,class:ee(["card hover:shadow-lg transition-shadow duration-200",{"border-l-4 border-accent-600":p.prioridad==="URGENTE","border-l-4 border-orange-500":p.prioridad==="ALTA","border-l-4 border-warning":s.isExpiringSoon(p.fecha_vencimiento)}])},[o("div",_C,[o("div",bC,[o("div",xC,[o("div",wC,[o("h3",CC," Receta #"+h(p.folio_receta),1),o("span",{class:ee(["badge",s.getPriorityClass(p.prioridad)])},h(p.prioridad),3),e[19]||(e[19]=o("span",{class:"badge bg-blue-500 text-white"}," FARMACIA ",-1)),s.isExpiringSoon(p.fecha_vencimiento)?(y(),_("span",EC,[I(l,{class:"h-3 w-3 mr-1"}),e[18]||(e[18]=N(" Próxima a vencer ",-1))])):O("",!0)]),o("div",kC,[o("div",null,[o("div",SC,[e[20]||(e[20]=o("span",{class:"font-medium"},"Paciente:",-1)),o("div",AC,[o("div",RC,[o("span",IC,h((v=p.paciente_info)==null?void 0:v.nombre),1),o("span",TC,h((x=p.paciente_info)==null?void 0:x.apellido_paterno),1),o("span",PC,h(((C=p.paciente_info)==null?void 0:C.apellido_materno)||""),1)])])]),o("p",DC,[e[21]||(e[21]=o("span",{class:"font-medium"},"Expediente:",-1)),N(" "+h((S=p.paciente_info)==null?void 0:S.expediente),1)]),o("p",$C,[e[22]||(e[22]=o("span",{class:"font-medium"},"Servicio:",-1)),N(" "+h(p.servicio_solicitante),1)])]),o("div",null,[o("p",MC,[e[23]||(e[23]=o("span",{class:"font-medium"},"Validada:",-1)),N(" "+h(s.formatDate(p.fecha_validacion)),1)]),o("p",OC,[e[24]||(e[24]=o("span",{class:"font-medium"},"Medicamentos:",-1)),N(" "+h(p.total_medicamentos),1)]),p.fecha_vencimiento?(y(),_("p",NC,[e[25]||(e[25]=o("span",{class:"font-medium"},"Vence:",-1)),o("span",{class:ee({"text-warning font-bold":s.isExpiringSoon(p.fecha_vencimiento)})},h(s.formatDate(p.fecha_vencimiento)),3)])):O("",!0)])]),s.hasSpecialConditions(p)?(y(),_("div",LC,[p.prioridad==="URGENTE"?(y(),_("span",UC,[I(c,{class:"h-3 w-3 inline mr-1"}),e[26]||(e[26]=N(" URGENTE ",-1))])):O("",!0),s.isExpiringSoon(p.fecha_vencimiento)?(y(),_("span",jC,[I(l,{class:"h-3 w-3 inline mr-1"}),e[27]||(e[27]=N(" VENCE PRONTO ",-1))])):O("",!0)])):O("",!0)]),o("div",BC,[o("button",{onClick:B=>s.viewRecipeDetails(p),class:"btn-secondary text-sm"},[I(u,{class:"h-4 w-4 mr-1"}),e[28]||(e[28]=N(" Ver Detalles ",-1))],8,FC),o("button",{onClick:B=>s.startDispensing(p),disabled:s.dispensingRecipes.has(p.folio_receta),class:"btn-success text-sm"},[I(f,{class:"h-4 w-4 mr-1"}),N(" "+h(s.dispensingRecipes.has(p.folio_receta)?"Dispensando...":"Dispensar"),1)],8,VC)])])])],2)}),128))])),s.selectedRecipe?(y(),_e(m,{key:3,recipe:s.selectedRecipe,onClose:e[7]||(e[7]=p=>s.selectedRecipe=null)},null,8,["recipe"])):O("",!0),s.dispensingRecipe?(y(),_e(g,{key:4,recipe:s.dispensingRecipe,type:"FARMACIA",onClose:e[8]||(e[8]=p=>s.dispensingRecipe=null),onDispensed:s.onRecipeDispensed},null,8,["recipe","onDispensed"])):O("",!0)])}const qC=Se(tC,[["render",HC]]),zC={name:"Farmacia",components:{ArrowLeftIcon:Zt,ClockIcon:es,ExclamationTriangleIcon:Je,CheckCircleIcon:Ut,BeakerIcon:Es,ColaDispensacionFarmacia:qC,DispensarReceta:ya},setup(){const t=$e(),e=U({pendientes:0,urgentes:0,dispensadasHoy:0,totalFarmacia:0}),n=U(null),s=async()=>{var a;try{const l=(await ge.get("/recetas/estadisticas/")).data;e.value={pendientes:l.validadas||0,urgentes:((a=l.por_prioridad)==null?void 0:a.urgente)||0,dispensadasHoy:l.surtidas||0,totalFarmacia:l.farmacia||0}}catch(i){console.error("Error loading stats:",i)}},r=a=>{n.value=null,s(),t.success(`Receta #${a.folio_receta} dispensada correctamente`)};return je(()=>{s()}),{stats:e,dispensingRecipe:n,onRecipeDispensed:r}}},WC={class:"min-h-screen bg-background-main"},GC={class:"sticky-header"},KC={class:"px-6 py-4"},YC={class:"flex items-center justify-between"},XC={class:"flex items-center space-x-4"},JC={class:"scrollable-content p-6"},QC={class:"max-w-7xl mx-auto"},ZC={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},e6={class:"card"},t6={class:"card-body"},s6={class:"flex items-center"},n6={class:"p-3 rounded-lg bg-blue-500 bg-opacity-20"},o6={class:"ml-4"},r6={class:"text-3xl font-bold text-secondary-900"},a6={class:"card"},i6={class:"card-body"},l6={class:"flex items-center"},c6={class:"p-3 rounded-lg bg-accent-600 bg-opacity-20"},d6={class:"ml-4"},u6={class:"text-3xl font-bold text-secondary-900"},f6={class:"card"},m6={class:"card-body"},p6={class:"flex items-center"},h6={class:"p-3 rounded-lg bg-success bg-opacity-20"},g6={class:"ml-4"},v6={class:"text-3xl font-bold text-secondary-900"},y6={class:"card"},_6={class:"card-body"},b6={class:"flex items-center"},x6={class:"p-3 rounded-lg bg-primary-600 bg-opacity-20"},w6={class:"ml-4"},C6={class:"text-3xl font-bold text-secondary-900"},E6={class:"card"},k6={class:"card-body"};function S6(t,e,n,s,r,a){const i=$("ArrowLeftIcon"),l=$("router-link"),c=$("ClockIcon"),d=$("ExclamationTriangleIcon"),u=$("CheckCircleIcon"),f=$("BeakerIcon"),m=$("ColaDispensacionFarmacia"),g=$("DispensarReceta");return y(),_("div",WC,[o("header",GC,[o("div",KC,[o("div",YC,[o("div",XC,[I(l,{to:"/",class:"text-secondary-600 hover:text-primary-600"},{default:ht(()=>[I(i,{class:"h-6 w-6"})]),_:1}),e[1]||(e[1]=o("h1",{class:"text-xl font-bold text-secondary-900"}," Farmacia ",-1))]),e[2]||(e[2]=o("div",{class:"flex items-center space-x-4"},[o("span",{class:"text-sm text-secondary-600"}," Dispensación de Medicamentos ")],-1))])])]),o("main",JC,[o("div",QC,[o("div",ZC,[o("div",e6,[o("div",t6,[o("div",s6,[o("div",n6,[I(c,{class:"h-6 w-6 text-blue-500"})]),o("div",o6,[e[3]||(e[3]=o("p",{class:"text-sm font-medium text-secondary-600"},"Por Dispensar",-1)),o("p",r6,h(s.stats.pendientes),1)])])])]),o("div",a6,[o("div",i6,[o("div",l6,[o("div",c6,[I(d,{class:"h-6 w-6 text-accent-600"})]),o("div",d6,[e[4]||(e[4]=o("p",{class:"text-sm font-medium text-secondary-600"},"Urgentes",-1)),o("p",u6,h(s.stats.urgentes),1)])])])]),o("div",f6,[o("div",m6,[o("div",p6,[o("div",h6,[I(u,{class:"h-6 w-6 text-success"})]),o("div",g6,[e[5]||(e[5]=o("p",{class:"text-sm font-medium text-secondary-600"},"Dispensadas Hoy",-1)),o("p",v6,h(s.stats.dispensadasHoy),1)])])])]),o("div",y6,[o("div",_6,[o("div",b6,[o("div",x6,[I(f,{class:"h-6 w-6 text-primary-600"})]),o("div",w6,[e[6]||(e[6]=o("p",{class:"text-sm font-medium text-secondary-600"},"Total Farmacia",-1)),o("p",C6,h(s.stats.totalFarmacia),1)])])])])]),o("div",E6,[e[7]||(e[7]=o("div",{class:"card-header"},[o("h2",{class:"text-xl font-bold text-secondary-900"}," Cola de Dispensación - Farmacia "),o("p",{class:"text-sm text-secondary-600 mt-1"}," Recetas validadas listas para dispensar ")],-1)),o("div",k6,[I(m,{onRecipeDispensed:s.onRecipeDispensed},null,8,["onRecipeDispensed"])])])])]),s.dispensingRecipe?(y(),_e(g,{key:0,recipe:s.dispensingRecipe,type:"FARMACIA",onClose:e[0]||(e[0]=p=>s.dispensingRecipe=null),onDispensed:s.onRecipeDispensed},null,8,["recipe","onDispensed"])):O("",!0)])}const A6=Se(zC,[["render",S6]]),R6={name:"ColaDispensacionCMI",components:{ArrowPathIcon:Ps,ClockIcon:es,ExclamationTriangleIcon:Je,EyeIcon:Ko,DetalleReceta:Fn,DispensarReceta:ya},emits:["recipe-dispensed"],setup(t,{emit:e}){const n=$e(),s=U([]),r=U(!1),a=U(""),i=U(""),l=U(null),c=U(null),d=U(new Set),u=ne(()=>s.value.filter(E=>E.prioridad==="URGENTE").length),f=ne(()=>s.value.filter(E=>g(E.fecha_vencimiento)).length),m=async()=>{try{r.value=!0;const E={tipo:"CMI",estado:"VALIDADA"};a.value.trim()&&(E.search=a.value.trim()),i.value&&(E.prioridad=i.value),sortBy.value&&(E.sort_by=sortBy.value);const A=await ge.get("/recetas/cola-dispensacion-cmi/",{params:E});s.value=A.data.recetas}catch(E){console.error("Error loading recipes:",E),n.error("Error al cargar las recetas")}finally{r.value=!1}},g=E=>{if(!E)return!1;const A=Ad(new Date(E),new Date);return A<=3&&A>=0},p=E=>E.prioridad==="URGENTE"||g(E.fecha_vencimiento),v=async E=>{try{const A=await ge.get(`/recetas/${E.folio_receta}/`);l.value=A.data}catch(A){console.error("Error loading recipe details:",A),n.error("Error al cargar los detalles de la receta"),l.value=E}},x=E=>{c.value=E},C=E=>{s.value=s.value.filter(A=>A.folio_receta!==E.folio_receta),c.value=null,e("recipe-dispensed",E)},S=E=>({URGENTE:"bg-accent-600 text-white",ALTA:"bg-orange-500 text-white",MEDIA:"bg-blue-500 text-white",BAJA:"bg-gray-500 text-white"})[E]||"bg-gray-500 text-white",B=E=>E?St(new Date(E),"dd/MM/yyyy HH:mm",{locale:jt}):"-";return je(()=>{m();const E=setInterval(m,6e4);return()=>clearInterval(E)}),{recipes:s,isLoading:r,searchQuery:a,selectedPriority:i,selectedRecipe:l,preparingRecipe:c,preparingRecipes:d,urgentCount:u,expiringSoonCount:f,loadRecipes:m,isExpiringSoon:g,hasSpecialConditions:p,viewRecipeDetails:v,startPreparing:x,onRecipePrepared:C,getPriorityClass:S,formatDate:B}}},I6={class:"space-y-4"},T6={class:"flex flex-wrap gap-4 items-center"},P6={class:"flex-1 min-w-64"},D6=["disabled"],$6={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},M6={class:"bg-blue-500 bg-opacity-10 rounded-lg p-4"},O6={class:"flex items-center"},N6={class:"text-2xl font-bold text-blue-500"},L6={class:"bg-accent-600 bg-opacity-10 rounded-lg p-4"},U6={class:"flex items-center"},j6={class:"text-2xl font-bold text-accent-600"},B6={class:"bg-warning bg-opacity-10 rounded-lg p-4"},F6={class:"flex items-center"},V6={class:"text-2xl font-bold text-warning"},H6={key:0,class:"text-center py-8"},q6={key:1,class:"text-center py-12"},z6={key:2,class:"space-y-4"},W6={class:"card-body"},G6={class:"flex justify-between items-start"},K6={class:"flex-1"},Y6={class:"flex items-center space-x-3 mb-3"},X6={class:"text-lg font-semibold text-secondary-900"},J6={key:0,class:"badge bg-warning text-white"},Q6={class:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm"},Z6={class:"text-secondary-600"},eE={class:"ml-4 mt-1"},tE={class:"text-sm"},sE={class:"font-medium"},nE={class:"font-medium ml-1"},oE={class:"font-medium ml-1"},rE={class:"text-secondary-600"},aE={class:"text-secondary-600"},iE={class:"text-secondary-600"},lE={class:"text-secondary-600"},cE={key:0,class:"text-secondary-600"},dE={key:0,class:"mt-3 flex space-x-2"},uE={key:0,class:"text-xs bg-accent-600 text-white px-2 py-1 rounded"},fE={key:1,class:"text-xs bg-warning text-white px-2 py-1 rounded"},mE={class:"flex flex-col space-y-2 ml-4"},pE=["onClick"],hE=["onClick","disabled"];function gE(t,e,n,s,r,a){const i=$("ArrowPathIcon"),l=$("ClockIcon"),c=$("ExclamationTriangleIcon"),d=$("EyeIcon"),u=$("DetalleReceta"),f=$("DispensarReceta");return y(),_("div",I6,[o("div",T6,[o("div",P6,[Y(o("input",{"onUpdate:modelValue":e[0]||(e[0]=m=>s.searchQuery=m),type:"text",class:"form-input",placeholder:"Buscar por folio, expediente o servicio...",onInput:e[1]||(e[1]=(...m)=>s.loadRecipes&&s.loadRecipes(...m))},null,544),[[ie,s.searchQuery]])]),o("div",null,[Y(o("select",{"onUpdate:modelValue":e[2]||(e[2]=m=>s.selectedPriority=m),onChange:e[3]||(e[3]=(...m)=>s.loadRecipes&&s.loadRecipes(...m)),class:"form-input"},e[7]||(e[7]=[Ke('<option value="">Todas las prioridades</option><option value="URGENTE">Urgente</option><option value="ALTA">Alta</option><option value="MEDIA">Media</option><option value="BAJA">Baja</option>',5)]),544),[[Ne,s.selectedPriority]])]),o("button",{onClick:e[4]||(e[4]=(...m)=>s.loadRecipes&&s.loadRecipes(...m)),disabled:s.isLoading,class:"btn-primary"},[I(i,{class:"h-5 w-5 mr-2"}),e[8]||(e[8]=N(" Actualizar ",-1))],8,D6)]),o("div",$6,[o("div",M6,[o("div",O6,[I(l,{class:"h-6 w-6 text-blue-500 mr-3"}),o("div",null,[e[9]||(e[9]=o("p",{class:"text-sm font-medium text-blue-500"},"Por Preparar",-1)),o("p",N6,h(s.recipes.length),1)])])]),o("div",L6,[o("div",U6,[I(c,{class:"h-6 w-6 text-accent-600 mr-3"}),o("div",null,[e[10]||(e[10]=o("p",{class:"text-sm font-medium text-accent-600"},"Urgentes",-1)),o("p",j6,h(s.urgentCount),1)])])]),o("div",B6,[o("div",F6,[I(l,{class:"h-6 w-6 text-warning mr-3"}),o("div",null,[e[11]||(e[11]=o("p",{class:"text-sm font-medium text-warning"},"Próximas a Vencer",-1)),o("p",V6,h(s.expiringSoonCount),1)])])])]),s.isLoading?(y(),_("div",H6,e[12]||(e[12]=[o("div",{class:"inline-flex items-center"},[o("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-primary-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]),N(" Cargando recetas... ")],-1)]))):s.recipes.length===0?(y(),_("div",q6,e[13]||(e[13]=[o("svg",{class:"mx-auto h-12 w-12 text-secondary-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})],-1),o("h3",{class:"mt-2 text-lg font-medium text-secondary-900"},"No hay mezclas para preparar",-1),o("p",{class:"mt-1 text-secondary-600"}," No hay recetas de CMI validadas en este momento. ",-1)]))):(y(),_("div",z6,[(y(!0),_(he,null,Re(s.recipes,m=>{var g,p,v,x;return y(),_("div",{key:m.folio_receta,class:ee(["card hover:shadow-lg transition-shadow duration-200",{"border-l-4 border-accent-600":m.prioridad==="URGENTE","border-l-4 border-orange-500":m.prioridad==="ALTA","border-l-4 border-warning":s.isExpiringSoon(m.fecha_vencimiento)}])},[o("div",W6,[o("div",G6,[o("div",K6,[o("div",Y6,[o("h3",X6," Receta #"+h(m.folio_receta),1),o("span",{class:ee(["badge",s.getPriorityClass(m.prioridad)])},h(m.prioridad),3),e[15]||(e[15]=o("span",{class:"badge bg-purple-500 text-white"}," CMI ",-1)),s.isExpiringSoon(m.fecha_vencimiento)?(y(),_("span",J6,[I(l,{class:"h-3 w-3 mr-1"}),e[14]||(e[14]=N(" Próxima a vencer ",-1))])):O("",!0)]),o("div",Q6,[o("div",null,[o("div",Z6,[e[16]||(e[16]=o("span",{class:"font-medium"},"Paciente:",-1)),o("div",eE,[o("div",tE,[o("span",sE,h((g=m.paciente_info)==null?void 0:g.nombre),1),o("span",nE,h((p=m.paciente_info)==null?void 0:p.apellido_paterno),1),o("span",oE,h(((v=m.paciente_info)==null?void 0:v.apellido_materno)||""),1)])])]),o("p",rE,[e[17]||(e[17]=o("span",{class:"font-medium"},"Expediente:",-1)),N(" "+h((x=m.paciente_info)==null?void 0:x.expediente),1)]),o("p",aE,[e[18]||(e[18]=o("span",{class:"font-medium"},"Servicio:",-1)),N(" "+h(m.servicio_solicitante),1)])]),o("div",null,[o("p",iE,[e[19]||(e[19]=o("span",{class:"font-medium"},"Validada:",-1)),N(" "+h(s.formatDate(m.fecha_validacion)),1)]),o("p",lE,[e[20]||(e[20]=o("span",{class:"font-medium"},"Componentes:",-1)),N(" "+h(m.total_medicamentos),1)]),m.fecha_vencimiento?(y(),_("p",cE,[e[21]||(e[21]=o("span",{class:"font-medium"},"Vence:",-1)),o("span",{class:ee({"text-warning font-bold":s.isExpiringSoon(m.fecha_vencimiento)})},h(s.formatDate(m.fecha_vencimiento)),3)])):O("",!0)])]),s.hasSpecialConditions(m)?(y(),_("div",dE,[m.prioridad==="URGENTE"?(y(),_("span",uE,[I(c,{class:"h-3 w-3 inline mr-1"}),e[22]||(e[22]=N(" URGENTE ",-1))])):O("",!0),s.isExpiringSoon(m.fecha_vencimiento)?(y(),_("span",fE,[I(l,{class:"h-3 w-3 inline mr-1"}),e[23]||(e[23]=N(" VENCE PRONTO ",-1))])):O("",!0),e[24]||(e[24]=o("span",{class:"text-xs bg-purple-500 text-white px-2 py-1 rounded"},[o("svg",{class:"h-3 w-3 inline mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[o("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),N(" MEZCLA ESPECIALIZADA ")],-1))])):O("",!0)]),o("div",mE,[o("button",{onClick:C=>s.viewRecipeDetails(m),class:"btn-secondary text-sm"},[I(d,{class:"h-4 w-4 mr-1"}),e[25]||(e[25]=N(" Ver Detalles ",-1))],8,pE),o("button",{onClick:C=>s.startPreparing(m),disabled:s.preparingRecipes.has(m.folio_receta),class:"btn-success text-sm"},[e[26]||(e[26]=o("svg",{class:"h-4 w-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})],-1)),N(" "+h(s.preparingRecipes.has(m.folio_receta)?"Preparando...":"Preparar"),1)],8,hE)])])])],2)}),128))])),s.selectedRecipe?(y(),_e(u,{key:3,recipe:s.selectedRecipe,onClose:e[5]||(e[5]=m=>s.selectedRecipe=null)},null,8,["recipe"])):O("",!0),s.preparingRecipe?(y(),_e(f,{key:4,recipe:s.preparingRecipe,type:"CMI",onClose:e[6]||(e[6]=m=>s.preparingRecipe=null),onDispensed:s.onRecipePrepared},null,8,["recipe","onDispensed"])):O("",!0)])}const vE=Se(R6,[["render",gE]]),yE={name:"CMI",components:{ArrowLeftIcon:Zt,ClockIcon:es,ExclamationTriangleIcon:Je,CheckCircleIcon:Ut,ColaDispensacionCMI:vE},setup(){const t=$e(),e=U({pendientes:0,urgentes:0,preparadasHoy:0,totalCMI:0}),n=async()=>{var r;try{const i=(await ge.get("/recetas/estadisticas/")).data;e.value={pendientes:i.validadas||0,urgentes:((r=i.por_prioridad)==null?void 0:r.urgente)||0,preparadasHoy:i.surtidas||0,totalCMI:i.cmi||0}}catch(a){console.error("Error loading stats:",a)}},s=r=>{n(),t.success(`Mezcla #${r.folio_receta} preparada correctamente`)};return je(()=>{n()}),{stats:e,onRecipeDispensed:s}}},_E={class:"min-h-screen bg-background-main"},bE={class:"sticky-header"},xE={class:"px-6 py-4"},wE={class:"flex items-center justify-between"},CE={class:"flex items-center space-x-4"},EE={class:"scrollable-content p-6"},kE={class:"max-w-7xl mx-auto"},SE={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},AE={class:"card"},RE={class:"card-body"},IE={class:"flex items-center"},TE={class:"p-3 rounded-lg bg-blue-500 bg-opacity-20"},PE={class:"ml-4"},DE={class:"text-3xl font-bold text-secondary-900"},$E={class:"card"},ME={class:"card-body"},OE={class:"flex items-center"},NE={class:"p-3 rounded-lg bg-accent-600 bg-opacity-20"},LE={class:"ml-4"},UE={class:"text-3xl font-bold text-secondary-900"},jE={class:"card"},BE={class:"card-body"},FE={class:"flex items-center"},VE={class:"p-3 rounded-lg bg-success bg-opacity-20"},HE={class:"ml-4"},qE={class:"text-3xl font-bold text-secondary-900"},zE={class:"card"},WE={class:"card-body"},GE={class:"flex items-center"},KE={class:"ml-4"},YE={class:"text-3xl font-bold text-secondary-900"},XE={class:"card"},JE={class:"card-body"};function QE(t,e,n,s,r,a){const i=$("ArrowLeftIcon"),l=$("router-link"),c=$("ClockIcon"),d=$("ExclamationTriangleIcon"),u=$("CheckCircleIcon"),f=$("ColaDispensacionCMI");return y(),_("div",_E,[o("header",bE,[o("div",xE,[o("div",wE,[o("div",CE,[I(l,{to:"/",class:"text-secondary-600 hover:text-primary-600"},{default:ht(()=>[I(i,{class:"h-6 w-6"})]),_:1}),e[0]||(e[0]=o("h1",{class:"text-xl font-bold text-secondary-900"}," Centro de Mezclas (CMI) ",-1))]),e[1]||(e[1]=o("div",{class:"flex items-center space-x-4"},[o("span",{class:"text-sm text-secondary-600"}," Preparación de Mezclas Especializadas ")],-1))])])]),o("main",EE,[o("div",kE,[o("div",SE,[o("div",AE,[o("div",RE,[o("div",IE,[o("div",TE,[I(c,{class:"h-6 w-6 text-blue-500"})]),o("div",PE,[e[2]||(e[2]=o("p",{class:"text-sm font-medium text-secondary-600"},"Por Preparar",-1)),o("p",DE,h(s.stats.pendientes),1)])])])]),o("div",$E,[o("div",ME,[o("div",OE,[o("div",NE,[I(d,{class:"h-6 w-6 text-accent-600"})]),o("div",LE,[e[3]||(e[3]=o("p",{class:"text-sm font-medium text-secondary-600"},"Urgentes",-1)),o("p",UE,h(s.stats.urgentes),1)])])])]),o("div",jE,[o("div",BE,[o("div",FE,[o("div",VE,[I(u,{class:"h-6 w-6 text-success"})]),o("div",HE,[e[4]||(e[4]=o("p",{class:"text-sm font-medium text-secondary-600"},"Preparadas Hoy",-1)),o("p",qE,h(s.stats.preparadasHoy),1)])])])]),o("div",zE,[o("div",WE,[o("div",GE,[e[6]||(e[6]=o("div",{class:"p-3 rounded-lg bg-primary-600 bg-opacity-20"},[o("svg",{class:"h-6 w-6 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})])],-1)),o("div",KE,[e[5]||(e[5]=o("p",{class:"text-sm font-medium text-secondary-600"},"Total CMI",-1)),o("p",YE,h(s.stats.totalCMI),1)])])])])]),o("div",XE,[e[7]||(e[7]=o("div",{class:"card-header"},[o("h2",{class:"text-xl font-bold text-secondary-900"}," Cola de Preparación - CMI "),o("p",{class:"text-sm text-secondary-600 mt-1"}," Recetas validadas listas para preparar mezclas ")],-1)),o("div",JE,[I(f,{onRecipeDispensed:s.onRecipeDispensed},null,8,["onRecipeDispensed"])])])])])])}const ZE=Se(yE,[["render",QE]]),ek={name:"Validacion",components:{ArrowLeftIcon:Zt,ColaValidacion:Od},setup(){const t=$e();return{onRecipeValidated:()=>{t.success("Receta validada correctamente")}}}},tk={class:"min-h-screen bg-background-main"},sk={class:"sticky-header"},nk={class:"px-6 py-4"},ok={class:"flex items-center justify-between"},rk={class:"flex items-center space-x-4"},ak={class:"scrollable-content p-6"},ik={class:"max-w-7xl mx-auto"},lk={class:"card"},ck={class:"card-body"};function dk(t,e,n,s,r,a){const i=$("ArrowLeftIcon"),l=$("router-link"),c=$("ColaValidacion");return y(),_("div",tk,[o("header",sk,[o("div",nk,[o("div",ok,[o("div",rk,[I(l,{to:"/",class:"text-secondary-600 hover:text-primary-600"},{default:ht(()=>[I(i,{class:"h-6 w-6"})]),_:1}),e[0]||(e[0]=o("h1",{class:"text-xl font-bold text-secondary-900"}," Validación de Recetas ",-1))])])])]),o("main",ak,[o("div",ik,[o("div",lk,[e[1]||(e[1]=o("div",{class:"card-header"},[o("h2",{class:"text-xl font-bold text-secondary-900"}," Cola de Validación de Recetas "),o("p",{class:"text-sm text-secondary-600 mt-1"}," Recetas pendientes de validación ")],-1)),o("div",ck,[I(c,{onRecipeValidated:s.onRecipeValidated},null,8,["onRecipeValidated"])])])])])])}const uk=Se(ek,[["render",dk]]);const fk={name:"SelectorMedicamento",components:{MagnifyingGlassIcon:Ed,CheckIcon:_1,CheckCircleIcon:Ut,XMarkIcon:Ds,ExclamationCircleIcon:Cd},props:{tipoReceta:{type:String,required:!0,default:"FARMACIA",validator:t=>["FARMACIA","CMI"].includes(t)},modelValue:{type:Object,default:null}},emits:["update:modelValue","medicamento-selected"],setup(t,{emit:e}){const n=$e(),s=U(null),r=U(""),a=U(t.modelValue),i=U(""),l=U(1),c=U(!1),d=U([]),u=U(!1),f=U(""),m=U(-1),g=U(!1);let p=null;const v={ANALGESICO:"Analgésico",ANTIBIOTICO:"Antibiótico",ANTIINFLAMATORIO:"Antiinflamatorio",CARDIOVASCULAR:"Cardiovascular",ENDOCRINO:"Endócrino",GASTROINTESTINAL:"Gastrointestinal",NEUROLOGICO:"Neurológico",ONCOLOGICO:"Oncológico",RESPIRATORIO:"Respiratorio",OTROS:"Otros"},x={ANALGESICO:"bg-blue-100 text-blue-800",ANTIBIOTICO:"bg-red-100 text-red-800",ANTIINFLAMATORIO:"bg-orange-100 text-orange-800",CARDIOVASCULAR:"bg-purple-100 text-purple-800",ENDOCRINO:"bg-green-100 text-green-800",GASTROINTESTINAL:"bg-yellow-100 text-yellow-800",NEUROLOGICO:"bg-indigo-100 text-indigo-800",ONCOLOGICO:"bg-pink-100 text-pink-800",RESPIRATORIO:"bg-cyan-100 text-cyan-800",OTROS:"bg-gray-100 text-gray-800"},C=te=>v[te]||te,S=te=>x[te]||"bg-gray-100 text-gray-800",B=async te=>{if(te.length<2){d.value=[];return}try{u.value=!0,f.value="";const me=await ge.get("/recetas/catalogo/autocompletar/",{params:{q:te,tipo_receta:t.tipoReceta}});d.value=me.data.results||[],m.value=-1}catch(me){console.error("Error searching medications:",me),f.value="Error al buscar medicamentos",d.value=[]}finally{u.value=!1}},E=()=>{p&&clearTimeout(p),p=setTimeout(()=>{B(r.value),c.value=!0},300)},A=te=>{a.value=te,r.value=`${te.clave} - ${te.nombre}`,i.value=te.dosis_sugerida||"",c.value=!1,m.value=-1,f.value="",T(),e("medicamento-selected",te),n.success(`Medicamento seleccionado: ${te.nombre}`)},k=()=>{a.value=null,r.value="",i.value="",l.value=1,d.value=[],c.value=!1,f.value="",g.value=!1,T(),setTimeout(()=>{var te;(te=s.value)==null||te.focus()},100)},T=()=>{const te=a.value?{medicamento:a.value,dosis:i.value,cantidad_prescrita:l.value}:null;e("update:modelValue",te)},M=()=>{setTimeout(()=>{c.value=!1},200)},L=()=>{c.value=!1,m.value=-1},D=()=>{m.value<d.value.length-1&&m.value++},W=()=>{m.value>0&&m.value--},q=()=>{m.value>=0&&d.value[m.value]&&A(d.value[m.value])},se=()=>(g.value=!0,a.value?i.value?!l.value||l.value<1?(f.value="La cantidad debe ser mayor a 0",!1):(f.value="",!0):(f.value="Debe especificar la dosis",!1):(f.value="Debe seleccionar un medicamento",!1));return Wt(()=>t.modelValue,te=>{!te&&a.value&&k()}),Wt([i,l],()=>{a.value&&T()}),{medicamentoInput:s,searchQuery:r,medicamentoSeleccionado:a,dosisPersonalizada:i,cantidadPrescrita:l,showDropdown:c,filteredMedicamentos:d,isLoading:u,error:f,highlightedIndex:m,showValidation:g,getCategoryLabel:C,getCategoryClass:S,onSearchInput:E,selectMedicamento:A,limpiarSeleccion:k,onBlur:M,hideDropdown:L,navigateDown:D,navigateUp:W,selectHighlighted:q,validate:se,...{validate:se,limpiarSeleccion:k}}}},mk={class:"medicamento-selector"},pk={class:"mb-4"},hk={class:"relative"},gk={class:"absolute inset-y-0 right-0 flex items-center pr-3"},vk={key:1,class:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"},yk={key:0,class:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto"},_k={key:0,class:"p-4 text-center text-gray-600"},bk={key:1,class:"p-4 text-center text-gray-600"},xk={key:2},wk=["onMousedown","onMouseenter"],Ck={class:"flex items-start justify-between"},Ek={class:"flex-1"},kk={class:"flex items-center space-x-2 mb-1"},Sk={class:"text-sm font-bold text-blue-600"},Ak={class:"text-sm font-medium text-gray-900 mb-1"},Rk={class:"text-xs text-gray-600 space-y-1"},Ik={key:0,class:"text-green-600"},Tk={key:0,class:"mt-1 text-sm text-red-600"},Pk={key:0,class:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4"},Dk={class:"flex items-start justify-between"},$k={class:"flex-1"},Mk={class:"flex items-center space-x-2 mb-2"},Ok={class:"font-bold text-blue-600"},Nk={class:"font-medium text-gray-900 mb-2"},Lk={class:"grid grid-cols-2 gap-4 text-sm text-gray-600"},Uk={key:0,class:"col-span-2"},jk={class:"text-green-600"},Bk={key:1,class:"space-y-4"},Fk={class:"mt-1 text-xs text-gray-600"};function Vk(t,e,n,s,r,a){const i=$("MagnifyingGlassIcon"),l=$("ExclamationCircleIcon"),c=$("CheckIcon"),d=$("CheckCircleIcon"),u=$("XMarkIcon");return y(),_("div",mk,[o("div",pk,[e[13]||(e[13]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Buscar Medicamento * ",-1)),o("div",hk,[Y(o("input",{ref:"medicamentoInput","onUpdate:modelValue":e[0]||(e[0]=f=>s.searchQuery=f),type:"text",placeholder:"Buscar por nombre, clave o principio activo...",class:ee(["form-input w-full pr-10",{"border-red-500 focus:border-red-500 focus:ring-red-500":s.error}]),onInput:e[1]||(e[1]=(...f)=>s.onSearchInput&&s.onSearchInput(...f)),onFocus:e[2]||(e[2]=f=>s.showDropdown=!0),onBlur:e[3]||(e[3]=(...f)=>s.onBlur&&s.onBlur(...f)),onKeydown:[e[4]||(e[4]=cn(dt((...f)=>s.navigateDown&&s.navigateDown(...f),["prevent"]),["down"])),e[5]||(e[5]=cn(dt((...f)=>s.navigateUp&&s.navigateUp(...f),["prevent"]),["up"])),e[6]||(e[6]=cn(dt((...f)=>s.selectHighlighted&&s.selectHighlighted(...f),["prevent"]),["enter"])),e[7]||(e[7]=cn((...f)=>s.hideDropdown&&s.hideDropdown(...f),["escape"]))]},null,34),[[ie,s.searchQuery]]),o("div",gk,[s.isLoading?(y(),_("div",vk)):(y(),_e(i,{key:0,class:"h-5 w-5 text-gray-400"}))]),s.showDropdown&&(s.filteredMedicamentos.length>0||s.searchQuery.length>=2)?(y(),_("div",yk,[s.isLoading?(y(),_("div",_k,e[11]||(e[11]=[o("div",{class:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto mb-2"},null,-1),N(" Buscando medicamentos... ",-1)]))):s.filteredMedicamentos.length===0&&s.searchQuery.length>=2?(y(),_("div",bk,[I(l,{class:"h-8 w-8 mx-auto mb-2 text-gray-400"}),e[12]||(e[12]=N(" No se encontraron medicamentos ",-1))])):(y(),_("div",xk,[(y(!0),_(he,null,Re(s.filteredMedicamentos,(f,m)=>(y(),_("div",{key:f.id,class:ee(["p-3 cursor-pointer hover:bg-blue-50 border-b border-gray-100 last:border-b-0",{"bg-blue-100":m===s.highlightedIndex}]),onMousedown:dt(g=>s.selectMedicamento(f),["prevent"]),onMouseenter:g=>s.highlightedIndex=m},[o("div",Ck,[o("div",Ek,[o("div",kk,[o("span",Sk,h(f.clave),1),o("span",{class:ee(["inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium",s.getCategoryClass(f.categoria)])},h(s.getCategoryLabel(f.categoria)),3)]),o("h4",Ak,h(f.nombre),1),o("div",Rk,[o("div",null,h(f.forma_farmaceutica)+" - "+h(f.concentracion),1),f.dosis_sugerida?(y(),_("div",Ik," 💊 "+h(f.dosis_sugerida),1)):O("",!0)])]),I(c,{class:"h-5 w-5 text-blue-600"})])],42,wk))),128))]))])):O("",!0)]),s.error?(y(),_("p",Tk,h(s.error),1)):O("",!0)]),s.medicamentoSeleccionado?(y(),_("div",Pk,[o("div",Dk,[o("div",$k,[o("div",Mk,[I(d,{class:"h-5 w-5 text-green-500"}),o("span",Ok,h(s.medicamentoSeleccionado.clave),1),o("span",{class:ee(["inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium",s.getCategoryClass(s.medicamentoSeleccionado.categoria)])},h(s.getCategoryLabel(s.medicamentoSeleccionado.categoria)),3)]),o("h4",Nk,h(s.medicamentoSeleccionado.nombre),1),o("div",Lk,[o("div",null,[e[14]||(e[14]=o("span",{class:"font-medium"},"Forma:",-1)),N(" "+h(s.medicamentoSeleccionado.forma_farmaceutica),1)]),o("div",null,[e[15]||(e[15]=o("span",{class:"font-medium"},"Concentración:",-1)),N(" "+h(s.medicamentoSeleccionado.concentracion),1)]),s.medicamentoSeleccionado.dosis_sugerida?(y(),_("div",Uk,[e[16]||(e[16]=o("span",{class:"font-medium"},"Dosis sugerida:",-1)),o("span",jk,h(s.medicamentoSeleccionado.dosis_sugerida),1)])):O("",!0)])]),o("button",{onClick:e[8]||(e[8]=(...f)=>s.limpiarSeleccion&&s.limpiarSeleccion(...f)),class:"ml-4 p-1 text-gray-400 hover:text-gray-600 transition-colors",title:"Limpiar selección"},[I(u,{class:"h-5 w-5"})])])])):O("",!0),s.medicamentoSeleccionado?(y(),_("div",Bk,[o("div",null,[e[17]||(e[17]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Dosis y Frecuencia * ",-1)),Y(o("input",{"onUpdate:modelValue":e[9]||(e[9]=f=>s.dosisPersonalizada=f),type:"text",placeholder:"Ej: 1 tableta cada 8 horas por 7 días",class:ee(["form-input w-full",{"border-red-500 focus:border-red-500 focus:ring-red-500":!s.dosisPersonalizada&&s.showValidation}])},null,2),[[ie,s.dosisPersonalizada]]),o("p",Fk," Sugerencia: "+h(s.medicamentoSeleccionado.dosis_sugerida||"Sin dosis sugerida"),1)]),o("div",null,[e[18]||(e[18]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Cantidad a Prescribir * ",-1)),Y(o("input",{"onUpdate:modelValue":e[10]||(e[10]=f=>s.cantidadPrescrita=f),type:"number",min:"1",placeholder:"Número de unidades",class:ee(["form-input w-full",{"border-red-500 focus:border-red-500 focus:ring-red-500":!s.cantidadPrescrita&&s.showValidation}])},null,2),[[ie,s.cantidadPrescrita,void 0,{number:!0}]])])])):O("",!0)])}const Hk=Se(fk,[["render",Vk],["__scopeId","data-v-b7016d8d"]]),qk={name:"FormularioReceta",components:{XMarkIcon:Ds,PlusIcon:Bn,TrashIcon:C1,ExclamationTriangleIcon:Je,SelectorMedicamento:Hk,SelectorCIE10:$d},props:{patient:{type:Object,required:!0}},emits:["close","saved"],setup(t,{emit:e}){const n=$e(),s=U(!1),r=pt({paciente:t.patient.expediente,tipo_receta:"FARMACIA",prioridad:"MEDIA",servicio_solicitante:"",cie10:"",diagnostico:"",indicaciones_generales:"",fecha_vencimiento:"",observaciones:"",detalles:[]}),a=pt({}),i=ne(()=>St(new Date,"yyyy-MM-dd")),l=()=>{r.detalles.push({selector_data:null,clave_medicamento:"",descripcion_medicamento:"",dosis:"",cantidad_prescrita:1,frecuencia:"",duracion_tratamiento:""})},c=(p,v)=>{const x=r.detalles[p];x.selector_data=v,v?(x.clave_medicamento=v.medicamento.clave,x.descripcion_medicamento=v.medicamento.nombre,x.dosis=v.dosis,x.cantidad_prescrita=v.cantidad_prescrita):(x.clave_medicamento="",x.descripcion_medicamento="",x.dosis="",x.cantidad_prescrita=1)},d=(p,v)=>{console.log("Medicamento seleccionado:",v)},u=p=>{p&&(r.diagnostico.trim()||(r.diagnostico=p.descripcion_corta))},f=p=>{r.detalles.splice(p,1)},m=()=>{const p={};if(["tipo_receta","prioridad","servicio_solicitante","diagnostico"].forEach(x=>{var C;(C=r[x])!=null&&C.trim()||(p[x]="Este campo es requerido")}),r.detalles.length===0&&(p.detalles="Debe agregar al menos un medicamento"),r.detalles.forEach((x,C)=>{var S;x.selector_data?((S=x.dosis)!=null&&S.trim()||(p[`medicamento_${C}_dosis`]="Dosis requerida"),(!x.cantidad_prescrita||x.cantidad_prescrita<1)&&(p[`medicamento_${C}_cantidad`]="Cantidad inválida")):p[`medicamento_${C}_selector`]="Debe seleccionar un medicamento del catálogo"}),r.fecha_vencimiento){const x=new Date(r.fecha_vencimiento),C=new Date;C.setHours(0,0,0,0),x<=C&&(p.fecha_vencimiento="La fecha de vencimiento debe ser futura")}return Object.assign(a,p),Object.keys(p).length===0},g=async()=>{var p;if(!m()){n.error("Por favor corrige los errores en el formulario");return}try{s.value=!0;const v=await ge.post("/recetas/",r);e("saved",v.data),n.success("Receta creada correctamente")}catch(v){if(console.error("Error creating recipe:",v),(p=v.response)!=null&&p.data){const x=v.response.data;Object.keys(x).forEach(C=>{a.hasOwnProperty(C)&&(a[C]=Array.isArray(x[C])?x[C][0]:x[C])})}n.error("Error al crear la receta")}finally{s.value=!1}};return l(),{form:r,errors:a,isSubmitting:s,minDate:i,addMedicamento:l,removeMedicamento:f,updateMedicamento:c,onMedicamentoSelected:d,handleCIE10Selected:u,handleSubmit:g}}},zk={class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},Wk={class:"bg-background-card rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] flex flex-col"},Gk={class:"px-6 py-4 border-b border-gray-200 flex-shrink-0"},Kk={class:"flex items-center justify-between"},Yk={class:"text-xl font-bold text-secondary-900"},Xk={class:"mt-2 text-sm text-secondary-600"},Jk={class:"modal-scrollable p-6"},Qk={class:"card"},Zk={class:"card-body"},eS={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},tS={key:0,class:"form-error"},sS={key:0,class:"form-error"},nS={key:0,class:"form-error"},oS=["min"],rS={key:0,class:"form-error"},aS={class:"md:col-span-2"},iS={class:"card"},lS={class:"card-header"},cS={class:"flex items-center justify-between"},dS=["disabled"],uS={class:"card-body"},fS={key:0,class:"text-center py-8 text-gray-500"},mS={key:0,class:"mb-4"},pS={key:1},hS={key:1,class:"space-y-6"},gS={class:"flex items-center justify-between mb-4"},vS={class:"font-medium text-gray-900"},yS=["onClick"],_S={key:0,class:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t border-gray-200"},bS=["onUpdate:modelValue"],xS=["onUpdate:modelValue"],wS={class:"card"},CS={class:"card-body"},ES={class:"flex justify-end space-x-4 pt-6 border-t border-gray-200"},kS=["disabled"],SS={key:0},AS={key:1};function RS(t,e,n,s,r,a){const i=$("XMarkIcon"),l=$("SelectorCIE10"),c=$("PlusIcon"),d=$("ExclamationTriangleIcon"),u=$("TrashIcon"),f=$("SelectorMedicamento");return y(),_("div",zk,[o("div",Wk,[o("div",Gk,[o("div",Kk,[o("h2",Yk," Nueva Receta para "+h(n.patient.nombre)+" "+h(n.patient.apellido_paterno)+" "+h(n.patient.apellido_materno||""),1),o("button",{onClick:e[0]||(e[0]=m=>t.$emit("close")),class:"text-secondary-400 hover:text-secondary-600"},[I(i,{class:"h-6 w-6"})])]),o("div",Xk,[e[12]||(e[12]=o("span",{class:"font-medium"},"Expediente:",-1)),N(" "+h(n.patient.expediente)+" | ",1),e[13]||(e[13]=o("span",{class:"font-medium"},"CURP:",-1)),N(" "+h(n.patient.curp),1)])]),o("div",Jk,[o("form",{onSubmit:e[11]||(e[11]=dt((...m)=>s.handleSubmit&&s.handleSubmit(...m),["prevent"])),class:"space-y-6"},[o("div",Qk,[e[24]||(e[24]=o("div",{class:"card-header"},[o("h3",{class:"text-lg font-medium text-secondary-900"}," Información de la Receta ")],-1)),o("div",Zk,[o("div",eS,[o("div",null,[e[15]||(e[15]=o("label",{class:"form-label"}," Tipo de Receta * ",-1)),Y(o("select",{"onUpdate:modelValue":e[1]||(e[1]=m=>s.form.tipo_receta=m),class:ee(["form-input",{"border-accent-500":s.errors.tipo_receta}])},e[14]||(e[14]=[o("option",{value:""},"Seleccionar tipo",-1),o("option",{value:"FARMACIA"},"Farmacia",-1),o("option",{value:"CMI"},"Centro de Mezclas (CMI)",-1)]),2),[[Ne,s.form.tipo_receta]]),s.errors.tipo_receta?(y(),_("p",tS,h(s.errors.tipo_receta),1)):O("",!0)]),o("div",null,[e[17]||(e[17]=o("label",{class:"form-label"}," Prioridad * ",-1)),Y(o("select",{"onUpdate:modelValue":e[2]||(e[2]=m=>s.form.prioridad=m),class:ee(["form-input",{"border-accent-500":s.errors.prioridad}])},e[16]||(e[16]=[Ke('<option value="">Seleccionar prioridad</option><option value="BAJA">Baja</option><option value="MEDIA">Media</option><option value="ALTA">Alta</option><option value="URGENTE">Urgente</option>',5)]),2),[[Ne,s.form.prioridad]]),s.errors.prioridad?(y(),_("p",sS,h(s.errors.prioridad),1)):O("",!0)]),o("div",null,[e[19]||(e[19]=o("label",{class:"form-label"}," Servicio Solicitante * ",-1)),Y(o("select",{"onUpdate:modelValue":e[3]||(e[3]=m=>s.form.servicio_solicitante=m),class:ee(["form-input",{"border-accent-500":s.errors.servicio_solicitante}])},e[18]||(e[18]=[Ke('<option value="">Seleccionar servicio</option><option value="Oncología">Oncología</option><option value="Medicina Interna">Medicina Interna</option><option value="Urgencias">Urgencias</option><option value="Cardiología">Cardiología</option><option value="Neurología">Neurología</option><option value="Pediatría">Pediatría</option><option value="Ginecología">Ginecología</option><option value="Cirugía">Cirugía</option>',9)]),2),[[Ne,s.form.servicio_solicitante]]),s.errors.servicio_solicitante?(y(),_("p",nS,h(s.errors.servicio_solicitante),1)):O("",!0)]),o("div",null,[e[20]||(e[20]=o("label",{class:"form-label"}," Fecha de Vencimiento ",-1)),Y(o("input",{"onUpdate:modelValue":e[4]||(e[4]=m=>s.form.fecha_vencimiento=m),type:"date",class:"form-input",min:s.minDate},null,8,oS),[[ie,s.form.fecha_vencimiento]])]),o("div",null,[e[21]||(e[21]=o("label",{class:"form-label"}," Código CIE-10 ",-1)),I(l,{modelValue:s.form.cie10,"onUpdate:modelValue":e[5]||(e[5]=m=>s.form.cie10=m),placeholder:"Buscar código CIE-10...",onCodeSelected:s.handleCIE10Selected},null,8,["modelValue","onCodeSelected"])]),o("div",null,[e[22]||(e[22]=o("label",{class:"form-label"}," Diagnóstico * ",-1)),Y(o("textarea",{"onUpdate:modelValue":e[6]||(e[6]=m=>s.form.diagnostico=m),class:ee(["form-input",{"border-accent-500":s.errors.diagnostico}]),rows:"2",placeholder:"Diagnóstico asociado a la receta..."},null,2),[[ie,s.form.diagnostico]]),s.errors.diagnostico?(y(),_("p",rS,h(s.errors.diagnostico),1)):O("",!0)]),o("div",aS,[e[23]||(e[23]=o("label",{class:"form-label"}," Indicaciones Generales ",-1)),Y(o("textarea",{"onUpdate:modelValue":e[7]||(e[7]=m=>s.form.indicaciones_generales=m),class:"form-input",rows:"2",placeholder:"Instrucciones especiales para el paciente..."},null,512),[[ie,s.form.indicaciones_generales]])])])])]),o("div",iS,[o("div",lS,[o("div",cS,[e[26]||(e[26]=o("h3",{class:"text-lg font-medium text-gray-900"}," Medicamentos ",-1)),o("button",{type:"button",onClick:e[8]||(e[8]=(...m)=>s.addMedicamento&&s.addMedicamento(...m)),class:"btn-primary text-sm",disabled:!s.form.tipo_receta},[I(c,{class:"h-4 w-4 mr-1"}),e[25]||(e[25]=N(" Agregar Medicamento ",-1))],8,dS)])]),o("div",uS,[s.form.detalles.length===0?(y(),_("div",fS,[s.form.tipo_receta?(y(),_("div",pS,[I(c,{class:"h-12 w-12 mx-auto text-gray-400"}),e[28]||(e[28]=o("p",{class:"mt-2"},'No hay medicamentos agregados. Haz clic en "Agregar Medicamento" para comenzar.',-1))])):(y(),_("div",mS,[I(d,{class:"h-12 w-12 mx-auto text-warning"}),e[27]||(e[27]=o("p",{class:"mt-2"},"Primero selecciona el tipo de receta para agregar medicamentos",-1))]))])):(y(),_("div",hS,[(y(!0),_(he,null,Re(s.form.detalles,(m,g)=>(y(),_("div",{key:g,class:"border border-gray-200 rounded-lg p-6 bg-gray-50"},[o("div",gS,[o("h4",vS," Medicamento "+h(g+1),1),o("button",{type:"button",onClick:p=>s.removeMedicamento(g),class:"text-accent-500 hover:text-accent-600 p-2 rounded-lg hover:bg-red-50 transition-colors",title:"Eliminar medicamento"},[I(u,{class:"h-5 w-5"})],8,yS)]),I(f,{"tipo-receta":s.form.tipo_receta,"model-value":m.selector_data,"onUpdate:modelValue":p=>s.updateMedicamento(g,p),onMedicamentoSelected:p=>s.onMedicamentoSelected(g,p)},null,8,["tipo-receta","model-value","onUpdate:modelValue","onMedicamentoSelected"]),m.selector_data?(y(),_("div",_S,[o("div",null,[e[29]||(e[29]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Frecuencia (opcional) ",-1)),Y(o("input",{"onUpdate:modelValue":p=>m.frecuencia=p,type:"text",class:"form-input",placeholder:"Ej: Cada 8 horas"},null,8,bS),[[ie,m.frecuencia]])]),o("div",null,[e[30]||(e[30]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Duración del Tratamiento (opcional) ",-1)),Y(o("input",{"onUpdate:modelValue":p=>m.duracion_tratamiento=p,type:"text",class:"form-input",placeholder:"Ej: 7 días, 2 semanas"},null,8,xS),[[ie,m.duracion_tratamiento]])])])):O("",!0)]))),128))]))])]),o("div",wS,[o("div",CS,[e[31]||(e[31]=o("label",{class:"form-label"}," Observaciones Generales ",-1)),Y(o("textarea",{"onUpdate:modelValue":e[9]||(e[9]=m=>s.form.observaciones=m),class:"form-input",rows:"3",placeholder:"Observaciones adicionales sobre la receta..."},null,512),[[ie,s.form.observaciones]])])]),o("div",ES,[o("button",{type:"button",onClick:e[10]||(e[10]=m=>t.$emit("close")),class:"btn-secondary"}," Cancelar "),o("button",{type:"submit",disabled:s.isSubmitting||s.form.detalles.length===0,class:"btn-primary"},[s.isSubmitting?(y(),_("span",SS,e[32]||(e[32]=[o("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),N(" Creando receta... ",-1)]))):(y(),_("span",AS," Crear Receta "))],8,kS)])],32)])])])}const IS=Se(qk,[["render",RS]]),TS={name:"Prescripcion",components:{ArrowLeftIcon:Zt,PlusIcon:Bn,UserIcon:E1,BuscarPaciente:Sd,DetallePaciente:Dd,FormularioPaciente:Md,FormularioReceta:IS,HistorialPaciente:Nd},setup(){const t=$e(),e=U(null),n=U(!1),s=U(!1),r=U(null),a=U(!1),i=m=>{e.value=m},l=m=>{r.value=m},c=()=>{a.value=!0},d=()=>{s.value=!1,r.value=null};return{selectedPatient:e,showCreateRecipe:n,showCreatePatient:s,editingPatient:r,showHistory:a,onPatientSelected:i,onEditPatient:l,onViewHistory:c,closePatientModal:d,onPatientSaved:m=>{e.value=m,d(),t.success("Paciente guardado correctamente")},onRecipeSaved:m=>{n.value=!1,t.success(`Receta #${m.folio_receta} creada correctamente`)}}}},PS={class:"min-h-screen bg-background-main"},DS={class:"sticky-header"},$S={class:"px-6 py-4"},MS={class:"flex items-center justify-between"},OS={class:"flex items-center space-x-4"},NS={class:"flex items-center space-x-4"},LS={class:"scrollable-content p-6"},US={class:"max-w-7xl mx-auto"},jS={class:"card mb-6"},BS={class:"card-body"},FS={key:0,class:"mb-6"},VS={key:1,class:"text-center py-12"};function HS(t,e,n,s,r,a){const i=$("ArrowLeftIcon"),l=$("router-link"),c=$("PlusIcon"),d=$("BuscarPaciente"),u=$("DetallePaciente"),f=$("UserIcon"),m=$("FormularioReceta"),g=$("FormularioPaciente"),p=$("HistorialPaciente");return y(),_("div",PS,[o("header",DS,[o("div",$S,[o("div",MS,[o("div",OS,[I(l,{to:"/",class:"text-secondary-600 hover:text-primary-600"},{default:ht(()=>[I(i,{class:"h-6 w-6"})]),_:1}),e[4]||(e[4]=o("h1",{class:"text-xl font-bold text-secondary-900"}," Prescripción de Recetas ",-1))]),o("div",NS,[o("button",{onClick:e[0]||(e[0]=v=>s.showCreateRecipe=!0),class:"btn-primary"},[I(c,{class:"h-5 w-5 mr-2"}),e[5]||(e[5]=N(" Nueva Receta ",-1))])])])])]),o("main",LS,[o("div",US,[o("div",jS,[o("div",BS,[I(d,{onPatientSelected:s.onPatientSelected,onNewPatient:e[1]||(e[1]=v=>s.showCreatePatient=!0)},null,8,["onPatientSelected"])])]),s.selectedPatient?(y(),_("div",FS,[I(u,{patient:s.selectedPatient,onEditPatient:s.onEditPatient,onViewHistory:s.onViewHistory},null,8,["patient","onEditPatient","onViewHistory"])])):O("",!0),s.selectedPatient?O("",!0):(y(),_("div",VS,[I(f,{class:"mx-auto h-12 w-12 text-secondary-400"}),e[6]||(e[6]=o("h3",{class:"mt-2 text-lg font-medium text-secondary-900"},"Selecciona un paciente",-1)),e[7]||(e[7]=o("p",{class:"mt-1 text-secondary-600"}," Busca y selecciona un paciente para crear una nueva receta. ",-1))]))])]),s.showCreateRecipe&&s.selectedPatient?(y(),_e(m,{key:0,patient:s.selectedPatient,onClose:e[2]||(e[2]=v=>s.showCreateRecipe=!1),onSaved:s.onRecipeSaved},null,8,["patient","onSaved"])):O("",!0),s.showCreatePatient||s.editingPatient?(y(),_e(g,{key:1,patient:s.editingPatient,onClose:s.closePatientModal,onSaved:s.onPatientSaved},null,8,["patient","onClose","onSaved"])):O("",!0),s.showHistory&&s.selectedPatient?(y(),_e(p,{key:2,patient:s.selectedPatient,onClose:e[3]||(e[3]=v=>s.showHistory=!1)},null,8,["patient"])):O("",!0)])}const qS=Se(TS,[["render",HS]]);const zS={name:"RecetasCompletadas",components:{DetalleReceta:Fn},setup(){const t=$e(),e=U([]),n=U(!1),s=U(""),r=U(!1),a=U(null),i=U({expediente:"",fechaDesde:"",fechaHasta:"",tipoReceta:""}),l=ne(()=>e.value.length),c=ne(()=>e.value.filter(C=>C.tipo_receta==="FARMACIA").length),d=ne(()=>e.value.filter(C=>C.tipo_receta==="CMI").length),u=ne(()=>i.value.expediente||i.value.fechaDesde||i.value.fechaHasta||i.value.tipoReceta),f=async()=>{try{n.value=!0;const C=new URLSearchParams;i.value.expediente&&C.append("expediente",i.value.expediente),i.value.fechaDesde&&C.append("fecha_desde",i.value.fechaDesde),i.value.fechaHasta&&C.append("fecha_hasta",i.value.fechaHasta),i.value.tipoReceta&&C.append("tipo_receta",i.value.tipoReceta);const S=C.toString(),B=`/recetas/completadas/${S?"?"+S:""}`,E=await ge.get(B);e.value=E.data.results,s.value=E.data.user_role}catch(C){console.error("Error al cargar recetas completadas:",C),t.error("Error al cargar las recetas completadas")}finally{n.value=!1}},m=()=>{i.value={expediente:"",fechaDesde:"",fechaHasta:"",tipoReceta:""},f()},g=async C=>{try{const S=await ge.get(`/recetas/${C.folio_receta}/`);a.value=S.data,r.value=!0}catch(S){console.error("Error al cargar detalles de la receta:",S),t.error("Error al cargar los detalles de la receta")}},p=()=>{r.value=!1,a.value=null},v=C=>({FARMACIA:"bg-blue-100 text-blue-800",CMI:"bg-purple-100 text-purple-800"})[C]||"bg-gray-100 text-gray-800",x=C=>{if(!C)return"-";try{return St(new Date(C),"dd/MM/yyyy HH:mm",{locale:jt})}catch{return C}};return je(()=>{f()}),{recetas:e,isLoading:n,userRole:s,filtros:i,totalRecetas:l,totalFarmacia:c,totalCMI:d,hayFiltrosActivos:u,showDetailModal:r,selectedRecipe:a,buscarRecetas:f,limpiarFiltros:m,viewRecipeDetails:g,closeDetailModal:p,getTypeClass:v,formatDate:x}}},WS={class:"min-h-screen bg-background-main p-6"},GS={class:"max-w-7xl mx-auto"},KS={class:"mb-6"},YS={class:"text-secondary-600"},XS={key:0},JS={key:1},QS={key:2},ZS={class:"card mb-6"},eA={class:"card-body"},tA={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},sA={key:0},nA={class:"flex items-end"},oA={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6"},rA={class:"card"},aA={class:"card-body text-center"},iA={class:"text-3xl font-bold text-primary-600"},lA={key:0,class:"card"},cA={class:"card-body text-center"},dA={class:"text-3xl font-bold text-blue-600"},uA={key:1,class:"card"},fA={class:"card-body text-center"},mA={class:"text-3xl font-bold text-purple-600"},pA={key:0,class:"text-center py-8"},hA={key:1,class:"space-y-4"},gA=["onClick"],vA={class:"card-body"},yA={class:"flex justify-between items-start"},_A={class:"flex-1"},bA={class:"flex items-center space-x-4 mb-3"},xA={class:"flex items-center space-x-2"},wA={class:"text-lg font-bold text-secondary-900"},CA={class:"text-sm text-secondary-600"},EA={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-3"},kA={class:"font-medium text-secondary-900"},SA={class:"text-sm"},AA={class:"ml-1"},RA={class:"ml-1"},IA={class:"text-xs text-secondary-500"},TA={class:"font-medium text-secondary-900"},PA={class:"text-xs text-secondary-500"},DA={key:0,class:"text-sm text-secondary-600"},$A={class:"font-medium"},MA={class:"flex flex-col items-end space-y-2"},OA=["onClick"],NA={key:2,class:"text-center py-12"},LA={class:"text-secondary-600"},UA={key:0},jA={key:1};function BA(t,e,n,s,r,a){const i=$("DetalleReceta");return y(),_("div",WS,[o("div",GS,[o("div",KS,[e[9]||(e[9]=o("h1",{class:"text-3xl font-bold text-secondary-900 mb-2"},"Recetas Completadas",-1)),o("p",YS,[s.userRole==="ATENCION_USUARIO"?(y(),_("span",XS,"Historial completo de todas las recetas dispensadas")):s.userRole==="FARMACIA"?(y(),_("span",JS,"Historial de recetas de farmacia dispensadas")):s.userRole==="CMI"?(y(),_("span",QS,"Historial de recetas de CMI dispensadas")):O("",!0)])]),o("div",ZS,[o("div",eA,[e[15]||(e[15]=o("h3",{class:"text-lg font-medium text-secondary-900 mb-4"},"Filtros de Búsqueda",-1)),o("div",tA,[o("div",null,[e[10]||(e[10]=o("label",{class:"form-label"},"Expediente del Paciente",-1)),Y(o("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>s.filtros.expediente=l),type:"text",class:"form-input",placeholder:"EXP001",onInput:e[1]||(e[1]=(...l)=>s.buscarRecetas&&s.buscarRecetas(...l))},null,544),[[ie,s.filtros.expediente]])]),o("div",null,[e[11]||(e[11]=o("label",{class:"form-label"},"Fecha Desde",-1)),Y(o("input",{"onUpdate:modelValue":e[2]||(e[2]=l=>s.filtros.fechaDesde=l),type:"date",class:"form-input",onChange:e[3]||(e[3]=(...l)=>s.buscarRecetas&&s.buscarRecetas(...l))},null,544),[[ie,s.filtros.fechaDesde]])]),o("div",null,[e[12]||(e[12]=o("label",{class:"form-label"},"Fecha Hasta",-1)),Y(o("input",{"onUpdate:modelValue":e[4]||(e[4]=l=>s.filtros.fechaHasta=l),type:"date",class:"form-input",onChange:e[5]||(e[5]=(...l)=>s.buscarRecetas&&s.buscarRecetas(...l))},null,544),[[ie,s.filtros.fechaHasta]])]),s.userRole==="ATENCION_USUARIO"?(y(),_("div",sA,[e[14]||(e[14]=o("label",{class:"form-label"},"Tipo de Receta",-1)),Y(o("select",{"onUpdate:modelValue":e[6]||(e[6]=l=>s.filtros.tipoReceta=l),class:"form-input",onChange:e[7]||(e[7]=(...l)=>s.buscarRecetas&&s.buscarRecetas(...l))},e[13]||(e[13]=[o("option",{value:""},"Todos",-1),o("option",{value:"FARMACIA"},"Farmacia",-1),o("option",{value:"CMI"},"CMI",-1)]),544),[[Ne,s.filtros.tipoReceta]])])):O("",!0),o("div",nA,[o("button",{onClick:e[8]||(e[8]=(...l)=>s.limpiarFiltros&&s.limpiarFiltros(...l)),class:"btn btn-outline w-full"}," Limpiar Filtros ")])])])]),o("div",oA,[o("div",rA,[o("div",aA,[o("div",iA,h(s.totalRecetas),1),e[16]||(e[16]=o("div",{class:"text-sm text-secondary-600"},"Total Completadas",-1))])]),s.userRole==="ATENCION_USUARIO"?(y(),_("div",lA,[o("div",cA,[o("div",dA,h(s.totalFarmacia),1),e[17]||(e[17]=o("div",{class:"text-sm text-secondary-600"},"Farmacia",-1))])])):O("",!0),s.userRole==="ATENCION_USUARIO"?(y(),_("div",uA,[o("div",fA,[o("div",mA,h(s.totalCMI),1),e[18]||(e[18]=o("div",{class:"text-sm text-secondary-600"},"CMI",-1))])])):O("",!0)]),s.isLoading?(y(),_("div",pA,e[19]||(e[19]=[o("svg",{class:"animate-spin -ml-1 mr-3 h-8 w-8 text-primary-600 mx-auto",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),o("p",{class:"text-secondary-600 mt-2"},"Cargando recetas...",-1)]))):s.recetas.length>0?(y(),_("div",hA,[(y(!0),_(he,null,Re(s.recetas,l=>{var c,d,u,f;return y(),_("div",{key:l.folio_receta,class:"card hover:shadow-md transition-shadow cursor-pointer",onClick:m=>s.viewRecipeDetails(l)},[o("div",vA,[o("div",yA,[o("div",_A,[o("div",bA,[o("div",xA,[o("span",wA," Receta #"+h(l.folio_receta),1),o("span",{class:ee([s.getTypeClass(l.tipo_receta),"px-2 py-1 rounded-full text-xs font-medium"])},h(l.tipo_receta),3)]),o("div",CA,h(s.formatDate(l.fecha_dispensacion)),1)]),o("div",EA,[o("div",null,[e[20]||(e[20]=o("p",{class:"text-sm text-secondary-600"},"Paciente",-1)),o("div",kA,[o("div",SA,[o("span",null,h(((c=l.paciente_info)==null?void 0:c.nombre)||"N/A"),1),o("span",AA,h(((d=l.paciente_info)==null?void 0:d.apellido_paterno)||""),1),o("span",RA,h(((u=l.paciente_info)==null?void 0:u.apellido_materno)||""),1)])]),o("p",IA," Expediente: "+h(((f=l.paciente_info)==null?void 0:f.expediente)||"N/A"),1)]),o("div",null,[e[21]||(e[21]=o("p",{class:"text-sm text-secondary-600"},"Dispensado por",-1)),o("p",TA,h(l.dispensado_por_name||"N/A"),1),o("p",PA," Servicio: "+h(l.servicio_solicitante||"N/A"),1)])]),l.total_medicamentos?(y(),_("div",DA,[o("span",$A,h(l.total_medicamentos),1),N(" "+h(l.total_medicamentos===1?"medicamento":"medicamentos")+" dispensados ",1)])):O("",!0)]),o("div",MA,[e[22]||(e[22]=o("span",{class:"status-badge bg-success text-white px-3 py-1 rounded-full text-sm font-medium"}," ✓ Completada ",-1)),o("button",{onClick:dt(m=>s.viewRecipeDetails(l),["stop"]),class:"text-primary-600 hover:text-primary-700 text-sm font-medium"}," Ver Detalles → ",8,OA)])])])],8,gA)}),128))])):(y(),_("div",NA,[e[23]||(e[23]=o("svg",{class:"w-16 h-16 text-secondary-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),e[24]||(e[24]=o("h3",{class:"text-lg font-medium text-secondary-900 mb-2"},"No hay recetas completadas",-1)),o("p",LA,[s.hayFiltrosActivos?(y(),_("span",UA,"Intenta ajustar los filtros de búsqueda")):(y(),_("span",jA,"Aún no se han completado recetas en el sistema"))])]))]),s.showDetailModal&&s.selectedRecipe?(y(),_e(i,{key:0,recipe:s.selectedRecipe,onClose:s.closeDetailModal},null,8,["recipe","onClose"])):O("",!0)])}const FA=Se(zS,[["render",BA],["__scopeId","data-v-6dd87d89"]]),VA={name:"RecetasCompletadasView",components:{RecetasCompletadas:FA},setup(){const t=Go();return{user:ne(()=>t.user),getRoleDisplayName:s=>({ATENCION_USUARIO:"Atención al Usuario",FARMACIA:"Farmacia",CMI:"Centro de Mezclas",MEDICO:"Médico",ADMIN:"Administrador"})[s]||s}}},HA={class:"min-h-screen bg-background-main"},qA={class:"sticky-header"},zA={class:"px-6 py-4"},WA={class:"flex items-center justify-between"},GA={class:"flex items-center space-x-4"},KA={class:"flex items-center space-x-4"},YA={class:"text-sm text-secondary-600"},XA={class:"font-medium"},JA={class:"block text-xs"},QA={class:"scrollable-content"};function ZA(t,e,n,s,r,a){var c,d,u;const i=$("router-link"),l=$("RecetasCompletadas",!0);return y(),_("div",HA,[o("header",qA,[o("div",zA,[o("div",WA,[o("div",GA,[o("button",{onClick:e[0]||(e[0]=f=>t.$router.go(-1)),class:"btn-secondary"}," ← Volver "),e[1]||(e[1]=o("h1",{class:"text-xl font-bold text-secondary-900"}," Recetas Completadas ",-1))]),o("div",KA,[o("div",YA,[o("span",XA,h((c=s.user)==null?void 0:c.first_name)+" "+h((d=s.user)==null?void 0:d.last_name),1),o("span",JA,h(s.getRoleDisplayName((u=s.user)==null?void 0:u.role)),1)]),I(i,{to:"/",class:"btn-secondary text-sm"},{default:ht(()=>e[2]||(e[2]=[N(" Dashboard ",-1)])),_:1,__:[2]})])])])]),o("main",QA,[I(l)])])}const eR=Se(VA,[["render",ZA]]),tR={name:"Reportes",components:{ArrowLeftIcon:Zt,ArrowPathIcon:Ps,UserGroupIcon:_o,ClipboardDocumentListIcon:Fr,ClockIcon:es,CheckCircleIcon:Ut,BeakerIcon:Es,CubeIcon:Js,ExclamationTriangleIcon:Je},setup(){const t=$e(),e=U(null),n=U(!1),s=l=>({PENDIENTE:"bg-warning",VALIDADA:"bg-blue-500",SURTIDA:"bg-success",PARCIALMENTE_SURTIDA:"bg-yellow-500",CANCELADA:"bg-red-500"})[l]||"bg-gray-400",r=l=>({PENDIENTE:"Pendiente",VALIDADA:"Validada",SURTIDA:"Surtida",PARCIALMENTE_SURTIDA:"Parcialmente Surtida",CANCELADA:"Cancelada"})[l]||l,a=async()=>{try{n.value=!0;const l=await ge.get("/reports/dashboard/");e.value=l.data}catch(l){console.error("Error loading dashboard data:",l),t.error("Error al cargar los datos del dashboard")}finally{n.value=!1}},i=()=>{a(),t.info("Actualizando datos...")};return je(()=>{a()}),{dashboardData:e,isLoading:n,getStatusColor:s,getStatusLabel:r,refreshData:i}}},sR={class:"min-h-screen bg-background-main"},nR={class:"sticky-header"},oR={class:"px-6 py-4"},rR={class:"flex items-center justify-between"},aR={class:"flex items-center space-x-4"},iR={class:"flex items-center space-x-4"},lR=["disabled"],cR={class:"scrollable-content p-6"},dR={class:"max-w-7xl mx-auto space-y-6"},uR={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},fR={class:"card"},mR={class:"card-body"},pR={class:"flex items-center"},hR={class:"p-3 rounded-lg bg-blue-500 bg-opacity-20"},gR={class:"ml-4"},vR={class:"text-3xl font-bold text-secondary-900"},yR={class:"card"},_R={class:"card-body"},bR={class:"flex items-center"},xR={class:"p-3 rounded-lg bg-primary-600 bg-opacity-20"},wR={class:"ml-4"},CR={class:"text-3xl font-bold text-secondary-900"},ER={class:"card"},kR={class:"card-body"},SR={class:"flex items-center"},AR={class:"p-3 rounded-lg bg-warning bg-opacity-20"},RR={class:"ml-4"},IR={class:"text-3xl font-bold text-secondary-900"},TR={class:"card"},PR={class:"card-body"},DR={class:"flex items-center"},$R={class:"p-3 rounded-lg bg-success bg-opacity-20"},MR={class:"ml-4"},OR={class:"text-3xl font-bold text-secondary-900"},NR={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},LR={class:"card"},UR={class:"card-body"},jR={key:0,class:"space-y-3"},BR={class:"flex items-center"},FR={class:"font-medium text-secondary-700"},VR={class:"text-xl font-bold text-secondary-900"},HR={class:"card"},qR={class:"card-body"},zR={key:0,class:"space-y-3"},WR={class:"flex items-center"},GR={class:"font-medium text-secondary-700"},KR={class:"text-xl font-bold text-secondary-900"},YR={class:"card"},XR={class:"card-body"},JR={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},QR={class:"flex items-center"},ZR={class:"w-8 h-8 rounded-full bg-primary-600 text-white flex items-center justify-center text-sm font-bold mr-3"},eI={class:"font-medium text-secondary-700"},tI={class:"text-lg font-bold text-primary-600"},sI={class:"card"},nI={class:"card-header"},oI={class:"flex items-center justify-between"},rI={key:0,class:"text-sm text-secondary-600"},aI={class:"card-body"},iI={key:0,class:"space-y-3"},lI={class:"flex items-center"},cI={class:"w-8 h-8 rounded-full bg-success text-white flex items-center justify-center text-sm font-bold mr-3"},dI={class:"font-medium text-secondary-700"},uI={class:"text-lg font-bold text-success"},fI={key:1,class:"card border-l-4 border-red-500"},mI={class:"card-body"},pI={class:"flex items-center"},hI={class:"text-red-600"};function gI(t,e,n,s,r,a){var v,x,C,S,B,E;const i=$("ArrowLeftIcon"),l=$("ArrowPathIcon"),c=$("UserGroupIcon"),d=$("ClipboardDocumentListIcon"),u=$("ClockIcon"),f=$("CheckCircleIcon"),m=$("BeakerIcon"),g=$("CubeIcon"),p=$("ExclamationTriangleIcon");return y(),_("div",sR,[o("header",nR,[o("div",oR,[o("div",rR,[o("div",aR,[o("button",{onClick:e[0]||(e[0]=A=>t.$router.go(-1)),class:"flex items-center text-secondary-600 hover:text-secondary-900 transition-colors"},[I(i,{class:"h-5 w-5 mr-2"}),e[2]||(e[2]=N(" Volver ",-1))]),e[3]||(e[3]=o("h1",{class:"text-xl font-bold text-secondary-900"}," 📊 Reportes y Estadísticas ",-1))]),o("div",iR,[o("button",{onClick:e[1]||(e[1]=(...A)=>s.refreshData&&s.refreshData(...A)),disabled:s.isLoading,class:"btn-secondary text-sm"},[I(l,{class:ee(["h-4 w-4 mr-2",{"animate-spin":s.isLoading}])},null,8,["class"]),e[4]||(e[4]=N(" Actualizar ",-1))],8,lR)])])])]),o("main",cR,[o("div",dR,[s.dashboardData?(y(),_("div",uR,[o("div",fR,[o("div",mR,[o("div",pR,[o("div",hR,[I(c,{class:"h-6 w-6 text-blue-500"})]),o("div",gR,[e[5]||(e[5]=o("p",{class:"text-sm font-medium text-secondary-600"},"Total Pacientes",-1)),o("p",vR,h(s.dashboardData.total_pacientes||0),1)])])])]),o("div",yR,[o("div",_R,[o("div",bR,[o("div",xR,[I(d,{class:"h-6 w-6 text-primary-600"})]),o("div",wR,[e[6]||(e[6]=o("p",{class:"text-sm font-medium text-secondary-600"},"Total Recetas",-1)),o("p",CR,h(s.dashboardData.total_recetas||0),1)])])])]),o("div",ER,[o("div",kR,[o("div",SR,[o("div",AR,[I(u,{class:"h-6 w-6 text-warning"})]),o("div",RR,[e[7]||(e[7]=o("p",{class:"text-sm font-medium text-secondary-600"},"Pendientes",-1)),o("p",IR,h(s.dashboardData.recetas_pendientes||0),1)])])])]),o("div",TR,[o("div",PR,[o("div",DR,[o("div",$R,[I(f,{class:"h-6 w-6 text-success"})]),o("div",MR,[e[8]||(e[8]=o("p",{class:"text-sm font-medium text-secondary-600"},"Completadas Hoy",-1)),o("p",OR,h(s.dashboardData.recetas_completadas_hoy||0),1)])])])])])):O("",!0),o("div",NR,[o("div",LR,[e[9]||(e[9]=o("div",{class:"card-header"},[o("h3",{class:"text-lg font-semibold text-secondary-900"},"Distribución por Estado")],-1)),o("div",UR,[(v=s.dashboardData)!=null&&v.recetas_por_estado?(y(),_("div",jR,[(y(!0),_(he,null,Re(s.dashboardData.recetas_por_estado,(A,k)=>(y(),_("div",{key:k,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[o("div",BR,[o("div",{class:ee(["w-3 h-3 rounded-full mr-3",s.getStatusColor(k)])},null,2),o("span",FR,h(s.getStatusLabel(k)),1)]),o("span",VR,h(A),1)]))),128))])):O("",!0)])]),o("div",HR,[e[10]||(e[10]=o("div",{class:"card-header"},[o("h3",{class:"text-lg font-semibold text-secondary-900"},"Distribución por Tipo")],-1)),o("div",qR,[(x=s.dashboardData)!=null&&x.recetas_por_tipo?(y(),_("div",zR,[(y(!0),_(he,null,Re(s.dashboardData.recetas_por_tipo,(A,k)=>(y(),_("div",{key:k,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[o("div",WR,[k==="FARMACIA"?(y(),_e(m,{key:0,class:"h-5 w-5 mr-3 text-blue-500"})):(y(),_e(g,{key:1,class:"h-5 w-5 mr-3 text-purple-500"})),o("span",GR,h(k),1)]),o("span",KR,h(A),1)]))),128))])):O("",!0)])])]),o("div",YR,[e[11]||(e[11]=o("div",{class:"card-header"},[o("h3",{class:"text-lg font-semibold text-secondary-900"},"Servicios Más Activos")],-1)),o("div",XR,[(C=s.dashboardData)!=null&&C.servicios_mas_activos?(y(),_("div",JR,[(y(!0),_(he,null,Re(s.dashboardData.servicios_mas_activos.slice(0,9),(A,k)=>(y(),_("div",{key:A.servicio_solicitante,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[o("div",QR,[o("div",ZR,h(k+1),1),o("span",eI,h(A.servicio_solicitante),1)]),o("span",tI,h(A.count),1)]))),128))])):O("",!0)])]),o("div",sI,[o("div",nI,[o("div",oI,[e[12]||(e[12]=o("h3",{class:"text-lg font-semibold text-secondary-900"},"Top 10 Medicamentos Más Dispensados",-1)),(S=s.dashboardData)!=null&&S.tiempo_promedio_dispensacion?(y(),_("span",rI," Tiempo promedio: "+h(s.dashboardData.tiempo_promedio_dispensacion)+" horas ",1)):O("",!0)])]),o("div",aI,[(B=s.dashboardData)!=null&&B.medicamentos_mas_dispensados?(y(),_("div",iI,[(y(!0),_(he,null,Re(s.dashboardData.medicamentos_mas_dispensados.slice(0,10),(A,k)=>(y(),_("div",{key:A.medicamento,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[o("div",lI,[o("div",cI,h(k+1),1),o("span",dI,h(A.medicamento),1)]),o("span",uI,h(A.cantidad),1)]))),128))])):O("",!0)])]),((E=s.dashboardData)==null?void 0:E.recetas_urgentes)>0?(y(),_("div",fI,[o("div",mI,[o("div",pI,[I(p,{class:"h-8 w-8 text-red-500 mr-4"}),o("div",null,[e[13]||(e[13]=o("h3",{class:"text-lg font-semibold text-red-700"},"Atención Requerida",-1)),o("p",hI,h(s.dashboardData.recetas_urgentes)+" recetas requieren atención urgente ",1)])])])])):O("",!0)])])])}const vI=Se(tR,[["render",gI]]),yI={name:"Inventario",components:{ArrowLeftIcon:Zt,ArrowPathIcon:Ps,PlusIcon:Bn,CubeIcon:Js,CheckCircleIcon:Ut,ExclamationTriangleIcon:Je,XCircleIcon:kd},setup(){const t=$e(),e=U([]),n=U({}),s=U(!1),r=U(!1),a=U(!1),i=U(""),l=U(""),c=U(""),d=U({name:"",code:"",category:"",minimum_stock:10,unit_cost:0}),u=ne(()=>{let T=e.value;if(i.value){const M=i.value.toLowerCase();T=T.filter(L=>L.name.toLowerCase().includes(M)||L.code.toLowerCase().includes(M))}return l.value&&(T=T.filter(M=>M.category===l.value)),c.value&&(T=T.filter(M=>{const L=M.current_stock||0,D=M.minimum_stock||0;switch(c.value){case"normal":return L>D;case"bajo":return L<=D&&L>0;case"agotado":return L===0;default:return!0}})),T}),f=ne(()=>e.value.length),m=ne(()=>e.value.filter(T=>(T.current_stock||0)>0).length),g=ne(()=>e.value.filter(T=>{const M=T.current_stock||0,L=T.minimum_stock||0;return M<=L&&M>0}).length),p=ne(()=>e.value.filter(T=>(T.current_stock||0)===0).length),v=T=>{const M=T.current_stock||0,L=T.minimum_stock||0;return M===0?"bg-red-100 text-red-800":M<=L?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"},x=T=>{const M=T.current_stock||0,L=T.minimum_stock||0;return M===0?"Sin stock":M<=L?"Stock bajo":"Normal"},C=async()=>{try{s.value=!0;const T=await ge.get("/inventory/medicamentos/",{params:{search:i.value,categoria:l.value,stock_filter:c.value}});e.value=T.data.medicamentos||[],n.value=T.data.estadisticas||{}}catch(T){console.error("Error loading medicamentos:",T),t.error("Error al cargar los medicamentos")}finally{s.value=!1}},S=async()=>{try{r.value=!0;const T=Math.max(...e.value.map(M=>M.id))+1;e.value.push({...d.value,id:T,current_stock:0}),t.success("Medicamento agregado correctamente"),a.value=!1,d.value={name:"",code:"",category:"",minimum_stock:10,unit_cost:0}}catch(T){console.error("Error adding medicamento:",T),t.error("Error al agregar el medicamento")}finally{r.value=!1}},B=T=>{t.info("Función de edición en desarrollo")},E=T=>{t.info("Función de ajuste de stock en desarrollo")},A=()=>{C(),t.info("Actualizando inventario...")},k=()=>{i.value="",l.value="",c.value=""};return je(()=>{C()}),{medicamentos:e,filteredMedicamentos:u,isLoading:s,isAddingMedicamento:r,showAddMedicationModal:a,searchTerm:i,selectedCategory:l,stockFilter:c,newMedicamento:d,totalMedicamentos:f,medicamentosEnStock:m,medicamentosStockBajo:g,medicamentosAgotados:p,getStockStatusClass:v,getStockStatusLabel:x,addMedicamento:S,editMedicamento:B,adjustStock:E,refreshInventory:A,clearFilters:k}}},_I={class:"min-h-screen bg-background-main"},bI={class:"sticky-header"},xI={class:"px-6 py-4"},wI={class:"flex items-center justify-between"},CI={class:"flex items-center space-x-4"},EI={class:"flex items-center space-x-4"},kI=["disabled"],SI={class:"scrollable-content p-6"},AI={class:"max-w-7xl mx-auto space-y-6"},RI={class:"card"},II={class:"card-body"},TI={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},PI={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},DI={class:"card"},$I={class:"card-body"},MI={class:"flex items-center"},OI={class:"p-3 rounded-lg bg-blue-500 bg-opacity-20"},NI={class:"ml-4"},LI={class:"text-3xl font-bold text-secondary-900"},UI={class:"card"},jI={class:"card-body"},BI={class:"flex items-center"},FI={class:"p-3 rounded-lg bg-success bg-opacity-20"},VI={class:"ml-4"},HI={class:"text-3xl font-bold text-secondary-900"},qI={class:"card"},zI={class:"card-body"},WI={class:"flex items-center"},GI={class:"p-3 rounded-lg bg-warning bg-opacity-20"},KI={class:"ml-4"},YI={class:"text-3xl font-bold text-secondary-900"},XI={class:"card"},JI={class:"card-body"},QI={class:"flex items-center"},ZI={class:"p-3 rounded-lg bg-red-500 bg-opacity-20"},e8={class:"ml-4"},t8={class:"text-3xl font-bold text-secondary-900"},s8={class:"card"},n8={class:"card-body p-0"},o8={key:0,class:"p-8 text-center"},r8={key:1,class:"p-8 text-center"},a8={key:2,class:"overflow-x-auto"},i8={class:"min-w-full divide-y divide-secondary-200"},l8={class:"bg-white divide-y divide-secondary-200"},c8={class:"px-6 py-4 whitespace-nowrap"},d8={class:"text-sm font-medium text-secondary-900"},u8={class:"text-sm text-secondary-600"},f8={class:"px-6 py-4 whitespace-nowrap"},m8={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},p8={class:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900"},h8={class:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900"},g8={class:"px-6 py-4 whitespace-nowrap"},v8={class:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900"},y8={class:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2"},_8=["onClick"],b8=["onClick"],x8={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},w8={class:"flex items-center justify-center min-h-screen px-4"},C8={class:"relative bg-white rounded-lg shadow-xl max-w-lg w-full"},E8={class:"px-6 py-4"},k8={class:"grid grid-cols-2 gap-4"},S8={class:"flex justify-end space-x-3 pt-4"},A8=["disabled"];function R8(t,e,n,s,r,a){const i=$("ArrowLeftIcon"),l=$("PlusIcon"),c=$("ArrowPathIcon"),d=$("CubeIcon"),u=$("CheckCircleIcon"),f=$("ExclamationTriangleIcon"),m=$("XCircleIcon");return y(),_("div",_I,[o("header",bI,[o("div",xI,[o("div",wI,[o("div",CI,[o("button",{onClick:e[0]||(e[0]=g=>t.$router.go(-1)),class:"flex items-center text-secondary-600 hover:text-secondary-900 transition-colors"},[I(i,{class:"h-5 w-5 mr-2"}),e[15]||(e[15]=N(" Volver ",-1))]),e[16]||(e[16]=o("h1",{class:"text-xl font-bold text-secondary-900"}," 📦 Gestión de Inventario ",-1))]),o("div",EI,[o("button",{onClick:e[1]||(e[1]=g=>s.showAddMedicationModal=!0),class:"btn-primary text-sm"},[I(l,{class:"h-4 w-4 mr-2"}),e[17]||(e[17]=N(" Agregar Medicamento ",-1))]),o("button",{onClick:e[2]||(e[2]=(...g)=>s.refreshInventory&&s.refreshInventory(...g)),disabled:s.isLoading,class:"btn-secondary text-sm"},[I(c,{class:ee(["h-4 w-4 mr-2",{"animate-spin":s.isLoading}])},null,8,["class"]),e[18]||(e[18]=N(" Actualizar ",-1))],8,kI)])])])]),o("main",SI,[o("div",AI,[o("div",RI,[o("div",II,[o("div",TI,[o("div",null,[e[19]||(e[19]=o("label",{class:"block text-sm font-medium text-secondary-700 mb-2"}," Buscar medicamento ",-1)),Y(o("input",{"onUpdate:modelValue":e[3]||(e[3]=g=>s.searchTerm=g),type:"text",placeholder:"Nombre o clave...",class:"form-input w-full"},null,512),[[ie,s.searchTerm]])]),o("div",null,[e[21]||(e[21]=o("label",{class:"block text-sm font-medium text-secondary-700 mb-2"}," Categoría ",-1)),Y(o("select",{"onUpdate:modelValue":e[4]||(e[4]=g=>s.selectedCategory=g),class:"form-select w-full"},e[20]||(e[20]=[Ke('<option value="">Todas las categorías</option><option value="ANALGESICO">Analgésico</option><option value="ANTIBIOTICO">Antibiótico</option><option value="CARDIOVASCULAR">Cardiovascular</option><option value="ENDOCRINO">Endócrino</option><option value="NEUROLOGICO">Neurológico</option><option value="ONCOLOGICO">Oncológico</option>',7)]),512),[[Ne,s.selectedCategory]])]),o("div",null,[e[23]||(e[23]=o("label",{class:"block text-sm font-medium text-secondary-700 mb-2"}," Estado de stock ",-1)),Y(o("select",{"onUpdate:modelValue":e[5]||(e[5]=g=>s.stockFilter=g),class:"form-select w-full"},e[22]||(e[22]=[o("option",{value:""},"Todos",-1),o("option",{value:"normal"},"Stock normal",-1),o("option",{value:"bajo"},"Stock bajo",-1),o("option",{value:"agotado"},"Sin stock",-1)]),512),[[Ne,s.stockFilter]])]),o("div",null,[e[24]||(e[24]=o("label",{class:"block text-sm font-medium text-secondary-700 mb-2"}," Acción ",-1)),o("button",{onClick:e[6]||(e[6]=(...g)=>s.clearFilters&&s.clearFilters(...g)),class:"btn-secondary w-full"}," Limpiar Filtros ")])])])]),o("div",PI,[o("div",DI,[o("div",$I,[o("div",MI,[o("div",OI,[I(d,{class:"h-6 w-6 text-blue-500"})]),o("div",NI,[e[25]||(e[25]=o("p",{class:"text-sm font-medium text-secondary-600"},"Total Medicamentos",-1)),o("p",LI,h(s.totalMedicamentos),1)])])])]),o("div",UI,[o("div",jI,[o("div",BI,[o("div",FI,[I(u,{class:"h-6 w-6 text-success"})]),o("div",VI,[e[26]||(e[26]=o("p",{class:"text-sm font-medium text-secondary-600"},"En Stock",-1)),o("p",HI,h(s.medicamentosEnStock),1)])])])]),o("div",qI,[o("div",zI,[o("div",WI,[o("div",GI,[I(f,{class:"h-6 w-6 text-warning"})]),o("div",KI,[e[27]||(e[27]=o("p",{class:"text-sm font-medium text-secondary-600"},"Stock Bajo",-1)),o("p",YI,h(s.medicamentosStockBajo),1)])])])]),o("div",XI,[o("div",JI,[o("div",QI,[o("div",ZI,[I(m,{class:"h-6 w-6 text-red-500"})]),o("div",e8,[e[28]||(e[28]=o("p",{class:"text-sm font-medium text-secondary-600"},"Sin Stock",-1)),o("p",t8,h(s.medicamentosAgotados),1)])])])])]),o("div",s8,[e[33]||(e[33]=o("div",{class:"card-header"},[o("h3",{class:"text-lg font-semibold text-secondary-900"},"Inventario de Medicamentos")],-1)),o("div",n8,[s.isLoading?(y(),_("div",o8,e[29]||(e[29]=[o("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"},null,-1),o("p",{class:"mt-2 text-secondary-600"},"Cargando inventario...",-1)]))):s.filteredMedicamentos.length===0?(y(),_("div",r8,[I(d,{class:"mx-auto h-12 w-12 text-secondary-400"}),e[30]||(e[30]=o("h3",{class:"mt-2 text-lg font-medium text-secondary-900"},"Sin resultados",-1)),e[31]||(e[31]=o("p",{class:"mt-1 text-secondary-600"},"No se encontraron medicamentos con los filtros aplicados.",-1))])):(y(),_("div",a8,[o("table",i8,[e[32]||(e[32]=o("thead",{class:"bg-secondary-50"},[o("tr",null,[o("th",{class:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider"}," Medicamento "),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider"}," Categoría "),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider"}," Stock Actual "),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider"}," Stock Mínimo "),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider"}," Estado "),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider"}," Costo Unitario "),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider"}," Acciones ")])],-1)),o("tbody",l8,[(y(!0),_(he,null,Re(s.filteredMedicamentos,g=>(y(),_("tr",{key:g.id},[o("td",c8,[o("div",null,[o("div",d8,h(g.name),1),o("div",u8,h(g.code),1)])]),o("td",f8,[o("span",m8,h(g.category),1)]),o("td",p8,h(g.current_stock||0),1),o("td",h8,h(g.minimum_stock),1),o("td",g8,[o("span",{class:ee(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",s.getStockStatusClass(g)])},h(s.getStockStatusLabel(g)),3)]),o("td",v8," $"+h(g.unit_cost),1),o("td",y8,[o("button",{onClick:p=>s.editMedicamento(g),class:"text-primary-600 hover:text-primary-900"}," Editar ",8,_8),o("button",{onClick:p=>s.adjustStock(g),class:"text-green-600 hover:text-green-900"}," Ajustar Stock ",8,b8)])]))),128))])])]))])])])]),s.showAddMedicationModal?(y(),_("div",x8,[o("div",w8,[o("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:e[7]||(e[7]=g=>s.showAddMedicationModal=!1)}),o("div",C8,[e[40]||(e[40]=o("div",{class:"px-6 py-4 border-b border-gray-200"},[o("h3",{class:"text-lg font-semibold text-secondary-900"},"Agregar Nuevo Medicamento")],-1)),o("div",E8,[o("form",{onSubmit:e[14]||(e[14]=dt((...g)=>s.addMedicamento&&s.addMedicamento(...g),["prevent"])),class:"space-y-4"},[o("div",null,[e[34]||(e[34]=o("label",{class:"block text-sm font-medium text-secondary-700 mb-2"}," Nombre del Medicamento ",-1)),Y(o("input",{"onUpdate:modelValue":e[8]||(e[8]=g=>s.newMedicamento.name=g),type:"text",required:"",class:"form-input w-full",placeholder:"Ej. Paracetamol 500mg"},null,512),[[ie,s.newMedicamento.name]])]),o("div",null,[e[35]||(e[35]=o("label",{class:"block text-sm font-medium text-secondary-700 mb-2"}," Código ",-1)),Y(o("input",{"onUpdate:modelValue":e[9]||(e[9]=g=>s.newMedicamento.code=g),type:"text",required:"",class:"form-input w-full",placeholder:"Ej. PAR-500"},null,512),[[ie,s.newMedicamento.code]])]),o("div",null,[e[37]||(e[37]=o("label",{class:"block text-sm font-medium text-secondary-700 mb-2"}," Categoría ",-1)),Y(o("select",{"onUpdate:modelValue":e[10]||(e[10]=g=>s.newMedicamento.category=g),required:"",class:"form-select w-full"},e[36]||(e[36]=[Ke('<option value="">Seleccionar categoría</option><option value="ANALGESICO">Analgésico</option><option value="ANTIBIOTICO">Antibiótico</option><option value="CARDIOVASCULAR">Cardiovascular</option><option value="ENDOCRINO">Endócrino</option><option value="NEUROLOGICO">Neurológico</option><option value="ONCOLOGICO">Oncológico</option>',7)]),512),[[Ne,s.newMedicamento.category]])]),o("div",k8,[o("div",null,[e[38]||(e[38]=o("label",{class:"block text-sm font-medium text-secondary-700 mb-2"}," Stock Mínimo ",-1)),Y(o("input",{"onUpdate:modelValue":e[11]||(e[11]=g=>s.newMedicamento.minimum_stock=g),type:"number",min:"0",required:"",class:"form-input w-full"},null,512),[[ie,s.newMedicamento.minimum_stock,void 0,{number:!0}]])]),o("div",null,[e[39]||(e[39]=o("label",{class:"block text-sm font-medium text-secondary-700 mb-2"}," Costo Unitario ",-1)),Y(o("input",{"onUpdate:modelValue":e[12]||(e[12]=g=>s.newMedicamento.unit_cost=g),type:"number",step:"0.01",min:"0",required:"",class:"form-input w-full"},null,512),[[ie,s.newMedicamento.unit_cost,void 0,{number:!0}]])])]),o("div",S8,[o("button",{type:"button",onClick:e[13]||(e[13]=g=>s.showAddMedicationModal=!1),class:"btn-secondary"}," Cancelar "),o("button",{type:"submit",disabled:s.isAddingMedicamento,class:"btn-primary"},h(s.isAddingMedicamento?"Agregando...":"Agregar"),9,A8)])],32)])])])])):O("",!0)])}const I8=Se(yI,[["render",R8]]),T8={name:"Notificaciones",components:{ArrowLeftIcon:Zt,ArrowPathIcon:Ps,BellIcon:yo,ExclamationCircleIcon:Cd,ExclamationTriangleIcon:Je,ClipboardDocumentListIcon:Fr,CubeIcon:Js,CogIcon:Wi},setup(){const t=$e(),e=U([]),n=U(!1),s=U(""),r=U(""),a=U({recetas_pendientes:!0,stock_bajo:!0,sistema:!1}),i=ne(()=>{let k=e.value;return s.value&&(k=k.filter(T=>T.type===s.value)),r.value&&(r.value==="read"?k=k.filter(T=>T.is_read):r.value==="unread"&&(k=k.filter(T=>!T.is_read))),k.sort((T,M)=>new Date(M.created_at)-new Date(T.created_at))}),l=ne(()=>e.value.filter(k=>!k.is_read).length),c=ne(()=>e.value.filter(k=>k.type==="URGENTE"&&!k.is_read).length),d=k=>({RECETA_PENDIENTE:Fr,STOCK_BAJO:Js,SISTEMA:Wi,URGENTE:Je})[k]||yo,u=k=>({RECETA_PENDIENTE:"bg-blue-100 text-blue-600",STOCK_BAJO:"bg-yellow-100 text-yellow-600",SISTEMA:"bg-gray-100 text-gray-600",URGENTE:"bg-red-100 text-red-600"})[k]||"bg-gray-100 text-gray-600",f=k=>({RECETA_PENDIENTE:"bg-blue-100 text-blue-800",STOCK_BAJO:"bg-yellow-100 text-yellow-800",SISTEMA:"bg-gray-100 text-gray-800",URGENTE:"bg-red-100 text-red-800"})[k]||"bg-gray-100 text-gray-800",m=k=>({RECETA_PENDIENTE:"Receta",STOCK_BAJO:"Stock",SISTEMA:"Sistema",URGENTE:"Urgente"})[k]||k,g=k=>{try{return St(new Date(k),"dd/MM/yyyy HH:mm",{locale:jt})}catch{return k}},p=async()=>{try{n.value=!0,e.value=v()}catch(k){console.error("Error loading notifications:",k),t.error("Error al cargar las notificaciones")}finally{n.value=!1}},v=()=>{const k=new Date;return[{id:1,type:"RECETA_PENDIENTE",title:"Nueva receta pendiente de validación",message:"La receta #105 del paciente Juan Pérez requiere validación",is_read:!1,created_at:new Date(k-2*60*1e3).toISOString(),action_url:"/validacion"},{id:2,type:"STOCK_BAJO",title:"Stock bajo: Paracetamol 500mg",message:"Quedan solo 15 unidades en inventario. Stock mínimo: 20",is_read:!1,created_at:new Date(k-15*60*1e3).toISOString(),action_url:"/inventario"},{id:3,type:"URGENTE",title:"Receta urgente sin dispensar",message:"La receta #103 está marcada como urgente y lleva 2 horas sin dispensar",is_read:!1,created_at:new Date(k-30*60*1e3).toISOString(),action_url:"/farmacia"},{id:4,type:"SISTEMA",title:"Mantenimiento programado",message:"El sistema estará en mantenimiento el domingo de 2:00 AM a 4:00 AM",is_read:!0,created_at:new Date(k-2*60*60*1e3).toISOString(),action_url:null},{id:5,type:"RECETA_PENDIENTE",title:"Múltiples recetas pendientes",message:"Hay 8 recetas pendientes de validación desde hace más de 1 hora",is_read:!0,created_at:new Date(k-3*60*60*1e3).toISOString(),action_url:"/validacion"}]},x=async k=>{k.is_read||(k.is_read=!0,t.success("Notificación marcada como leída"))},C=async()=>{e.value.forEach(k=>{k.is_read=!0}),t.success("Todas las notificaciones marcadas como leídas")},S=k=>{k.action_url&&this.$router.push(k.action_url)},B=async()=>{try{t.success("Preferencias actualizadas")}catch(k){console.error("Error updating preferences:",k),t.error("Error al actualizar las preferencias")}},E=()=>{p(),t.info("Actualizando notificaciones...")},A=()=>{s.value="",r.value=""};return je(()=>{p()}),{notifications:e,filteredNotifications:i,isLoading:n,selectedType:s,readFilter:r,preferences:a,unreadCount:l,urgentCount:c,getNotificationIcon:d,getNotificationIconClass:u,getTypeClass:f,getTypeLabel:m,formatDate:g,markAsRead:x,markAllAsRead:C,handleAction:S,updatePreferences:B,refreshNotifications:E,clearFilters:A}}},P8={class:"min-h-screen bg-background-main"},D8={class:"sticky-header"},$8={class:"px-6 py-4"},M8={class:"flex items-center justify-between"},O8={class:"flex items-center space-x-4"},N8={class:"flex items-center space-x-4"},L8=["disabled"],U8={class:"scrollable-content p-6"},j8={class:"max-w-4xl mx-auto space-y-6"},B8={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},F8={class:"card"},V8={class:"card-body"},H8={class:"flex items-center"},q8={class:"p-3 rounded-lg bg-blue-500 bg-opacity-20"},z8={class:"ml-4"},W8={class:"text-3xl font-bold text-secondary-900"},G8={class:"card"},K8={class:"card-body"},Y8={class:"flex items-center"},X8={class:"p-3 rounded-lg bg-warning bg-opacity-20"},J8={class:"ml-4"},Q8={class:"text-3xl font-bold text-secondary-900"},Z8={class:"card"},eT={class:"card-body"},tT={class:"flex items-center"},sT={class:"p-3 rounded-lg bg-red-500 bg-opacity-20"},nT={class:"ml-4"},oT={class:"text-3xl font-bold text-secondary-900"},rT={class:"card"},aT={class:"card-body"},iT={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},lT={class:"card"},cT={class:"card-body p-0"},dT={key:0,class:"p-8 text-center"},uT={key:1,class:"p-8 text-center"},fT={key:2,class:"divide-y divide-secondary-200"},mT=["onClick"],pT={class:"flex items-start"},hT={class:"flex-shrink-0"},gT={class:"ml-4 flex-1"},vT={class:"flex items-center justify-between"},yT={class:"text-sm font-medium text-secondary-900"},_T={class:"flex items-center space-x-2"},bT={key:0,class:"w-2 h-2 bg-blue-500 rounded-full"},xT={class:"mt-1 text-sm text-secondary-600"},wT={class:"mt-2 flex items-center justify-between"},CT={class:"text-xs text-secondary-500"},ET={key:0,class:"flex space-x-2"},kT=["onClick"],ST={class:"card"},AT={class:"card-body"},RT={class:"space-y-4"},IT={class:"flex items-center justify-between"},TT={class:"relative inline-flex items-center cursor-pointer"},PT={class:"flex items-center justify-between"},DT={class:"relative inline-flex items-center cursor-pointer"},$T={class:"flex items-center justify-between"},MT={class:"relative inline-flex items-center cursor-pointer"};function OT(t,e,n,s,r,a){const i=$("ArrowLeftIcon"),l=$("ArrowPathIcon"),c=$("BellIcon"),d=$("ExclamationCircleIcon"),u=$("ExclamationTriangleIcon");return y(),_("div",P8,[o("header",D8,[o("div",$8,[o("div",M8,[o("div",O8,[o("button",{onClick:e[0]||(e[0]=f=>t.$router.go(-1)),class:"flex items-center text-secondary-600 hover:text-secondary-900 transition-colors"},[I(i,{class:"h-5 w-5 mr-2"}),e[12]||(e[12]=N(" Volver ",-1))]),e[13]||(e[13]=o("h1",{class:"text-xl font-bold text-secondary-900"}," 🔔 Centro de Notificaciones ",-1))]),o("div",N8,[s.unreadCount>0?(y(),_("button",{key:0,onClick:e[1]||(e[1]=(...f)=>s.markAllAsRead&&s.markAllAsRead(...f)),class:"btn-secondary text-sm"}," Marcar todo como leído ")):O("",!0),o("button",{onClick:e[2]||(e[2]=(...f)=>s.refreshNotifications&&s.refreshNotifications(...f)),disabled:s.isLoading,class:"btn-secondary text-sm"},[I(l,{class:ee(["h-4 w-4 mr-2",{"animate-spin":s.isLoading}])},null,8,["class"]),e[14]||(e[14]=N(" Actualizar ",-1))],8,L8)])])])]),o("main",U8,[o("div",j8,[o("div",B8,[o("div",F8,[o("div",V8,[o("div",H8,[o("div",q8,[I(c,{class:"h-6 w-6 text-blue-500"})]),o("div",z8,[e[15]||(e[15]=o("p",{class:"text-sm font-medium text-secondary-600"},"Total Notificaciones",-1)),o("p",W8,h(s.notifications.length),1)])])])]),o("div",G8,[o("div",K8,[o("div",Y8,[o("div",X8,[I(d,{class:"h-6 w-6 text-warning"})]),o("div",J8,[e[16]||(e[16]=o("p",{class:"text-sm font-medium text-secondary-600"},"Sin Leer",-1)),o("p",Q8,h(s.unreadCount),1)])])])]),o("div",Z8,[o("div",eT,[o("div",tT,[o("div",sT,[I(u,{class:"h-6 w-6 text-red-500"})]),o("div",nT,[e[17]||(e[17]=o("p",{class:"text-sm font-medium text-secondary-600"},"Urgentes",-1)),o("p",oT,h(s.urgentCount),1)])])])])]),o("div",rT,[o("div",aT,[o("div",iT,[o("div",null,[e[19]||(e[19]=o("label",{class:"block text-sm font-medium text-secondary-700 mb-2"}," Filtrar por tipo ",-1)),Y(o("select",{"onUpdate:modelValue":e[3]||(e[3]=f=>s.selectedType=f),class:"form-select w-full"},e[18]||(e[18]=[Ke('<option value="">Todos los tipos</option><option value="RECETA_PENDIENTE">Receta Pendiente</option><option value="STOCK_BAJO">Stock Bajo</option><option value="SISTEMA">Sistema</option><option value="URGENTE">Urgente</option>',5)]),512),[[Ne,s.selectedType]])]),o("div",null,[e[21]||(e[21]=o("label",{class:"block text-sm font-medium text-secondary-700 mb-2"}," Estado ",-1)),Y(o("select",{"onUpdate:modelValue":e[4]||(e[4]=f=>s.readFilter=f),class:"form-select w-full"},e[20]||(e[20]=[o("option",{value:""},"Todas",-1),o("option",{value:"unread"},"Sin leer",-1),o("option",{value:"read"},"Leídas",-1)]),512),[[Ne,s.readFilter]])]),o("div",null,[e[22]||(e[22]=o("label",{class:"block text-sm font-medium text-secondary-700 mb-2"}," Acción ",-1)),o("button",{onClick:e[5]||(e[5]=(...f)=>s.clearFilters&&s.clearFilters(...f)),class:"btn-secondary w-full"}," Limpiar Filtros ")])])])]),o("div",lT,[e[26]||(e[26]=o("div",{class:"card-header"},[o("h3",{class:"text-lg font-semibold text-secondary-900"},"Notificaciones")],-1)),o("div",cT,[s.isLoading?(y(),_("div",dT,e[23]||(e[23]=[o("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"},null,-1),o("p",{class:"mt-2 text-secondary-600"},"Cargando notificaciones...",-1)]))):s.filteredNotifications.length===0?(y(),_("div",uT,[I(c,{class:"mx-auto h-12 w-12 text-secondary-400"}),e[24]||(e[24]=o("h3",{class:"mt-2 text-lg font-medium text-secondary-900"},"Sin notificaciones",-1)),e[25]||(e[25]=o("p",{class:"mt-1 text-secondary-600"},"No tienes notificaciones con los filtros aplicados.",-1))])):(y(),_("div",fT,[(y(!0),_(he,null,Re(s.filteredNotifications,f=>(y(),_("div",{key:f.id,class:ee(["p-6 hover:bg-secondary-50 transition-colors cursor-pointer",{"bg-blue-50":!f.is_read}]),onClick:m=>s.markAsRead(f)},[o("div",pT,[o("div",hT,[o("div",{class:ee(["w-10 h-10 rounded-full flex items-center justify-center",s.getNotificationIconClass(f.type)])},[(y(),_e(Mn(s.getNotificationIcon(f.type)),{class:"h-5 w-5"}))],2)]),o("div",gT,[o("div",vT,[o("p",yT,h(f.title),1),o("div",_T,[o("span",{class:ee(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",s.getTypeClass(f.type)])},h(s.getTypeLabel(f.type)),3),f.is_read?O("",!0):(y(),_("span",bT))])]),o("p",xT,h(f.message),1),o("div",wT,[o("p",CT,h(s.formatDate(f.created_at)),1),f.action_url?(y(),_("div",ET,[o("button",{onClick:dt(m=>s.handleAction(f),["stop"]),class:"text-xs text-primary-600 hover:text-primary-900 font-medium"}," Ver detalles ",8,kT)])):O("",!0)])])])],10,mT))),128))]))])]),o("div",ST,[e[33]||(e[33]=o("div",{class:"card-header"},[o("h3",{class:"text-lg font-semibold text-secondary-900"},"Configuración de Notificaciones")],-1)),o("div",AT,[o("div",RT,[o("div",IT,[e[28]||(e[28]=o("div",null,[o("h4",{class:"text-sm font-medium text-secondary-900"},"Notificaciones de recetas pendientes"),o("p",{class:"text-sm text-secondary-600"},"Recibe alertas cuando hay recetas pendientes de validación")],-1)),o("label",TT,[Y(o("input",{"onUpdate:modelValue":e[6]||(e[6]=f=>s.preferences.recetas_pendientes=f),type:"checkbox",class:"sr-only peer",onChange:e[7]||(e[7]=(...f)=>s.updatePreferences&&s.updatePreferences(...f))},null,544),[[ir,s.preferences.recetas_pendientes]]),e[27]||(e[27]=o("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"},null,-1))])]),o("div",PT,[e[30]||(e[30]=o("div",null,[o("h4",{class:"text-sm font-medium text-secondary-900"},"Alertas de stock bajo"),o("p",{class:"text-sm text-secondary-600"},"Recibe notificaciones cuando el inventario esté bajo")],-1)),o("label",DT,[Y(o("input",{"onUpdate:modelValue":e[8]||(e[8]=f=>s.preferences.stock_bajo=f),type:"checkbox",class:"sr-only peer",onChange:e[9]||(e[9]=(...f)=>s.updatePreferences&&s.updatePreferences(...f))},null,544),[[ir,s.preferences.stock_bajo]]),e[29]||(e[29]=o("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"},null,-1))])]),o("div",$T,[e[32]||(e[32]=o("div",null,[o("h4",{class:"text-sm font-medium text-secondary-900"},"Notificaciones del sistema"),o("p",{class:"text-sm text-secondary-600"},"Actualizaciones y mantenimiento del sistema")],-1)),o("label",MT,[Y(o("input",{"onUpdate:modelValue":e[10]||(e[10]=f=>s.preferences.sistema=f),type:"checkbox",class:"sr-only peer",onChange:e[11]||(e[11]=(...f)=>s.updatePreferences&&s.updatePreferences(...f))},null,544),[[ir,s.preferences.sistema]]),e[31]||(e[31]=o("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"},null,-1))])])])])])])])])}const NT=Se(T8,[["render",OT]]),LT={name:"Auditoria",components:{ArrowLeftIcon:Zt,ArrowPathIcon:Ps,DocumentArrowDownIcon:x1,DocumentTextIcon:As,CheckCircleIcon:Ut,ExclamationTriangleIcon:Je,UserGroupIcon:_o,ShieldCheckIcon:Vr},setup(){const t=$e(),e=U([]),n=U(!1),s=U({action:"",user:"",dateFrom:"",dateTo:""}),r=ne(()=>{let k=e.value;if(s.value.action&&(k=k.filter(T=>T.action===s.value.action)),s.value.user){const T=s.value.user.toLowerCase();k=k.filter(M=>M.user.toLowerCase().includes(T))}if(s.value.dateFrom){const T=new Date(s.value.dateFrom);k=k.filter(M=>new Date(M.timestamp)>=T)}if(s.value.dateTo){const T=new Date(s.value.dateTo+" 23:59:59");k=k.filter(M=>new Date(M.timestamp)<=T)}return k.sort((T,M)=>new Date(M.timestamp)-new Date(T.timestamp))}),a=ne(()=>{const k=new Date().toDateString();return e.value.filter(T=>new Date(T.timestamp).toDateString()===k).length}),i=ne(()=>e.value.filter(k=>k.status==="ERROR"||k.action==="DELETE").length),l=ne(()=>new Set(e.value.map(T=>T.user)).size),c=ne(()=>{const k={};return e.value.forEach(T=>{k[T.user]||(k[T.user]={count:0,role:T.user_role}),k[T.user].count++}),Object.entries(k).map(([T,M])=>({user:T,count:M.count,role:M.role})).sort((T,M)=>M.count-T.count).slice(0,5)}),d=ne(()=>{const k={};return e.value.forEach(T=>{k[T.action]=(k[T.action]||0)+1}),Object.entries(k).map(([T,M])=>({action:T,count:M})).sort((T,M)=>M.count-T.count).slice(0,5)}),u=k=>({CREATE:"bg-green-100 text-green-800",UPDATE:"bg-blue-100 text-blue-800",DELETE:"bg-red-100 text-red-800",LOGIN:"bg-purple-100 text-purple-800",LOGOUT:"bg-gray-100 text-gray-800",DISPENSE:"bg-yellow-100 text-yellow-800",VALIDATE:"bg-indigo-100 text-indigo-800"})[k]||"bg-gray-100 text-gray-800",f=k=>({CREATE:"Crear",UPDATE:"Actualizar",DELETE:"Eliminar",LOGIN:"Iniciar Sesión",LOGOUT:"Cerrar Sesión",DISPENSE:"Dispensar",VALIDATE:"Validar"})[k]||k,m=k=>({SUCCESS:"bg-green-100 text-green-800",ERROR:"bg-red-100 text-red-800",WARNING:"bg-yellow-100 text-yellow-800"})[k]||"bg-gray-100 text-gray-800",g=k=>({SUCCESS:"Éxito",ERROR:"Error",WARNING:"Advertencia"})[k]||k,p=k=>k.split(" ").map(T=>T[0]).join("").toUpperCase().slice(0,2),v=k=>{try{return St(new Date(k),"dd/MM/yyyy HH:mm:ss",{locale:jt})}catch{return k}},x=async()=>{try{n.value=!0,e.value=C()}catch(k){console.error("Error loading audit logs:",k),t.error("Error al cargar el registro de auditoría")}finally{n.value=!1}},C=()=>{const k=new Date,T=[{name:"admin",role:"ADMIN"},{name:"farmacia1",role:"FARMACIA"},{name:"atencion1",role:"ATENCION_USUARIO"},{name:"cmi1",role:"CMI"},{name:"medico1",role:"MEDICO"}],M=["CREATE","UPDATE","DELETE","LOGIN","LOGOUT","DISPENSE","VALIDATE"],L=["Paciente","Receta","Medicamento","Usuario"],D=["SUCCESS","ERROR","WARNING"],W=[];for(let q=1;q<=50;q++){const se=T[Math.floor(Math.random()*T.length)],ce=M[Math.floor(Math.random()*M.length)],te=L[Math.floor(Math.random()*L.length)],me=D[Math.floor(Math.random()*D.length)];W.push({id:q,timestamp:new Date(k-Math.random()*7*24*60*60*1e3).toISOString(),user:se.name,user_role:se.role,action:ce,entity_type:te,entity_id:Math.floor(Math.random()*1e3),details:`${f(ce)} ${te.toLowerCase()} #${Math.floor(Math.random()*1e3)}`,ip_address:`192.168.1.${Math.floor(Math.random()*255)}`,status:me})}return W},S=()=>{t.info("Filtros aplicados")},B=()=>{s.value={action:"",user:"",dateFrom:"",dateTo:""},t.info("Filtros limpiados")},E=()=>{t.success("Registro exportado correctamente")},A=()=>{x(),t.info("Actualizando registro de auditoría...")};return je(()=>{x()}),{auditLogs:e,filteredAuditLogs:r,isLoading:n,filters:s,eventosHoy:a,eventosCriticos:i,usuariosActivos:l,topUsers:c,topActions:d,getActionClass:u,getActionLabel:f,getStatusClass:m,getStatusLabel:g,getUserInitials:p,formatDateTime:v,applyFilters:S,clearFilters:B,exportAuditLog:E,refreshAuditLog:A}}},UT={class:"min-h-screen bg-background-main"},jT={class:"sticky-header"},BT={class:"px-6 py-4"},FT={class:"flex items-center justify-between"},VT={class:"flex items-center space-x-4"},HT={class:"flex items-center space-x-4"},qT=["disabled"],zT={class:"scrollable-content p-6"},WT={class:"max-w-7xl mx-auto space-y-6"},GT={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},KT={class:"card"},YT={class:"card-body"},XT={class:"flex items-center"},JT={class:"p-3 rounded-lg bg-blue-500 bg-opacity-20"},QT={class:"ml-4"},ZT={class:"text-3xl font-bold text-secondary-900"},e7={class:"card"},t7={class:"card-body"},s7={class:"flex items-center"},n7={class:"p-3 rounded-lg bg-success bg-opacity-20"},o7={class:"ml-4"},r7={class:"text-3xl font-bold text-secondary-900"},a7={class:"card"},i7={class:"card-body"},l7={class:"flex items-center"},c7={class:"p-3 rounded-lg bg-warning bg-opacity-20"},d7={class:"ml-4"},u7={class:"text-3xl font-bold text-secondary-900"},f7={class:"card"},m7={class:"card-body"},p7={class:"flex items-center"},h7={class:"p-3 rounded-lg bg-primary-600 bg-opacity-20"},g7={class:"ml-4"},v7={class:"text-3xl font-bold text-secondary-900"},y7={class:"card"},_7={class:"card-body"},b7={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},x7={class:"mt-4 flex space-x-3"},w7={class:"card"},C7={class:"card-body p-0"},E7={key:0,class:"p-8 text-center"},k7={key:1,class:"p-8 text-center"},S7={key:2,class:"overflow-x-auto"},A7={class:"min-w-full divide-y divide-secondary-200"},R7={class:"bg-white divide-y divide-secondary-200"},I7={class:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900"},T7={class:"px-6 py-4 whitespace-nowrap"},P7={class:"flex items-center"},D7={class:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center mr-3"},$7={class:"text-xs font-medium text-primary-700"},M7={class:"text-sm font-medium text-secondary-900"},O7={class:"text-xs text-secondary-600"},N7={class:"px-6 py-4 whitespace-nowrap"},L7={class:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900"},U7={key:0,class:"text-secondary-600"},j7={class:"px-6 py-4 text-sm text-secondary-600 max-w-xs truncate"},B7={class:"px-6 py-4 whitespace-nowrap text-sm text-secondary-600"},F7={class:"px-6 py-4 whitespace-nowrap"},V7={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},H7={class:"card"},q7={class:"card-body"},z7={key:0,class:"text-center py-8"},W7={key:1,class:"space-y-3"},G7={class:"flex items-center"},K7={class:"w-8 h-8 bg-primary-600 text-white rounded-full flex items-center justify-center text-sm font-bold mr-3"},Y7={class:"font-medium text-secondary-700"},X7={class:"text-xs text-secondary-600"},J7={class:"text-right"},Q7={class:"text-lg font-bold text-primary-600"},Z7={class:"card"},eP={class:"card-body"},tP={key:0,class:"text-center py-8"},sP={key:1,class:"space-y-3"},nP={class:"flex items-center"},oP={class:"w-8 h-8 bg-success text-white rounded-full flex items-center justify-center text-sm font-bold mr-3"},rP={class:"font-medium text-secondary-700"},aP={class:"text-lg font-bold text-success"};function iP(t,e,n,s,r,a){const i=$("ArrowLeftIcon"),l=$("DocumentArrowDownIcon"),c=$("ArrowPathIcon"),d=$("DocumentTextIcon"),u=$("CheckCircleIcon"),f=$("ExclamationTriangleIcon"),m=$("UserGroupIcon"),g=$("ShieldCheckIcon");return y(),_("div",UT,[o("header",jT,[o("div",BT,[o("div",FT,[o("div",VT,[o("button",{onClick:e[0]||(e[0]=p=>t.$router.go(-1)),class:"flex items-center text-secondary-600 hover:text-secondary-900 transition-colors"},[I(i,{class:"h-5 w-5 mr-2"}),e[9]||(e[9]=N(" Volver ",-1))]),e[10]||(e[10]=o("h1",{class:"text-xl font-bold text-secondary-900"}," 🛡️ Auditoría Avanzada ",-1))]),o("div",HT,[o("button",{onClick:e[1]||(e[1]=(...p)=>s.exportAuditLog&&s.exportAuditLog(...p)),class:"btn-secondary text-sm"},[I(l,{class:"h-4 w-4 mr-2"}),e[11]||(e[11]=N(" Exportar ",-1))]),o("button",{onClick:e[2]||(e[2]=(...p)=>s.refreshAuditLog&&s.refreshAuditLog(...p)),disabled:s.isLoading,class:"btn-secondary text-sm"},[I(c,{class:ee(["h-4 w-4 mr-2",{"animate-spin":s.isLoading}])},null,8,["class"]),e[12]||(e[12]=N(" Actualizar ",-1))],8,qT)])])])]),o("main",zT,[o("div",WT,[o("div",GT,[o("div",KT,[o("div",YT,[o("div",XT,[o("div",JT,[I(d,{class:"h-6 w-6 text-blue-500"})]),o("div",QT,[e[13]||(e[13]=o("p",{class:"text-sm font-medium text-secondary-600"},"Total Eventos",-1)),o("p",ZT,h(s.auditLogs.length),1)])])])]),o("div",e7,[o("div",t7,[o("div",s7,[o("div",n7,[I(u,{class:"h-6 w-6 text-success"})]),o("div",o7,[e[14]||(e[14]=o("p",{class:"text-sm font-medium text-secondary-600"},"Hoy",-1)),o("p",r7,h(s.eventosHoy),1)])])])]),o("div",a7,[o("div",i7,[o("div",l7,[o("div",c7,[I(f,{class:"h-6 w-6 text-warning"})]),o("div",d7,[e[15]||(e[15]=o("p",{class:"text-sm font-medium text-secondary-600"},"Eventos Críticos",-1)),o("p",u7,h(s.eventosCriticos),1)])])])]),o("div",f7,[o("div",m7,[o("div",p7,[o("div",h7,[I(m,{class:"h-6 w-6 text-primary-600"})]),o("div",g7,[e[16]||(e[16]=o("p",{class:"text-sm font-medium text-secondary-600"},"Usuarios Activos",-1)),o("p",v7,h(s.usuariosActivos),1)])])])])]),o("div",y7,[e[22]||(e[22]=o("div",{class:"card-header"},[o("h3",{class:"text-lg font-semibold text-secondary-900"},"Filtros de Auditoría")],-1)),o("div",_7,[o("div",b7,[o("div",null,[e[18]||(e[18]=o("label",{class:"block text-sm font-medium text-secondary-700 mb-2"}," Acción ",-1)),Y(o("select",{"onUpdate:modelValue":e[3]||(e[3]=p=>s.filters.action=p),class:"form-select w-full"},e[17]||(e[17]=[Ke('<option value="">Todas las acciones</option><option value="CREATE">Crear</option><option value="UPDATE">Actualizar</option><option value="DELETE">Eliminar</option><option value="LOGIN">Iniciar Sesión</option><option value="LOGOUT">Cerrar Sesión</option><option value="DISPENSE">Dispensar</option><option value="VALIDATE">Validar</option>',8)]),512),[[Ne,s.filters.action]])]),o("div",null,[e[19]||(e[19]=o("label",{class:"block text-sm font-medium text-secondary-700 mb-2"}," Usuario ",-1)),Y(o("input",{"onUpdate:modelValue":e[4]||(e[4]=p=>s.filters.user=p),type:"text",placeholder:"Nombre de usuario...",class:"form-input w-full"},null,512),[[ie,s.filters.user]])]),o("div",null,[e[20]||(e[20]=o("label",{class:"block text-sm font-medium text-secondary-700 mb-2"}," Fecha desde ",-1)),Y(o("input",{"onUpdate:modelValue":e[5]||(e[5]=p=>s.filters.dateFrom=p),type:"date",class:"form-input w-full"},null,512),[[ie,s.filters.dateFrom]])]),o("div",null,[e[21]||(e[21]=o("label",{class:"block text-sm font-medium text-secondary-700 mb-2"}," Fecha hasta ",-1)),Y(o("input",{"onUpdate:modelValue":e[6]||(e[6]=p=>s.filters.dateTo=p),type:"date",class:"form-input w-full"},null,512),[[ie,s.filters.dateTo]])])]),o("div",x7,[o("button",{onClick:e[7]||(e[7]=(...p)=>s.applyFilters&&s.applyFilters(...p)),class:"btn-primary"}," Aplicar Filtros "),o("button",{onClick:e[8]||(e[8]=(...p)=>s.clearFilters&&s.clearFilters(...p)),class:"btn-secondary"}," Limpiar ")])])]),o("div",w7,[e[27]||(e[27]=o("div",{class:"card-header"},[o("h3",{class:"text-lg font-semibold text-secondary-900"},"Registro de Auditoría")],-1)),o("div",C7,[s.isLoading?(y(),_("div",E7,e[23]||(e[23]=[o("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"},null,-1),o("p",{class:"mt-2 text-secondary-600"},"Cargando registro de auditoría...",-1)]))):s.filteredAuditLogs.length===0?(y(),_("div",k7,[I(g,{class:"mx-auto h-12 w-12 text-secondary-400"}),e[24]||(e[24]=o("h3",{class:"mt-2 text-lg font-medium text-secondary-900"},"Sin registros",-1)),e[25]||(e[25]=o("p",{class:"mt-1 text-secondary-600"},"No se encontraron registros de auditoría con los filtros aplicados.",-1))])):(y(),_("div",S7,[o("table",A7,[e[26]||(e[26]=o("thead",{class:"bg-secondary-50"},[o("tr",null,[o("th",{class:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider"}," Fecha/Hora "),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider"}," Usuario "),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider"}," Acción "),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider"}," Entidad "),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider"}," Detalles "),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider"}," IP "),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider"}," Estado ")])],-1)),o("tbody",R7,[(y(!0),_(he,null,Re(s.filteredAuditLogs,p=>(y(),_("tr",{key:p.id,class:"hover:bg-secondary-50"},[o("td",I7,h(s.formatDateTime(p.timestamp)),1),o("td",T7,[o("div",P7,[o("div",D7,[o("span",$7,h(s.getUserInitials(p.user)),1)]),o("div",null,[o("div",M7,h(p.user),1),o("div",O7,h(p.user_role),1)])])]),o("td",N7,[o("span",{class:ee(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",s.getActionClass(p.action)])},h(s.getActionLabel(p.action)),3)]),o("td",L7,[N(h(p.entity_type)+" ",1),p.entity_id?(y(),_("span",U7,"#"+h(p.entity_id),1)):O("",!0)]),o("td",j7,h(p.details),1),o("td",B7,h(p.ip_address),1),o("td",F7,[o("span",{class:ee(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",s.getStatusClass(p.status)])},h(s.getStatusLabel(p.status)),3)])]))),128))])])]))])]),o("div",V7,[o("div",H7,[e[30]||(e[30]=o("div",{class:"card-header"},[o("h3",{class:"text-lg font-semibold text-secondary-900"},"Usuarios Más Activos")],-1)),o("div",q7,[s.topUsers.length===0?(y(),_("div",z7,e[28]||(e[28]=[o("p",{class:"text-secondary-600"},"No hay datos de actividad disponibles",-1)]))):(y(),_("div",W7,[(y(!0),_(he,null,Re(s.topUsers,(p,v)=>(y(),_("div",{key:p.user,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[o("div",G7,[o("div",K7,h(v+1),1),o("div",null,[o("span",Y7,h(p.user),1),o("div",X7,h(p.role),1)])]),o("div",J7,[o("span",Q7,h(p.count),1),e[29]||(e[29]=o("div",{class:"text-xs text-secondary-600"},"acciones",-1))])]))),128))]))])]),o("div",Z7,[e[32]||(e[32]=o("div",{class:"card-header"},[o("h3",{class:"text-lg font-semibold text-secondary-900"},"Acciones Más Frecuentes")],-1)),o("div",eP,[s.topActions.length===0?(y(),_("div",tP,e[31]||(e[31]=[o("p",{class:"text-secondary-600"},"No hay datos de acciones disponibles",-1)]))):(y(),_("div",sP,[(y(!0),_(he,null,Re(s.topActions,(p,v)=>(y(),_("div",{key:p.action,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[o("div",nP,[o("div",oP,h(v+1),1),o("span",rP,h(s.getActionLabel(p.action)),1)]),o("span",aP,h(p.count),1)]))),128))]))])])])])])])}const lP=Se(LT,[["render",iP]]),cP=[{path:"/login",name:"login",component:y1,meta:{requiresAuth:!1}},{path:"/",name:"dashboard",component:_g,meta:{requiresAuth:!0}},{path:"/atencion-usuario",name:"atencion-usuario",component:u5,meta:{requiresAuth:!0,requiredPermissions:["create_patients","edit_patients"]}},{path:"/validacion",name:"validacion",component:uk,meta:{requiresAuth:!0,requiredPermissions:["validate_recipes"]}},{path:"/farmacia",name:"farmacia",component:A6,meta:{requiresAuth:!0,requiredPermissions:["dispense_pharmacy"]}},{path:"/cmi",name:"cmi",component:ZE,meta:{requiresAuth:!0,requiredPermissions:["dispense_cmi"]}},{path:"/prescripcion",name:"prescripcion",component:qS,meta:{requiresAuth:!0,requiredPermissions:["create_recipes"]}},{path:"/recetas-completadas",name:"recetas-completadas",component:eR,meta:{requiresAuth:!0,requiredPermissions:["validate_recipes","dispense_pharmacy","dispense_cmi"]}},{path:"/reportes",name:"reportes",component:vI,meta:{requiresAuth:!0,requiredPermissions:["validate_recipes"]}},{path:"/inventario",name:"inventario",component:I8,meta:{requiresAuth:!0,requiredPermissions:["dispense_pharmacy"]}},{path:"/notificaciones",name:"notificaciones",component:NT,meta:{requiresAuth:!0,requiredPermissions:["validate_recipes","dispense_pharmacy","dispense_cmi"]}},{path:"/auditoria",name:"auditoria",component:lP,meta:{requiresAuth:!0,adminOnly:!0}},{path:"/:pathMatch(.*)*",redirect:"/"}],Ld=C0({history:Qp(),routes:cP});Ld.beforeEach(async(t,e,n)=>{const s=Go();if(!s.isAuthenticated&&localStorage.getItem("access_token"))try{await s.initializeAuth()}catch(r){console.error("Error initializing auth:",r)}if(t.meta.requiresAuth&&!s.isAuthenticated){n("/login");return}if(t.name==="login"&&s.isAuthenticated){n("/");return}if(t.meta.adminOnly&&s.isAuthenticated&&s.userRole!=="ADMIN"){n("/");return}if(t.meta.requiredPermissions&&s.isAuthenticated&&!t.meta.requiredPermissions.some(a=>s.hasPermission(a))){n("/");return}n()});const dP={name:"App"},uP={id:"app",class:"min-h-screen bg-background-main"};function fP(t,e,n,s,r,a){const i=$("router-view");return y(),_("div",uP,[I(i)])}const mP=Se(dP,[["render",fP]]);const Xo=pc(mP);Xo.use(_m());Xo.use(Ld);Xo.use(xp,{timeout:5e3,position:"top-right",closeOnClick:!0,pauseOnHover:!0,draggable:!0,toastDefaults:{success:{toastClassName:"success-toast",bodyClassName:"success-body"},error:{toastClassName:"error-toast",bodyClassName:"error-body"},warning:{toastClassName:"warning-toast",bodyClassName:"warning-body"}}});Xo.mount("#app");
